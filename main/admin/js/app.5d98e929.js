(function(t){function e(e){for(var a,s,r=e[0],l=e[1],c=e[2],p=0,g=[];p<r.length;p++)s=r[p],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&g.push(n[s][0]),n[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(g.length)g.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],a=!0,r=1;r<i.length;r++){var l=i[r];0!==n[l]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=i[0]))}return t}var a={},n={app:0},o=[];function s(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=a,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(i,a,function(e){return t[e]}.bind(null,a));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/admin/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"164e":function(t,e){t.exports=echarts},"3bf5":function(t,e,i){"use strict";i("c3b7")},4765:function(t,e,i){},"4e72":function(t,e){t.exports=antd},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("8bbf"),n=i.n(a),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("a-config-provider",{attrs:{locale:t.locale}},[i("a-layout",{staticStyle:{height:"100vh",width:"100%",position:"relative"}},[i("a-layout-header",{staticStyle:{height:"50px",width:"100%",background:"rgb(0, 33, 64)","box-shadow":"rgb(27 26 26) 0px 0px 9px 0px",padding:"0 20px",position:"absolute"}},[i("div",{staticStyle:{width:"180px",height:"100%",display:"inline-block","line-height":"50px",color:"white","vertical-align":"top","font-size":"18px","font-weight":"bolder"}},[t._v("髓扬帝SCUM日志平台")]),i("div",{staticStyle:{"margin-left":"20px",width:"calc(100% - 200px)",height:"100%",display:"inline-block","line-height":"50px",color:"white","vertical-align":"top","text-align":"right","white-space":"nowrap","overflow-x":"auto"}},[t.userInfo&&null!==t.userInfo.userName?i("div",{staticStyle:{float:"left",display:"inline-block","vertical-align":"top","min-width":"200px"}},[i("span",[t._v("服务器在线人数：")]),i("span",{staticStyle:{"margin-left":"5px"}},[t._v(t._s(t.serverStatus.OnlinePlayers||"暂无信息"))]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v("服务器IP地址：")]),i("span",{staticStyle:{"margin-left":"5px"}},[t._v(t._s(t.serverStatus.ServerIP||"暂无信息"))])]):t._e(),i("div",{staticStyle:{"max-width":"150px","min-width":"100px","text-align":"right",display:"inline-block","vertical-align":"top"}},[t.userInfo&&null!==t.userInfo.userName?i("a-dropdown",[i("div",{staticStyle:{cursor:"pointer"}},[i("a-avatar",{staticStyle:{transform:"translateY(-2px)"},attrs:{size:32,icon:"user"}}),i("span",{staticStyle:{"margin-left":"10px",width:"auto"}},[t._v(t._s(t.userInfo.userName))])],1),i("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[i("a-menu-item",[i("span",{staticStyle:{cursor:"pointer"},on:{click:t.logout}},[t._v("退出登录")])])],1)],1):t._e()],1)])]),t.loginLoading?i("Loading",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticStyle:{width:"100%",height:"calc(100vh - 50px)",top:"50px",position:"absolute"},attrs:{tip:"加载中"}}):i("a-layout",{staticStyle:{width:"100%",height:"calc(100vh - 50px)",top:"50px",position:"absolute"}},[t.userInfo&&null!==t.userInfo.userName?i("a-layout-sider",{staticStyle:{height:"100%",width:"240px",flex:"0 0 240px",background:"#001529"},attrs:{width:"240",collapsible:!0,collapsed:t.isMenuCollapsed,trigger:null}},[i("a-menu",{staticStyle:{height:"calc(100% - 96px)","overflow-y":"auto"},attrs:{mode:"inline",theme:"dark",selectedKeys:[t.currentRoute]},on:{select:t.gotoPath}},[i("a-menu-item",{key:"server-info"},[i("a-row",{staticStyle:{width:"100%"}},[i("a-col",{staticStyle:{display:"inline-block",width:"20px","vertical-align":"top"}},[i("a-icon",{staticStyle:{color:"yellow"},attrs:{type:"fund",theme:"filled"}})],1),i("a-col",{staticStyle:{display:"inline-block",width:"calc(100% - 25px)","margin-left":"5px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"top"}},[i("div",{staticStyle:{width:"100%",height:"20px","line-height":"20px"}},[i("span",[t._v("排名：")]),t.serverStatus&&t.serverStatus.ServerDetail?i("strong",{staticStyle:{color:"lightgreen"}},[t._v("No."+t._s(t.serverStatus.ServerDetail.rank))]):i("strong",{staticStyle:{color:"red"}},[t._v("-")])]),i("div",{staticStyle:{width:"100%",height:"20px","line-height":"20px"}},[i("span",[t._v("地区：")]),t.serverStatus&&t.serverStatus.ServerDetail?i("strong",{staticStyle:{color:"yellow"}},[t._v(t._s(t.serverStatus.ServerDetail.country))]):i("strong",{staticStyle:{color:"red"}},[t._v("-")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v("服务器：")]),t.serverStatus&&t.serverStatus.ServerDetail?i("strong",["online"===t.serverStatus.ServerDetail.status?i("span",{staticStyle:{color:"lightgreen"}},[t._v("在线")]):i("span",{staticStyle:{color:"red"}},[t._v("异常")])]):i("strong",{staticStyle:{color:"red"}},[t._v("-")])])])],1)],1),t._l(t.menuData,(function(e){return i("a-menu-item",{key:e.path},[i("a-row",{staticStyle:{width:"100%"}},[i("a-col",{staticStyle:{display:"inline-block",width:"20px","vertical-align":"top"}},[i("a-icon",{attrs:{type:"menu-unfold"}})],1),i("a-col",{staticStyle:{display:"inline-block",width:"calc(100% - 25px)","margin-left":"5px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"top"}},[t._v(" "+t._s(e.text)+" ")])],1)],1)}))],2),i("div",{staticStyle:{width:"100%",height:"48px",color:"white",padding:"0 20px"}},[i("div",{staticStyle:{width:"100%",height:"24px","line-height":"24px",cursor:"pointer"},on:{click:function(){return t.window.open("http://wpa.qq.com/msgrd?v=3&uin=1065617282&site=qq&menu=yes","_blank")}}},[i("a-icon",{staticStyle:{"font-size":"18px",transform:"translateY(2px)"},attrs:{type:"qq"}}),i("span",{staticStyle:{"margin-left":"5px"}},[t._v("工具作者:")]),i("span",{staticStyle:{"margin-left":"5px","font-weight":"bolder"}},[t._v("髓扬帝")])],1),i("div",{staticStyle:{width:"100%",height:"24px","line-height":"24px",cursor:"pointer"},on:{click:function(){return t.window.open("http://qm.qq.com/cgi-bin/qm/qr?_wv=1027&k=0sA5p3quJ3iyBs0HAhtNiBSwti2xe72N&authKey=SNz1c5HS2PIouEHs49R6R6h1FQzbNwiavOyGouR83uLv1qrvLohGm9WSdea4jAtg&noverify=0&group_code=950601137","_blank")}}},[i("a-icon",{staticStyle:{"font-size":"18px",transform:"translateY(2px)"},attrs:{type:"usergroup-add"}}),i("span",{staticStyle:{"margin-left":"5px"}},[t._v("咨询讨论群:")]),i("span",{staticStyle:{"margin-left":"5px","font-weight":"bolder","font-style":"oblique"}},[t._v("950601137")])],1),i("div",{staticStyle:{width:"100%",height:"24px","line-height":"24px"}})]),i("div",{staticStyle:{height:"48px",width:"100%","text-align":"center","line-height":"48px",cursor:"pointer"},on:{click:function(e){t.isMenuCollapsed=!t.isMenuCollapsed}}},[i("a-icon",{staticStyle:{color:"white"},attrs:{type:t.isMenuCollapsed?"right":"left"}})],1)],1):t._e(),i("a-layout-content",{staticStyle:{width:"100%",height:"100%",position:"relative",overflow:"auto"}},[i("router-view")],1)],1)],1)],1)],1)},s=[],r=i("15fd"),l=i("1da1"),c=i("5530"),d=(i("96cf"),i("2ca0"),i("ac1f"),i("1276"),i("677e")),p=i.n(d),g=(i("d3b7"),i("159b"),i("25f0"),i("cebe")),u=i.n(g),m=i("e63d"),h=i.n(m);window.axiosRequests=[];var f=function(t){var e=t.baseURL,i=t.headers,a=u.a.create({baseURL:e,headers:Object(c["a"])({"with-credentials":!0},i),timeout:6e5});return a.defaults.withCredentials=!0,a.interceptors.request.use((function(t){return-1===t.url.indexOf("/authAdminSys/login")&&(t.cancelToken=new u.a.CancelToken((function(t){window.axiosRequests.push({cancel:t})}))),t})),a.interceptors.response.use((function(t){if(!(t.status>=200&&t.status<300))return h.a.error("系统错误："+t.url),Promise.reject(new Error("http ".concat(t)));if(200===t.data.status)return Promise.resolve(t.data);if(6e4!==t.data.status)return h.a.error(t.data.msg||t.data.data.msg),Promise.resolve(t.data);window.axiosRequests.forEach((function(t,e){t.cancel(),delete window.axiosRequests[e]})),h.a.error("未登录");var e=2===window.location.href.split("#").length?window.location.href.split("#")[0]:"/";window.location.href=e+"#/login",location.reload()}),(function(t){return t.toString().startsWith("Cancel")||h.a.error("系统错误："+t),Promise.reject(new Error("系统错误：".concat(t)))})),a},v=f,y=function(t){var e=v({baseURL:"",headers:{}})(Object.assign(t,{serviceType:"".concat("","_scum_log_tool")}));return e.finally((function(){e=null})),e},x=[{path:"user-login",text:"所有登录退出记录"},{path:"kill",text:"所有击杀记录"},{path:"admin-command",text:"管理员指令日志管理"},{path:"chat-message",text:"游戏聊天记录管理"},{path:"actions-record",text:"游戏行为记录管理"},{path:"violations-record",text:"违规日志记录管理"},{path:"economy",text:"NPC交易日志记录管理"},{path:"chest-ownership-record",text:"箱子归属日志记录管理"},{path:"vehicle-destruction-record",text:"载具销毁日志记录管理"},{path:"unrecognized-record",text:"未识别日志记录管理"},{path:"serverConfigs",text:"商城配置管理"},{path:"tools",text:"实用工具集"}],S=i("5880"),w=i.n(S),b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("div",{staticStyle:{width:"100%",height:"100%"}},[i("div",{staticStyle:{position:"absolute",width:"100%",height:"100%",display:"table",background:"white",opacity:"75%"}}),i("div",{staticStyle:{position:"absolute",width:"100%",height:"100%",display:"table"}},[i("div",{staticStyle:{width:"100%",height:"100%",display:"table-cell","vertical-align":"middle"}},[i("div",{staticStyle:{width:"100%",display:"block","text-align":"center"}},[i("a-spin",{attrs:{tip:t.tip}})],1)])])]):t._e()},L=[],k={name:"Loading",props:{show:{type:Boolean,default:!0},tip:{type:String,default:""}}},I=k,_=i("2877"),F=Object(_["a"])(I,b,L,!1,null,"76408572",null),P=F.exports,C=["userDollar"],T={name:"",components:{Loading:P},data:function(){return{locale:p.a,menuData:x,isMenuCollapsed:!1,isAlive:!0,window:window}},computed:Object(c["a"])(Object(c["a"])({},Object(S["mapState"])(["userInfo","serverStatus","loginLoading"])),{},{currentRoute:function(){return this.$route.fullPath.startsWith("/")?this.$route.fullPath.substring(1,this.$route.fullPath.length).split("?")[0]:this.$route.fullPath}}),watch:{$route:function(t){this.checkUser(t.path)}},mounted:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.checkUser(t.$route.path);case 2:t.checkServerStatusRollback(),t.getUpdateMsg();case 4:case"end":return e.stop()}}),e)})))()},methods:{checkUser:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(console.log(t),!t.startsWith("/login")){i.next=3;break}return i.abrupt("return");case 3:if(e.userInfo&&null!==e.userInfo.userName){i.next=16;break}return i.prev=4,e.$store.commit("setLoginLoading",!0),i.next=8,y({method:"GET",url:"/userAdminSys/checkUserInfo"});case 8:a=i.sent,e.$store.commit("setLoginLoading",!1),200===a.status?(n=a.data,n.userDollar,o=Object(r["a"])(n,C),e.$store.commit("setUserInfo",o),e.getScumMapConfigs()):e.$router.push({path:"/login"}),i.next=16;break;case 13:i.prev=13,i.t0=i["catch"](4),console.log(i.t0);case 16:case"end":return i.stop()}}),i,null,[[4,13]])})))()},checkServerStatusRollback:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isAlive){e.next=2;break}return e.abrupt("return");case 2:if(!t.userInfo||null===t.userInfo.userName){e.next=17;break}return e.prev=3,e.next=6,y({method:"GET",url:"/serverConfigAdminSys/serverStatus"});case 6:i=e.sent,a={ServerIP:null,OnlinePlayers:null},200===i.status&&(a.ServerIP=i.data.ServerIP,a.OnlinePlayers=i.data.OnlinePlayers,a.ServerDetail=i.data.ServerDetail),t.$store.commit("setServerStatus",a),setTimeout((function(){t.checkServerStatusRollback()}),3e4),e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](3),setTimeout((function(){t.checkServerStatusRollback()}),3e4),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))()},getUpdateMsg:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i,a,n,o,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y({method:"GET",url:"/sys/updateMsg"});case 3:i=e.sent,200===i.status&&"1"!==localStorage.getItem(null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.updateDate)&&(localStorage.setItem(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.updateDate,"1"),s=t.$createElement,r=t.$info({title:"更新提醒，请前往Github下载最新版本(".concat(null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.version,")"),content:s("div",{domProps:{innerHTML:i.data.detail}},[]),onOk:function(){r.destroy()}})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getScumMapConfigs:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y({method:"GET",url:"/serverConfigAdminSys/scumMapConfigs"});case 3:i=e.sent,200===i.status&&(t.$store.commit("setMapBorder",i.data.GameMapBorderInfo),a=new Image,a.src=i.data.GameMapImageUrl,a.onload=function(){t.$store.commit("setScumMapImageObject",a)}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},gotoPath:function(t){this.$router.push({path:"/".concat(t.key)})},logout:function(){var t=this;y({method:"GET",url:"/authAdminSys/logout"}).then((function(e){t.$router.push({path:"/login"}),location.reload()}))}},beforeDestroy:function(){this.isAlive=!1}},A=T,R=(i("5c0b"),Object(_["a"])(A,o,s,!1,null,null,null)),G=R.exports,M=i("6389"),D=i.n(M),O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%"}},[i("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:"服务器信息"}}),i("div",{staticStyle:{width:"100%",height:"calc(100% - 66px)",padding:"15px","padding-top":"0"}},[i("div",{staticStyle:{width:"100%",height:"100%",background:"white","overflow-y":"auto",padding:"10px"}},[t.serverStatus&&t.serverStatus.ServerDetail?[i("a-descriptions",{attrs:{bordered:"",size:"small"}},[i("a-descriptions-item",{attrs:{label:"服务器名字",span:3}},[t._v(t._s(t.serverStatus.ServerDetail.name))]),i("a-descriptions-item",{attrs:{label:"服务器IP",span:2}},[t._v(t._s(t.serverStatus.ServerDetail.ip)+":"+t._s(t.serverStatus.ServerDetail.port))]),i("a-descriptions-item",{attrs:{label:"地区"}},[t._v(t._s(t.serverStatus.ServerDetail.country))]),i("a-descriptions-item",{attrs:{label:"人数",span:2}},[t._v(t._s(t.serverStatus.ServerDetail.players)+"/"+t._s(t.serverStatus.ServerDetail.maxPlayers))]),i("a-descriptions-item",{attrs:{label:"状态"}},[i("a-badge",{attrs:{status:"online"===t.serverStatus.ServerDetail.status?"processing":"error",text:"online"===t.serverStatus.ServerDetail.status?"在线":"异常"}})],1),i("a-descriptions-item",{attrs:{label:"排名",span:2}},[t._v("No."+t._s(t.serverStatus.ServerDetail.rank))]),i("a-descriptions-item",{attrs:{label:"游戏服务器版本"}},[t._v(t._s(t.serverStatus.ServerDetail.details.version))])],1),t._m(0),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%",height:"230px"},attrs:{id:"rankHistoryChart"}}),t._m(1),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%",height:"230px"},attrs:{id:"playerCountHistoryChart"}})]:[i("div",{staticStyle:{width:"100%",height:"200px","line-height":"200px","text-align":"center"}},[t._v("暂无数据，请刷新网页或检查BattleMetric ID是否已经设置")])]],2)])],1)},$=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"24px",position:"relative",background:"white","margin-top":"10px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"calc(100% - 80px)",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top","overflow-x":"auto","white-space":"nowrap"}},[i("span",[t._v("服务器历史排名数据")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"24px",position:"relative",background:"white","margin-top":"10px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"calc(100% - 80px)",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top","overflow-x":"auto","white-space":"nowrap"}},[i("span",[t._v("服务器玩家数量统计")])])])}],z=i("2909"),N=(i("4e82"),i("d81d"),i("c32d")),E=i.n(N),H={name:"ServerInfo",components:{},computed:Object(c["a"])({},Object(S["mapState"])(["serverStatus"])),data:function(){return{moment:E.a,loadingHistory:!1,rankHistory:{},playerCountHistory:{}}},mounted:function(){this.getHistoryList()},methods:{getHistoryList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i,a,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loadingHistory=!0,e.prev=1,e.next=4,y({method:"GET",url:"/serverConfigAdminSys/rankHistory"});case 4:return i=e.sent,200===i.status&&t.$set(t,"rankHistory",null===(a=i.data)||void 0===a?void 0:a.data.sort((function(t,e){return E()(t.attributes.timestamp).valueOf()-E()(e.attributes.timestamp).valueOf()}))),e.next=8,y({method:"GET",url:"/serverConfigAdminSys/playerCountHistory"});case 8:n=e.sent,t.loadingHistory=!1,200===n.status&&t.$set(t,"playerCountHistory",null===(o=n.data)||void 0===o?void 0:o.data.sort((function(t,e){return E()(t.attributes.timestamp).valueOf()-E()(e.attributes.timestamp).valueOf()}))),t.$nextTick((function(){t.draw()})),e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](1),console.error(e.t0),t.loadingHistory=!1;case 18:case"end":return e.stop()}}),e,null,[[1,14]])})))()},draw:function(){var t=this.$echarts.init(document.getElementById("rankHistoryChart")),e=Math.max.apply(Math,Object(z["a"])(this.rankHistory.map((function(t){return t.attributes.value})))),i=Math.min.apply(Math,Object(z["a"])(this.rankHistory.map((function(t){return t.attributes.value})))),a=this.rankHistory.map((function(t){return{value:e-t.attributes.value+1,label:{show:!0,position:"top",formatter:t.attributes.value+"",color:t.attributes.value===e?"green":t.attributes.value===i?"red":"black",fontWeight:t.attributes.value===e||t.attributes.value===i?"bolder":"normal"},itemStyle:{borderRadius:[20,20,0,0]}}}));t.setOption({xAxis:{type:"category",data:this.rankHistory.map((function(t){return E()(t.attributes.timestamp).format("YYYY-MM-DD")}))},yAxis:{type:"value",max:function(t){return t.max},min:0,show:!1},series:[{type:"bar",data:a}]});var n=this.$echarts.init(document.getElementById("playerCountHistoryChart")),o=Math.max.apply(Math,Object(z["a"])(this.playerCountHistory.map((function(t){return t.attributes.max})))),s=Math.min.apply(Math,Object(z["a"])(this.playerCountHistory.map((function(t){return t.attributes.max})))),r=Math.max.apply(Math,Object(z["a"])(this.playerCountHistory.map((function(t){return t.attributes.value})))),l=Math.min.apply(Math,Object(z["a"])(this.playerCountHistory.map((function(t){return t.attributes.value})))),c=Math.max.apply(Math,Object(z["a"])(this.playerCountHistory.map((function(t){return t.attributes.min})))),d=Math.min.apply(Math,Object(z["a"])(this.playerCountHistory.map((function(t){return t.attributes.min})))),p=this.playerCountHistory.map((function(t){return{value:t.attributes.max,label:{show:t.attributes.max===o||t.attributes.max===s,position:"top",formatter:t.attributes.max+"",color:t.attributes.max===o?"green":t.attributes.max===s?"red":"black",fontWeight:t.attributes.max===o||t.attributes.max===s?"bolder":"normal"}}})),g=this.playerCountHistory.map((function(t){return{value:t.attributes.value,label:{show:t.attributes.value===r||t.attributes.value===l,position:"top",formatter:t.attributes.value+"",color:t.attributes.value===r?"green":t.attributes.value===l?"red":"black",fontWeight:t.attributes.value===r||t.attributes.value===l?"bolder":"normal"}}})),u=this.playerCountHistory.map((function(t){return{value:t.attributes.min,label:{show:t.attributes.min===c||t.attributes.min===d,position:"top",formatter:t.attributes.min+"",color:t.attributes.min===c?"green":t.attributes.min===d?"red":"black",fontWeight:t.attributes.min===c||t.attributes.min===d?"bolder":"normal"}}}));n.setOption({xAxis:{type:"category",boundaryGap:!1,data:this.playerCountHistory.map((function(t){return E()(t.attributes.timestamp).format("YYYY-MM-DD")}))},yAxis:{type:"value"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["最大玩家数量","平均玩家数量","最小玩家数量"]},series:[{name:"最大玩家数量",type:"line",stack:"Total",smooth:!0,areaStyle:{},emphasis:{focus:"series"},data:p},{name:"平均玩家数量",type:"line",stack:"Total",smooth:!0,areaStyle:{},emphasis:{focus:"series"},data:g},{name:"最小玩家数量",type:"line",stack:"Total",smooth:!0,areaStyle:{},emphasis:{focus:"series"},data:u}]})}}},U=H,j=Object(_["a"])(U,O,$,!1,null,"54c594d5",null),Y=j.exports,B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%"}},[i("div",{staticStyle:{position:"absolute",width:"100%",height:"100%","background-repeat":"no-repeat","background-size":"100% 100%",opacity:"40%"},style:{backgroundImage:"url("+t.backgroundImgUrl+")"}}),i("div",{staticStyle:{position:"absolute",width:"100%",height:"100%",display:"table"}},[i("div",{staticStyle:{width:"100%",display:"table-cell","vertical-align":"middle"}},[i("div",{staticStyle:{display:"inline-block","text-align":"center",width:"100%"}},[i("a-card",{staticStyle:{width:"75%","max-width":"500px","min-height":"270px","border-radius":"4px",display:"inline-block"},attrs:{bordered:!0}},[i("div",{staticStyle:{"font-weight":"bolder","text-align":"left"},attrs:{slot:"title"},slot:"title"},[t._v("登录")]),i("a-form-model",{ref:"loginForm",attrs:{model:t.loginForm,rules:t.rules,"label-col":{span:6},"wrapper-col":{span:14}}},[i("a-form-model-item",{attrs:{label:"手机号",prop:"user"}},[i("a-input",{attrs:{placeholder:"请输入用户手机号(+国际区号，中国: +86)"},model:{value:t.loginForm.user,callback:function(e){t.$set(t.loginForm,"user",e)},expression:"loginForm.user"}})],1),i("a-form-model-item",{attrs:{label:"密码",prop:"password"}},[i("a-input",{attrs:{type:"password"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1)],1),i("div",{staticStyle:{width:"100%","margin-top":"20px","text-align":"center"}},[i("a-button",{attrs:{type:"primary",loading:t.submitLogin},on:{click:t.login}},[t._v("提交")])],1)],1)],1)])])])},q=[],K={name:"Login",computed:Object(c["a"])({},Object(S["mapState"])(["userInfo"])),mounted:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.checkLogin();case 2:case"end":return e.stop()}}),e)})))()},data:function(){return{backgroundImgUrl:"",submitLogin:!1,loginForm:{user:"",password:""},rules:{user:[{required:!0,trigger:"change",message:"请输入用户手机号(+国际区号，中国: +86)",validator:function(t,e,i){e&&e.length?i():i(new Error("请输入用户手机号(+国际区号，中国: +86)"))}}],password:[{required:!0,trigger:"change",message:"请输入密码",validator:function(t,e,i){e&&e.length?i():i(new Error("请输入密码"))}}]}}},methods:{checkLogin:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y({method:"GET",url:"/authAdminSys/checkValid"});case 3:i=e.sent,200===i.status&&i.data&&i.data.result&&t.$router.push({path:"/"}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},login:function(){var t=this;this.$refs.loginForm.validate((function(e){if(e){var i=t.loginForm;i.user.startsWith("+")||(i.user="+86"+i.user),t.submitLogin=!0,y({method:"POST",url:"/authAdminSys/login",data:i}).then((function(e){t.submitLogin=!1,200===e.status&&t.$router.push({path:"/user-login"})})).error((function(e){console.log(e),t.submitLogin=!1}))}}))}}},V=K,W=Object(_["a"])(V,B,q,!1,null,"6f7a616f",null),X=W.exports,Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%"}},[i("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:"登录退出记录列表"}}),i("div",{staticStyle:{width:"100%",height:"calc(100% - 66px)",padding:"15px","padding-top":"0"}},[i("div",{staticStyle:{width:"100%",height:"100%",background:"white","overflow-y":"auto",padding:"10px"}},[i("a-tabs",{attrs:{type:"card"},on:{change:function(e){t.$router.push({path:"/user-login",query:{category:e}})}},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[i("a-tab-pane",{key:"all",attrs:{tab:"全部登录退出记录"}},["all"===t.currentTab?i("All"):t._e()],1),t._e()],1)],1)])],1)},J=[],Q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%"}},[i("div",{staticStyle:{width:"100%",height:"calc(100% - 66px)",padding:"15px","padding-top":"0"}},[i("div",{staticStyle:{width:"100%",height:"100%",background:"white","overflow-y":"auto",padding:"10px"}},[i("a-collapse",{staticStyle:{background:"none"},attrs:{"default-active-key":"1",bordered:!1}},[i("a-collapse-panel",{key:"1",staticStyle:{border:"none"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("搜索过滤条件")]),t.userInfo&&"sysAdmin"===t.userInfo.role?[i("a-popconfirm",{attrs:{placement:"right",title:"确定要清空登录退出记录列表吗?这会导致所有登录退出奖励重新结算!"},on:{confirm:t.cleanUserLogin}},[i("a-button",{staticStyle:{float:"right"},attrs:{size:"small",icon:"delete",type:"danger",loading:t.cleanLoading}},[t._v("清空所有登录退出记录")])],1)]:t._e(),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small",type:"primary",icon:"filter"},nativeOn:{click:function(e){return e.stopPropagation(),t.onUserLoginListFilter.apply(null,arguments)}}},[t._v("过滤")]),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.onUserLoginListCleanFilter.apply(null,arguments)}}},[t._v("清空过滤 / 刷新")])],2),i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.userLoginListFilter.steamId,callback:function(e){t.$set(t.userLoginListFilter,"steamId",e)},expression:"userLoginListFilter.steamId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("商城用户名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.userLoginListFilter.userName,callback:function(e){t.$set(t.userLoginListFilter,"userName",e)},expression:"userLoginListFilter.userName"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("游戏名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.userLoginListFilter.scumId,callback:function(e){t.$set(t.userLoginListFilter,"scumId",e)},expression:"userLoginListFilter.scumId"}})],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("记录状态:")]),i("a-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{allowClear:""},model:{value:t.userLoginListFilter.type,callback:function(e){t.$set(t.userLoginListFilter,"type",e)},expression:"userLoginListFilter.type"}},t._l(t.typeList,(function(e){return i("a-select-option",{key:e.value,attrs:{title:e.label}},[t._v(t._s(e.label))])})),1),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("登入时间:")]),i("a-range-picker",{staticStyle:{width:"320px","margin-left":"10px"},attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:[t.userLoginListFilter.timestampStart,t.userLoginListFilter.timestampEnd],allowClear:""},on:{change:function(e){t.$set(t.userLoginListFilter,"timestampStart",e[0]),t.$set(t.userLoginListFilter,"timestampEnd",e[1])}}})],1)])],1),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.userLoginListColumns,"data-source":t.userLoginListData,expandedRowKeys:t.expandedUserLoginIds,"row-key":"id",pagination:!1,loading:t.loadingUserLoginListTable,bordered:"",scroll:{x:"100%"},size:"small"},on:{expand:function(e,i){if(e)void 0===t.expandedUserLoginIds.find((function(t){return t===i.id}))&&t.expandedUserLoginIds.push(i.id);else{var a=Object.keys(t.expandedUserLoginIds).find((function(e){return t.expandedUserLoginIds[e]===i.id}));void 0!==a&&t.expandedUserLoginIds.splice(a,1)}}},scopedSlots:t._u([{key:"steamId",fn:function(e,a){return[i("span",{style:{color:a.otherConfig&&!0===a.otherConfig.illegalDrone?"#f5222d":"login"===a.status?"#52c41a":"black"}},[t._v(t._s(e))])]}},{key:"scumId",fn:function(e,a){return[i("span",{style:{color:a.otherConfig&&!0===a.otherConfig.illegalDrone?"#f5222d":"login"===a.status?"#52c41a":"black"}},[t._v(t._s(e))]),a.userLoginUser&&a.userLoginUser.userName?i("span",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(){return t.$router.push({path:"/user",query:{userName:a.userLoginUser.userName}})}}},[t._v("("+t._s(a.userLoginUser.userName)+")")]):t._e(),a.otherConfig&&!0===a.otherConfig.asDrone?i("a-icon",{staticStyle:{"margin-left":"3px"},style:{color:a.otherConfig&&!0===a.otherConfig.illegalDrone?"#f5222d":"login"===a.status?"#52c41a":"black"},attrs:{type:"robot"}}):t._e()]}},{key:"loginTimeStamp",fn:function(e,a){return[i("span",{style:{color:a.otherConfig&&!0===a.otherConfig.illegalDrone?"#f5222d":"login"===a.status?"#52c41a":"black"}},[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}},{key:"logoutTimeStamp",fn:function(e,a){return[i("span",{style:{color:a.otherConfig&&!0===a.otherConfig.illegalDrone?"#f5222d":"login"===a.status?"#52c41a":"black"}},[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}},{key:"status",fn:function(e){return[i("a-tag",{attrs:{color:void 0!==t.typeList.find((function(t){return t.value===e}))?t.typeList.find((function(t){return t.value===e})).color:"grey"}},[t._v(" "+t._s(void 0!==t.typeList.find((function(t){return t.value===e}))?t.typeList.find((function(t){return t.value===e})).label:e)+" ")])]}},{key:"loginIp",fn:function(e,a){return[i("span",{style:{color:a.otherConfig&&!0===a.otherConfig.illegalDrone?"#f5222d":"login"===a.status?"#52c41a":"black"}},[t._v(t._s(e))])]}},{key:"sessionId",fn:function(e,a){return[i("span",{style:{color:a.otherConfig&&!0===a.otherConfig.illegalDrone?"#f5222d":"login"===a.status?"#52c41a":"black"}},[t._v(t._s(e))])]}},{key:"expandedRowRender",fn:function(e){return i("div",{staticStyle:{margin:"0"}},[t.expandedUserLoginIds.find((function(t){return t===e.id}))?[e.otherConfig?[!e.otherConfig||void 0===e.otherConfig.asDrone&&void 0===e.otherConfig.illegalDrone?t._e():[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("管理权限相关信息")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("登录形态:")]),i("strong",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(!0===e.otherConfig.asDrone?"无人机":"玩家"))])]),e.otherConfig&&!0===e.otherConfig.illegalDrone?i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("违规嫌疑:")]),i("strong",{staticStyle:{color:"#f5222d","margin-left":"10px"}},[t._v("该玩家无服务器管理员身份且尝试以无人机形态登录")])]):t._e()],e.otherConfig&&void 0!==e.otherConfig.loginLocations&&void 0!==e.otherConfig.loginArea?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("坐标信息详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("登录坐标(区域):")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.otherConfig.loginLocations)),i("strong",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.otherConfig.loginArea)+")")])])]),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("地图标识")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{height:"150px",width:"180px","padding-left":"10px"}},[i("map-locations",{attrs:{width:180,height:150,locations:e.otherConfig.loginLocations}})],1)]:t._e()]:t._e()]:t._e()],2)}}])}),i("a-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"show-size-changer":"","page-size":t.userLoginListPagination.pageSize,current:t.userLoginListPagination.pageNum,total:t.userLoginListPagination.total},on:{change:t.onChangeUserLoginListPagination,showSizeChange:t.onShowSizeChangeUserLoginListPagination}})],1)])])},tt=[],et=i("60bb"),it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:{width:(t.width||180)+"px",height:(t.height||150)+"px"}},[i("a-modal",{attrs:{centered:"",closable:!1,footer:null,header:!1,width:810},on:{close:function(e){t.showWholeMap=!1}},model:{value:t.showWholeMap,callback:function(e){t.showWholeMap=e},expression:"showWholeMap"}},[i("canvas",{ref:"map-locations-large",staticStyle:{width:"800px",height:"800px"}})]),i("canvas",{ref:"map-locations",style:{width:(t.width||180)+"px",height:(t.height||150)+"px"},on:{click:function(){t.showWholeMap=!0,t.drawMapLarge()}}})],1)},at=[],nt=i("3835"),ot=(i("a9e3"),i("cb29"),i("7db0"),{name:"MapLocations",props:{locations:{type:String},width:{type:Number},height:{type:Number}},computed:Object(c["a"])(Object(c["a"])({},Object(S["mapState"])(["scumMapBorder","scumMapImageObject"])),{},{combineAll:function(){return[this.locations,this.scumMapBorder,this.scumMapImageObject]}}),data:function(){return{showWholeMap:!1}},methods:{drawMap:function(t,e,i){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var o,s,r,l,c,d,p,g,u,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=t.split(","),s=Object(nt["a"])(o,2),r=s[0],l=s[1],n.next=3,new Promise((function(t){var e=setInterval((function(){void 0!==a.$refs["map-locations"]&&(clearInterval(e),t())}),100)}));case 3:c=a.$refs["map-locations"],d=c.getContext("2d"),c.width=a.width||180,c.height=a.height||150,p=i.width*((e.xMax-r)/(e.xMax-e.xMin))-.075*i.width,g=i.width*((e.xMax-r)/(e.xMax-e.xMin))+.075*i.width,u=i.height*((e.yMax-l)/(e.yMax-e.yMin))-.075*i.height*(a.height||150)/(a.width||180),m=i.height*((e.yMax-l)/(e.yMax-e.yMin))+.075*i.height*(a.height||150)/(a.width||180),d.drawImage(a.scumMapImageObject,p,u,g-p,m-u,0,0,a.width||150,a.height||120),d.globalAlpha=.15,d.fillStyle="red",d.beginPath(),d.arc((a.width||180)/2,(a.height||150)/2,.23*(a.width||180),2*Math.PI,0,!0),d.closePath(),d.fill(),d.globalAlpha=.45,d.fillStyle="red",d.beginPath(),d.arc((a.width||180)/2,(a.height||150)/2,.07*(a.width||180),2*Math.PI,0,!0),d.closePath(),d.fill();case 24:case"end":return n.stop()}}),n)})))()},drawMapLarge:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i,a,n,o,s,r,l,c,d,p,g,u,m,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.combineAll[0],a=t.combineAll[1],n=t.combineAll[2],o=3===i.split(",").length&&void 0===i.split(",").find((function(t){return!("string"===typeof t&&!isNaN(parseFloat(t)))})),s="number"===typeof a.xMax&&"number"===typeof a.xMin&&"number"===typeof a.yMax&&"number"===typeof a.yMin,r=n instanceof Image,o&&s&&r){e.next=8;break}return e.abrupt("return");case 8:return l=i.split(","),c=Object(nt["a"])(l,2),d=c[0],p=c[1],e.next=11,new Promise((function(e){var i=setInterval((function(){void 0!==t.$refs["map-locations"]&&(clearInterval(i),e())}),100)}));case 11:g=t.$refs["map-locations-large"],u=g.getContext("2d"),g.width=800,g.height=800,m=(a.xMax-d)/(a.xMax-a.xMin)*800,h=(a.yMax-p)/(a.yMax-a.yMin)*800,u.drawImage(t.scumMapImageObject,0,0,n.width,n.height,0,0,800,800),u.globalAlpha=.15,u.fillStyle="red",u.beginPath(),u.arc(m,h,30,2*Math.PI,0,!0),u.closePath(),u.fill(),u.globalAlpha=.45,u.fillStyle="red",u.beginPath(),u.arc(m,h,10,2*Math.PI,0,!0),u.closePath(),u.fill();case 30:case"end":return e.stop()}}),e)})))()}},watch:{combineAll:{immediate:!0,deep:!0,handler:function(t){var e=t[0],i=t[1],a=t[2],n=3===e.split(",").length&&void 0===e.split(",").find((function(t){return!("string"===typeof t&&!isNaN(parseFloat(t)))})),o="number"===typeof i.xMax&&"number"===typeof i.xMin&&"number"===typeof i.yMax&&"number"===typeof i.yMin,s=a instanceof Image;n&&o&&s&&this.drawMap(e,i,a)}}}}),st=ot,rt=(i("ab64"),Object(_["a"])(st,it,at,!1,null,"9966ccea",null)),lt=rt.exports,ct={name:"All",components:{MapLocations:lt},computed:Object(c["a"])({},Object(S["mapState"])(["userInfo"])),data:function(){return{moment:E.a,cleanLoading:!1,loadingUserLoginListTable:!1,userLoginListFilter:{type:void 0,steamId:void 0,scumId:void 0,userName:void 0,timestampStart:void 0,timestampEnd:void 0},userLoginListColumns:[{title:"Steam ID",key:"steamId",dataIndex:"steamId",width:150,align:"center",scopedSlots:{customRender:"steamId"}},{title:"SCUM玩家名称",key:"scumId",dataIndex:"scumId",width:160,align:"center",scopedSlots:{customRender:"scumId"}},{title:"登录时间",key:"loginTimeStamp",dataIndex:"loginTimeStamp",width:150,align:"center",scopedSlots:{customRender:"loginTimeStamp"}},{title:"登出时间",key:"logoutTimeStamp",dataIndex:"logoutTimeStamp",width:150,align:"center",scopedSlots:{customRender:"logoutTimeStamp"}},{title:"登录状态",key:"status",dataIndex:"status",width:80,align:"center",scopedSlots:{customRender:"status"}},{title:"玩家登录IP地址",key:"loginIp",dataIndex:"loginIp",width:150,align:"center",scopedSlots:{customRender:"loginIp"}},{title:"Session ID",key:"sessionId",dataIndex:"sessionId",width:90,align:"center",scopedSlots:{customRender:"sessionId"}}],userLoginListData:[],userLoginListPagination:{pageSize:20,pageNum:1,total:0},typeList:[{value:"login",label:"登录",color:"green"},{value:"logout",label:"退出",color:"grey"}],expandedUserLoginIds:[]}},mounted:function(){this.getUserLoginList()},methods:{onUserLoginListCleanFilter:function(){var t=this;this.userLoginListPagination.pageNum=1,this.$nextTick((function(){t.getUserLoginList(!0)}))},onUserLoginListFilter:function(){var t=this;this.userLoginListPagination.pageNum=1,this.$nextTick((function(){t.getUserLoginList()}))},onChangeUserLoginListPagination:function(t){var e=this;this.userLoginListPagination.pageNum=t,this.$nextTick((function(){e.getUserLoginList()}))},onShowSizeChangeUserLoginListPagination:function(t,e){var i=this;this.userLoginListPagination.pageNum=1,this.userLoginListPagination.pageSize=e,this.$nextTick((function(){i.getUserLoginList()}))},getUserLoginList:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o,s,r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.userLoginListPagination,n=a.pageNum,o=a.pageSize,t?(e.userLoginListFilter={type:void 0,steamId:void 0,scumId:void 0,createdArea:void 0,trapName:void 0,timestampStart:void 0,timestampEnd:void 0},s={pageNum:n,pageSize:o}):(r=Object(et["cloneDeep"])(e.userLoginListFilter),void 0!==r.timestampStart&&void 0!==r.timestampEnd&&(r.timestampStart=E()(r.timestampStart).valueOf(),r.timestampEnd=E()(r.timestampEnd).valueOf()),s=Object(c["a"])({pageNum:n,pageSize:o},r)),e.loadingUserLoginListTable=!0,i.prev=3,i.next=6,y({method:"GET",url:"/userAdminSys/listUserLogin",params:s});case 6:l=i.sent,e.loadingUserLoginListTable=!1,200===l.status&&(e.userLoginListPagination.total=l.data.count,e.userLoginListData=l.data.list),i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](3),console.error(i.t0),e.loadingUserLoginListTable=!1;case 15:case"end":return i.stop()}}),i,null,[[3,11]])})))()},cleanUserLogin:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.cleanLoading=!0,e.next=4,y({method:"DELETE",url:"/userAdminSys/cleanAllUserLogin"});case 4:i=e.sent,200===i.status&&(t.cleanLoading=!1,t.$message.success("操作成功"),t.getUserLoginList()),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),t.cleanLoading=!1,console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},dt=ct,pt=Object(_["a"])(dt,Q,tt,!1,null,"4faf18db",null),gt=pt.exports,ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%"}},[i("div",{staticStyle:{width:"100%",height:"calc(100% - 66px)",padding:"15px","padding-top":"0"}},[i("div",{staticStyle:{width:"100%",height:"100%",background:"white","overflow-y":"auto",padding:"10px"}},[i("a-collapse",{staticStyle:{background:"none"},attrs:{"default-active-key":"1",bordered:!1}},[i("a-collapse-panel",{key:"1",staticStyle:{border:"none"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("搜索过滤条件")]),t.userInfo&&"sysAdmin"===t.userInfo.role?[i("a-popconfirm",{attrs:{placement:"right",title:"确定要清空用户初始登录记录列表吗?这会导致所有留存档案丢失，所有玩家下次登录都会被当做新手玩家传送到设置的指定地点(如开启)!"},on:{confirm:t.cleanUserLoginInit}},[i("a-button",{staticStyle:{float:"right"},attrs:{size:"small",icon:"delete",type:"danger",loading:t.cleanLoading}},[t._v("清空所有用户初始登录记录")])],1)]:t._e(),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small",type:"primary",icon:"filter"},nativeOn:{click:function(e){return e.stopPropagation(),t.onUserLoginInitListFilter.apply(null,arguments)}}},[t._v("过滤")]),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.onUserLoginInitListCleanFilter.apply(null,arguments)}}},[t._v("清空过滤 / 刷新")])],2),i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.userLoginInitListFilter.steamId,callback:function(e){t.$set(t.userLoginInitListFilter,"steamId",e)},expression:"userLoginInitListFilter.steamId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("游戏名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.userLoginInitListFilter.scumId,callback:function(e){t.$set(t.userLoginInitListFilter,"scumId",e)},expression:"userLoginInitListFilter.scumId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("登录IP地址:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.userLoginInitListFilter.loginIp,callback:function(e){t.$set(t.userLoginInitListFilter,"loginIp",e)},expression:"userLoginInitListFilter.loginIp"}})],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("记录来源:")]),i("a-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{allowClear:""},model:{value:t.userLoginInitListFilter.source,callback:function(e){t.$set(t.userLoginInitListFilter,"source",e)},expression:"userLoginInitListFilter.source"}},t._l(t.sourceList,(function(e){return i("a-select-option",{key:e.value,attrs:{title:e.label}},[t._v(t._s(e.label))])})),1),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("登入时间:")]),i("a-range-picker",{staticStyle:{width:"320px","margin-left":"10px"},attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:[t.userLoginInitListFilter.timestampStart,t.userLoginInitListFilter.timestampEnd],allowClear:""},on:{change:function(e){t.$set(t.userLoginInitListFilter,"timestampStart",e[0]),t.$set(t.userLoginInitListFilter,"timestampEnd",e[1])}}})],1)])],1),i("div",{staticStyle:{"margin-bottom":"10px"}},[i("div",{staticStyle:{"margin-bottom":"5px"}},[i("a-tag",{attrs:{color:"green"}},[t._v("正常计算记录")]),t._v("- 正常登录退出结算得到的记录")],1),i("div",[i("a-tag",{attrs:{color:"grey"}},[t._v("历史数据整理记录")]),t._v("- 根据过往的登录退出和商城会员注册记录整理得来，可能不准确")],1)]),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.userLoginInitListColumns,"data-source":t.userLoginInitListData,"row-key":"id",pagination:!1,loading:t.loadingUserLoginInitListTable,bordered:"",scroll:{x:"100%"},size:"small"},scopedSlots:t._u([{key:"loginIp",fn:function(e){return[i("span",[t._v(t._s(e||"-"))])]}},{key:"scumId",fn:function(e){return[i("span",[t._v(t._s(e||"-"))])]}},{key:"createdTimeStamp",fn:function(e){return[i("span",[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}},{key:"source",fn:function(e){return[i("a-tag",{attrs:{color:void 0!==t.sourceList.find((function(t){return t.value===e}))?t.sourceList.find((function(t){return t.value===e})).color:"grey"}},[t._v(" "+t._s(void 0!==t.sourceList.find((function(t){return t.value===e}))?t.sourceList.find((function(t){return t.value===e})).label:e)+" ")])]}}])}),i("a-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"show-size-changer":"","page-size":t.userLoginInitListPagination.pageSize,current:t.userLoginInitListPagination.pageNum,total:t.userLoginInitListPagination.total},on:{change:t.onChangeUserLoginInitListPagination,showSizeChange:t.onShowSizeChangeUserLoginInitListPagination}})],1)])])},mt=[],ht={name:"All",computed:Object(c["a"])({},Object(S["mapState"])(["userInfo"])),data:function(){return{moment:E.a,cleanLoading:!1,loadingUserLoginInitListTable:!1,userLoginInitListFilter:{steamId:void 0,scumId:void 0,loginIp:void 0,source:void 0,timestampStart:void 0,timestampEnd:void 0},userLoginInitListColumns:[{title:"Steam ID",key:"steamId",dataIndex:"steamId",width:150,align:"center",scopedSlots:{customRender:"steamId"}},{title:"SCUM玩家名称",key:"scumId",dataIndex:"scumId",width:160,align:"center",scopedSlots:{customRender:"scumId"}},{title:"玩家登录IP地址",key:"loginIp",dataIndex:"loginIp",width:150,align:"center",scopedSlots:{customRender:"loginIp"}},{title:"数据来源",key:"source",dataIndex:"source",width:100,align:"center",scopedSlots:{customRender:"source"}},{title:"记录时间",key:"createdTimeStamp",dataIndex:"createdTimeStamp",width:150,align:"center",scopedSlots:{customRender:"createdTimeStamp"}}],userLoginInitListData:[],userLoginInitListPagination:{pageSize:20,pageNum:1,total:0},sourceList:[{value:"normal",label:"正常计算记录",color:"green"},{value:"history",label:"历史数据整理记录",color:"grey"}]}},mounted:function(){this.getUserLoginInitList()},methods:{onUserLoginInitListCleanFilter:function(){var t=this;this.userLoginInitListPagination.pageNum=1,this.$nextTick((function(){t.getUserLoginInitList(!0)}))},onUserLoginInitListFilter:function(){var t=this;this.userLoginInitListPagination.pageNum=1,this.$nextTick((function(){t.getUserLoginInitList()}))},onChangeUserLoginInitListPagination:function(t){var e=this;this.userLoginInitListPagination.pageNum=t,this.$nextTick((function(){e.getUserLoginInitList()}))},onShowSizeChangeUserLoginInitListPagination:function(t,e){var i=this;this.userLoginInitListPagination.pageNum=1,this.userLoginInitListPagination.pageSize=e,this.$nextTick((function(){i.getUserLoginInitList()}))},getUserLoginInitList:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o,s,r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.userLoginInitListPagination,n=a.pageNum,o=a.pageSize,t?(e.userLoginInitListFilter={steamId:void 0,scumId:void 0,loginIp:void 0,source:void 0,timestampStart:void 0,timestampEnd:void 0},s={pageNum:n,pageSize:o}):(r=Object(et["cloneDeep"])(e.userLoginInitListFilter),void 0!==r.timestampStart&&void 0!==r.timestampEnd&&(r.timestampStart=E()(r.timestampStart).valueOf(),r.timestampEnd=E()(r.timestampEnd).valueOf()),s=Object(c["a"])({pageNum:n,pageSize:o},r)),e.loadingUserLoginInitListTable=!0,i.prev=3,i.next=6,y({method:"GET",url:"/userAdminSys/listUserLoginInit",params:s});case 6:l=i.sent,e.loadingUserLoginInitListTable=!1,200===l.status&&(e.userLoginInitListPagination.total=l.data.count,e.userLoginInitListData=l.data.list),i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](3),console.error(i.t0),e.loadingUserLoginInitListTable=!1;case 15:case"end":return i.stop()}}),i,null,[[3,11]])})))()},cleanUserLoginInit:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.cleanLoading=!0,e.next=4,y({method:"DELETE",url:"/userAdminSys/cleanAllUserLoginInit"});case 4:i=e.sent,200===i.status&&(t.cleanLoading=!1,t.$message.success("操作成功"),t.getUserLoginInitList()),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),t.cleanLoading=!1,console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},ft=ht,vt=Object(_["a"])(ft,ut,mt,!1,null,"3d31d4ee",null),yt=vt.exports,xt={name:"StoryLines",components:{All:gt,Init:yt},data:function(){return{currentTab:"all"}},mounted:function(){this.$route.query.category?this.currentTab=this.$route.query.category:(this.$router.push({path:"/user-login",query:Object(c["a"])(Object(c["a"])({},this.$route.query),{},{category:"all"})}),this.currentTab="all")},methods:{}},St=xt,wt=Object(_["a"])(St,Z,J,!1,null,"0343f1d8",null),bt=wt.exports,Lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%"}},[i("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:"击杀记录列表"}},[t.userInfo&&"sysAdmin"===t.userInfo.role?i("template",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},slot:"extra"},[i("a-popconfirm",{attrs:{placement:"right",title:"确定要清空击杀记录列表吗?这会导致所有击杀奖惩重新结算!"},on:{confirm:t.cleanKillRecord}},[i("a-button",{attrs:{size:"small",icon:"delete",type:"danger",loading:t.cleanLoading}},[t._v("清空击杀记录")])],1)],1):t._e()],2),i("div",{staticStyle:{width:"100%",height:"calc(100% - 66px)",padding:"15px","padding-top":"0"}},[i("div",{staticStyle:{width:"100%",height:"100%",background:"white","overflow-y":"auto",padding:"10px"}},[i("a-collapse",{staticStyle:{background:"none"},attrs:{"default-active-key":"1",bordered:!1}},[i("a-collapse-panel",{key:"1",staticStyle:{border:"none"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("搜索过滤条件")]),i("a-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary",icon:"filter"},nativeOn:{click:function(e){return e.stopPropagation(),t.onKillListFilter.apply(null,arguments)}}},[t._v("过滤")]),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.onKillListCleanFilter.apply(null,arguments)}}},[t._v("清空过滤 / 刷新")])],1),i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("击杀者Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.killListFilter.killerSteamId,callback:function(e){t.$set(t.killListFilter,"killerSteamId",e)},expression:"killListFilter.killerSteamId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("击杀者游戏名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.killListFilter.killerName,callback:function(e){t.$set(t.killListFilter,"killerName",e)},expression:"killListFilter.killerName"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("击杀者所在区域:")]),i("a-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{allowClear:""},model:{value:t.killListFilter.killerArea,callback:function(e){t.$set(t.killListFilter,"killerArea",e)},expression:"killListFilter.killerArea"}},t._l(t.gameArealList,(function(e){return i("a-select-option",{key:e,attrs:{title:e}},[t._v(t._s(e))])})),1)],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("被击杀者Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.killListFilter.victimSteamId,callback:function(e){t.$set(t.killListFilter,"victimSteamId",e)},expression:"killListFilter.victimSteamId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("被击杀者游戏名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.killListFilter.victimName,callback:function(e){t.$set(t.killListFilter,"victimName",e)},expression:"killListFilter.victimName"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("被击杀者所在区域:")]),i("a-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{allowClear:""},model:{value:t.killListFilter.victimArea,callback:function(e){t.$set(t.killListFilter,"victimArea",e)},expression:"killListFilter.victimArea"}},t._l(t.gameArealList,(function(e){return i("a-select-option",{key:e,attrs:{title:e}},[t._v(t._s(e))])})),1)],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("击杀武器:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.killListFilter.weapon,callback:function(e){t.$set(t.killListFilter,"weapon",e)},expression:"killListFilter.weapon"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("是否活动击杀:")]),i("a-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{allowClear:""},model:{value:t.killListFilter.isEventKill,callback:function(e){t.$set(t.killListFilter,"isEventKill",e)},expression:"killListFilter.isEventKill"}},[i("a-select-option",{key:"true",attrs:{title:"活动击杀"}},[t._v("活动击杀")]),i("a-select-option",{key:"false",attrs:{title:"正常击杀"}},[t._v("正常击杀")])],1),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("发生时间:")]),i("a-range-picker",{staticStyle:{width:"320px","margin-left":"10px"},attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:[t.killListFilter.timestampStart,t.killListFilter.timestampEnd],allowClear:""},on:{change:function(e){t.$set(t.killListFilter,"timestampStart",e[0]),t.$set(t.killListFilter,"timestampEnd",e[1])}}})],1)])],1),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.killListColumns,"data-source":t.killListData,expandedRowKeys:t.expandedKillIds,"row-key":"id",pagination:!1,loading:t.loadingKillListTable,bordered:"",scroll:{x:"100%"},size:"small"},on:{expand:function(e,i){if(e)void 0===t.expandedKillIds.find((function(t){return t===i.id}))&&t.expandedKillIds.push(i.id);else{var a=Object.keys(t.expandedKillIds).find((function(e){return t.expandedKillIds[e]===i.id}));void 0!==a&&t.expandedKillIds.splice(a,1)}}},scopedSlots:t._u([{key:"killerSteamId",fn:function(e){return[i("span",[t._v(t._s(e))])]}},{key:"killerName",fn:function(e,a){return[i("span",[t._v(t._s(e))]),a.killerUser&&a.killerUser.userName?i("span",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(){return t.$router.push({path:"/user",query:{userName:a.killerUser.userName}})}}},[t._v("("+t._s(a.killerUser.userName)+")")]):t._e()]}},{key:"killerLocationsArea",fn:function(e,a){return[i("span",[t._v(t._s(a.killerLocations)+"("+t._s(a.killerArea)+")")])]}},{key:"victimSteamId",fn:function(e){return[i("span",[t._v(t._s(e))])]}},{key:"victimName",fn:function(e,a){return[i("span",[t._v(t._s(e))]),a.victimUser&&a.victimUser.userName?i("span",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(){return t.$router.push({path:"/user",query:{userName:a.victimUser.userName}})}}},[t._v("("+t._s(a.victimUser.userName)+")")]):t._e()]}},{key:"victimLocationsArea",fn:function(e,a){return[i("span",[t._v(t._s(a.victimLocations)+"("+t._s(a.victimArea)+")")])]}},{key:"weapon",fn:function(e){return[i("span",[t._v(t._s(e))])]}},{key:"distance",fn:function(e){return[i("span",{style:{color:e<=1e3?"#52c41a":"#ff4d4f"}},[t._v(t._s(e)+"m")])]}},{key:"isEventKill",fn:function(e,a){return[i("span",[t._v(t._s(a.isEventKill?"活动击杀":"普通击杀"))])]}},{key:"occuredTimeStamp",fn:function(e){return[i("span",[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}},{key:"expandedRowRender",fn:function(e){return i("div",{staticStyle:{margin:"0"}},[t.expandedKillIds.find((function(t){return t===e.id}))?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("坐标信息详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("击杀者坐标(区域):")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.killerLocations)),i("strong",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.killerArea)+")")])])]),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("被击杀者坐标(区域):")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.victimLocations)),i("strong",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.victimArea)+")")])])]),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px","margin-bottom":"5px"}},[i("span",[t._v("击杀距离(立体距离):")]),i("span",{staticStyle:{"margin-left":"10px","font-weight":"bolder"},style:{color:e.distance<=1e3?"#52c41a":"#ff4d4f"}},[t._v(t._s(e.distance)+"m")])]),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("击杀地图标识")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{height:"150px",width:"180px","padding-left":"10px"}},[i("map-locations",{attrs:{width:180,height:150,locations:e.victimLocations}})],1)]:t._e()],2)}}])}),i("a-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"show-size-changer":"","page-size":t.killListPagination.pageSize,current:t.killListPagination.pageNum,total:t.killListPagination.total},on:{change:t.onChangeKillListPagination,showSizeChange:t.onShowSizeChangeKillListPagination}})],1)])],1)},kt=[],It={name:"Kill",components:{MapLocations:lt},computed:Object(c["a"])({},Object(S["mapState"])(["userInfo"])),data:function(){return{moment:E.a,cleanLoading:!1,loadingKillListTable:!1,killListFilter:{killerSteamId:void 0,killerName:void 0,killerArea:void 0,victimSteamId:void 0,victimName:void 0,victimArea:void 0,weapon:void 0,isEventKill:void 0,timestampStart:void 0,timestampEnd:void 0},killListColumns:[{title:"击杀者Steam ID",key:"killerSteamId",dataIndex:"killerSteamId",width:150,align:"center",scopedSlots:{customRender:"killerSteamId"}},{title:"击杀者游戏名称",key:"killerName",dataIndex:"killerName",width:180,align:"center",scopedSlots:{customRender:"killerName"}},{title:"击杀者坐标(区域)",key:"killerLocationsArea",dataIndex:"killerLocationsArea",width:180,align:"center",scopedSlots:{customRender:"killerLocationsArea"}},{title:"被击杀者Steam ID",key:"victimSteamId",dataIndex:"victimSteamId",width:150,align:"center",scopedSlots:{customRender:"victimSteamId"}},{title:"被击杀者游戏名称",key:"victimName",dataIndex:"victimName",width:180,align:"center",scopedSlots:{customRender:"victimName"}},{title:"被击杀者坐标(区域)",key:"victimLocationsArea",dataIndex:"victimLocationsArea",width:180,align:"center",scopedSlots:{customRender:"victimLocationsArea"}},{title:"击杀武器",key:"weapon",dataIndex:"weapon",width:200,align:"center",scopedSlots:{customRender:"weapon"}},{title:"击杀距离(立体距离)",key:"distance",dataIndex:"distance",width:150,align:"center",scopedSlots:{customRender:"distance"}},{title:"是否活动击杀",key:"isEventKill",dataIndex:"isEventKill",width:80,align:"center",scopedSlots:{customRender:"isEventKill"}},{title:"击杀时间",key:"occuredTimeStamp",dataIndex:"occuredTimeStamp",width:150,align:"center",scopedSlots:{customRender:"occuredTimeStamp"}}],killListData:[],killListPagination:{pageSize:20,pageNum:1,total:0},expandedKillIds:[],gameArealList:[]}},mounted:function(){this.getGameAreaList(),this.getKillList()},methods:{onKillListCleanFilter:function(){var t=this;this.killListPagination.pageNum=1,this.$nextTick((function(){t.getKillList(!0)}))},onKillListFilter:function(){var t=this;this.killListPagination.pageNum=1,this.$nextTick((function(){t.getKillList()}))},onChangeKillListPagination:function(t){var e=this;this.killListPagination.pageNum=t,this.$nextTick((function(){e.getKillList()}))},onShowSizeChangeKillListPagination:function(t,e){var i=this;this.killListPagination.pageNum=1,this.killListPagination.pageSize=e,this.$nextTick((function(){i.getKillList()}))},getKillList:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o,s,r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.killListPagination,n=a.pageNum,o=a.pageSize,t?(e.killListFilter={killerSteamId:void 0,killerName:void 0,killerArea:void 0,victimSteamId:void 0,victimName:void 0,victimArea:void 0,weapon:void 0,isEventKill:void 0,timestampStart:void 0,timestampEnd:void 0},s={pageNum:n,pageSize:o}):(r=Object(et["cloneDeep"])(e.killListFilter),r.isEventKill="true"===r.isEventKill||"false"!==r.isEventKill&&void 0,void 0!==r.timestampStart&&void 0!==r.timestampEnd&&(r.timestampStart=E()(r.timestampStart).valueOf(),r.timestampEnd=E()(r.timestampEnd).valueOf()),s=Object(c["a"])({pageNum:n,pageSize:o},r)),e.loadingKillListTable=!0,i.prev=3,i.next=6,y({method:"GET",url:"/killAdminSys/list",params:s});case 6:l=i.sent,e.loadingKillListTable=!1,200===l.status&&(e.killListPagination.total=l.data.count,e.killListData=l.data.list),i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](3),console.error(i.t0),e.loadingKillListTable=!1;case 15:case"end":return i.stop()}}),i,null,[[3,11]])})))()},getGameAreaList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y({method:"GET",url:"/serverConfigAdminSys/gameAreaList"});case 3:i=e.sent,200===i.status&&(t.gameArealList=i.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},cleanKillRecord:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.cleanLoading=!0,e.next=4,y({method:"DELETE",url:"/killAdminSys/clean"});case 4:i=e.sent,200===i.status&&(t.cleanLoading=!1,t.$message.success("操作成功"),t.getKillList()),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),t.cleanLoading=!1,console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},_t=It,Ft=Object(_["a"])(_t,Lt,kt,!1,null,"66593f43",null),Pt=Ft.exports,Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%"}},[i("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:"管理员指令日志"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"extra"},slot:"extra"},[t.userInfo&&"sysAdmin"===t.userInfo.role?[i("a-popconfirm",{attrs:{placement:"right",title:"确定要清空管理员指令日志吗"},on:{confirm:t.cleanAdminCommand}},[i("a-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",icon:"delete",type:"danger",loading:t.cleanLoading}},[t._v("清空管理员指令日志")])],1)]:t._e()],2)]),i("div",{staticStyle:{width:"100%",height:"calc(100% - 66px)",padding:"15px","padding-top":"0"}},[i("div",{staticStyle:{width:"100%",height:"100%",background:"white","overflow-y":"auto",padding:"10px"}},[i("a-collapse",{staticStyle:{background:"none"},attrs:{"default-active-key":"1",bordered:!1}},[i("a-collapse-panel",{key:"1",staticStyle:{border:"none"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("搜索过滤条件")]),i("a-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary",icon:"filter"},nativeOn:{click:function(e){return e.stopPropagation(),t.onAdminCommandListFilter.apply(null,arguments)}}},[t._v("过滤")]),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.onAdminCommandListCleanFilter.apply(null,arguments)}}},[t._v("清空过滤 / 刷新")])],1),i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"100px","text-align":"right",display:"inline-block"}},[t._v("发送者游戏名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.adminCommandListFilter.scumId,callback:function(e){t.$set(t.adminCommandListFilter,"scumId",e)},expression:"adminCommandListFilter.scumId"}}),i("div",{staticStyle:{width:"100px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("发送者Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.adminCommandListFilter.steamId,callback:function(e){t.$set(t.adminCommandListFilter,"steamId",e)},expression:"adminCommandListFilter.steamId"}}),i("div",{staticStyle:{width:"100px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("指令内容:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.adminCommandListFilter.content,callback:function(e){t.$set(t.adminCommandListFilter,"content",e)},expression:"adminCommandListFilter.content"}})],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"100px","text-align":"right",display:"inline-block"}},[t._v("创建时间:")]),i("a-range-picker",{staticStyle:{width:"320px","margin-left":"10px"},attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:[t.adminCommandListFilter.timestampStart,t.adminCommandListFilter.timestampEnd],allowClear:""},on:{change:function(e){t.$set(t.adminCommandListFilter,"timestampStart",e[0]),t.$set(t.adminCommandListFilter,"timestampEnd",e[1])}}})],1)])],1),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.adminCommandListColumns,"data-source":t.adminCommandListData,expandedRowKeys:t.expandedAdminCommandIds,"row-key":"id",pagination:!1,loading:t.loadingAdminCommandListTable,bordered:"",scroll:{x:"100%"},size:"small"},on:{expand:function(e,i){if(e)void 0===t.expandedAdminCommandIds.find((function(t){return t===i.id}))&&t.expandedAdminCommandIds.push(i.id);else{var a=Object.keys(t.expandedAdminCommandIds).find((function(e){return t.expandedAdminCommandIds[e]===i.id}));void 0!==a&&t.expandedAdminCommandIds.splice(a,1)}}},scopedSlots:t._u([{key:"content",fn:function(e,a){return[i("div",{staticStyle:{"text-overflow":"ellipsis","overflow-x":"hidden","white-space":"nowrap"},style:{cursor:void 0===t.expandedAdminCommandIds.find((function(t){return t===a.id}))?"pointer":"auto"},attrs:{title:void 0===t.expandedAdminCommandIds.find((function(t){return t===a.id}))?e+"\n【点击展开】":e},on:{click:function(e){void 0===t.expandedAdminCommandIds.find((function(t){return t===a.id}))&&t.expandedAdminCommandIds.push(a.id)}}},[t._v(" "+t._s(e)+" ")])]}},{key:"scumId",fn:function(e,a){return[i("span",[t._v(t._s(e))]),a.adminCommandUser&&a.adminCommandUser.userName?i("span",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(){return t.$router.push({path:"/user",query:{userName:a.adminCommandUser.userName}})}}},[t._v("("+t._s(a.adminCommandUser.userName)+")")]):t._e()]}},{key:"steamId",fn:function(e){return[i("span",[t._v(t._s(e))])]}},{key:"sessionId",fn:function(e){return[i("span",[t._v(t._s(e))])]}},{key:"sendTimeStamp",fn:function(e){return[i("span",[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}},{key:"expandedRowRender",fn:function(e){return i("div",{staticStyle:{margin:"0"}},[t.expandedAdminCommandIds.find((function(t){return t===e.id}))?[e.otherConfig&&void 0!==e.otherConfig.locations&&void 0!==e.otherConfig.area?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("坐标信息详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("涉事坐标(区域):")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.otherConfig.locations)),i("strong",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.otherConfig.area)+")")])])]),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("地图标识")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{height:"150px",width:"180px","padding-left":"10px"}},[i("map-locations",{attrs:{width:180,height:150,locations:e.otherConfig.locations}})],1)]:t._e(),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"calc(100% - 135px)",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("消息内容")]),i("div",{staticStyle:{width:"125px",height:"24px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[i("a-button",{attrs:{size:"small",icon:"copy"},on:{click:function(){return t.doCopyCommands(e.content)}}},[t._v("复制到剪贴板")])],1)]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("pre",{staticStyle:{width:"100%",height:"auto","padding-left":"10px"},domProps:{innerHTML:t._s(e.content.replace(/\n/g,"\\n<br>").replace(/\r/g,"\\r<br>"))}})]:t._e()],2)}}])}),i("a-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"show-size-changer":"","page-size":t.adminCommandListPagination.pageSize,current:t.adminCommandListPagination.pageNum,total:t.adminCommandListPagination.total},on:{change:t.onChangeAdminCommandListPagination,showSizeChange:t.onShowSizeChangeAdminCommandListPagination}})],1)])],1)},Tt=[],At={name:"AdminCommand",components:{MapLocations:lt},computed:Object(c["a"])({},Object(S["mapState"])(["userInfo"])),data:function(){return{moment:E.a,finishLoading:!1,cleanLoading:!1,loadingAdminCommandListTable:!1,adminCommandListFilter:{scumId:void 0,steamId:void 0,content:void 0,timeStampStart:void 0,timeStampEnd:void 0},adminCommandListColumns:[{title:"指令内容",key:"content",dataIndex:"content",width:250,align:"center",scopedSlots:{customRender:"content"}},{title:"发送者游戏名称",key:"scumId",dataIndex:"scumId",width:180,align:"center",scopedSlots:{customRender:"scumId"}},{title:"发送者Steam ID",key:"steamId",dataIndex:"steamId",width:150,align:"center",scopedSlots:{customRender:"sessionId"}},{title:"发送者在线Session ID",key:"sessionId",dataIndex:"sessionId",width:180,align:"center",scopedSlots:{customRender:"buyId"}},{title:"发送时间",key:"sendTimeStamp",dataIndex:"sendTimeStamp",width:150,align:"center",scopedSlots:{customRender:"sendTimeStamp"}}],adminCommandListData:[],adminCommandListPagination:{pageSize:20,pageNum:1,total:0},expandedAdminCommandIds:[]}},mounted:function(){this.getAdminCommandList()},methods:{onAdminCommandListCleanFilter:function(){var t=this;this.adminCommandListPagination.pageNum=1,this.$nextTick((function(){t.getAdminCommandList(!0)}))},onAdminCommandListFilter:function(){var t=this;this.adminCommandListPagination.pageNum=1,this.$nextTick((function(){t.getAdminCommandList()}))},onChangeAdminCommandListPagination:function(t){var e=this;this.adminCommandListPagination.pageNum=t,this.$nextTick((function(){e.getAdminCommandList()}))},onShowSizeChangeAdminCommandListPagination:function(t,e){var i=this;this.adminCommandListPagination.pageNum=1,this.adminCommandListPagination.pageSize=e,this.$nextTick((function(){i.getAdminCommandList()}))},getAdminCommandList:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o,s,r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.adminCommandListPagination,n=a.pageNum,o=a.pageSize,t?(e.adminCommandListFilter={type:void 0,status:void 0,buyId:void 0,timestampStart:void 0,timestampEnd:void 0},s={pageNum:n,pageSize:o}):(r=Object(et["cloneDeep"])(e.adminCommandListFilter),void 0!==r.timestampStart&&void 0!==r.timestampEnd&&(r.timestampStart=E()(r.timestampStart).valueOf(),r.timestampEnd=E()(r.timestampEnd).valueOf()),s=Object(c["a"])({pageNum:n,pageSize:o},r)),e.loadingAdminCommandListTable=!0,i.prev=3,i.next=6,y({method:"GET",url:"/adminCommandAdminSys/list",params:s});case 6:l=i.sent,e.loadingAdminCommandListTable=!1,200===l.status&&(e.adminCommandListPagination.total=l.data.count,e.adminCommandListData=l.data.list),i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](3),console.error(i.t0),e.loadingAdminCommandListTable=!1;case 15:case"end":return i.stop()}}),i,null,[[3,11]])})))()},doCopyCommands:function(t){var e=this;this.$copyText(t).then((function(t){e.$message.success("已复制到剪贴板")}),(function(t){e.$message.error("复制失败"),console.log("复制失败：",t)}))},cleanAdminCommand:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.cleanLoading=!0,e.next=4,y({method:"DELETE",url:"/adminCommandAdminSys/clean"});case 4:i=e.sent,200===i.status&&(t.cleanLoading=!1,t.$message.success("操作成功"),t.getAdminCommandList()),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),t.cleanLoading=!1,console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},Rt=At,Gt=Object(_["a"])(Rt,Ct,Tt,!1,null,"0752493b",null),Mt=Gt.exports,Dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%"}},[i("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:"游戏聊天记录"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"extra"},slot:"extra"},[t.userInfo&&"sysAdmin"===t.userInfo.role?[i("a-popconfirm",{attrs:{placement:"right",title:"确定要清空管理员指令日志吗"},on:{confirm:t.cleanChatMessage}},[i("a-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",icon:"delete",type:"danger",loading:t.cleanLoading}},[t._v("清空管理员指令日志")])],1)]:t._e()],2)]),i("div",{staticStyle:{width:"100%",height:"calc(100% - 66px)",padding:"15px","padding-top":"0"}},[i("div",{staticStyle:{width:"100%",height:"100%",background:"white","overflow-y":"auto",padding:"10px"}},[i("a-collapse",{staticStyle:{background:"none"},attrs:{"default-active-key":"1",bordered:!1}},[i("a-collapse-panel",{key:"1",staticStyle:{border:"none"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("搜索过滤条件")]),i("a-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary",icon:"filter"},nativeOn:{click:function(e){return e.stopPropagation(),t.onChatMessageListFilter.apply(null,arguments)}}},[t._v("过滤")]),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.onChatMessageListCleanFilter.apply(null,arguments)}}},[t._v("清空过滤 / 刷新")])],1),i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("消息类型:")]),i("a-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{allowClear:""},model:{value:t.chatMessageListFilter.type,callback:function(e){t.$set(t.chatMessageListFilter,"type",e)},expression:"chatMessageListFilter.type"}},t._l(t.chatMessageTypeKeyValue,(function(e,a){return i("a-select-option",{key:a,attrs:{label:e}},[t._v(t._s(e))])})),1),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("发送者游戏名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.chatMessageListFilter.scumId,callback:function(e){t.$set(t.chatMessageListFilter,"scumId",e)},expression:"chatMessageListFilter.scumId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("发送者Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.chatMessageListFilter.steamId,callback:function(e){t.$set(t.chatMessageListFilter,"steamId",e)},expression:"chatMessageListFilter.steamId"}})],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("指令内容:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.chatMessageListFilter.content,callback:function(e){t.$set(t.chatMessageListFilter,"content",e)},expression:"chatMessageListFilter.content"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("创建时间:")]),i("a-range-picker",{staticStyle:{width:"320px","margin-left":"10px"},attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:[t.chatMessageListFilter.timestampStart,t.chatMessageListFilter.timestampEnd],allowClear:""},on:{change:function(e){t.$set(t.chatMessageListFilter,"timestampStart",e[0]),t.$set(t.chatMessageListFilter,"timestampEnd",e[1])}}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("过滤机器人消息:")]),i("a-switch",{staticStyle:{"margin-left":"10px"},model:{value:t.chatMessageListFilter.noRobot,callback:function(e){t.$set(t.chatMessageListFilter,"noRobot",e)},expression:"chatMessageListFilter.noRobot"}})],1)])],1),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.chatMessageListColumns,"data-source":t.chatMessageListData,expandedRowKeys:t.expandedChatMessageIds,"row-key":"id",pagination:!1,loading:t.loadingChatMessageListTable,bordered:"",scroll:{x:"100%"},size:"small"},on:{expand:function(e,i){if(e)void 0===t.expandedChatMessageIds.find((function(t){return t===i.id}))&&t.expandedChatMessageIds.push(i.id);else{var a=Object.keys(t.expandedChatMessageIds).find((function(e){return t.expandedChatMessageIds[e]===i.id}));void 0!==a&&t.expandedChatMessageIds.splice(a,1)}}},scopedSlots:t._u([{key:"content",fn:function(e,a){return[i("div",{staticStyle:{"text-overflow":"ellipsis","overflow-x":"hidden","white-space":"nowrap"},style:{cursor:void 0===t.expandedChatMessageIds.find((function(t){return t===a.id}))?"pointer":"auto"},attrs:{title:void 0===t.expandedChatMessageIds.find((function(t){return t===a.id}))?e+"\n【点击展开】":e},on:{click:function(e){void 0===t.expandedChatMessageIds.find((function(t){return t===a.id}))&&t.expandedChatMessageIds.push(a.id)}}},[t._v(" "+t._s(e)+" ")])]}},{key:"scumId",fn:function(e,a){return[i("span",[t._v(t._s(e))]),a.chatMessageUser&&a.chatMessageUser.userName?i("span",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(){return t.$router.push({path:"/user",query:{userName:a.chatMessageUser.userName}})}}},[t._v("("+t._s(a.chatMessageUser.userName)+")")]):t._e()]}},{key:"type",fn:function(e){return[i("span",[t._v(t._s(t.chatMessageTypeKeyValue[e]?t.chatMessageTypeKeyValue[e]:e))])]}},{key:"steamId",fn:function(e){return[i("span",[t._v(t._s(e))])]}},{key:"sessionId",fn:function(e){return[i("span",[t._v(t._s(e))])]}},{key:"sendTimeStamp",fn:function(e){return[i("span",[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}},{key:"expandedRowRender",fn:function(e){return i("div",{staticStyle:{margin:"0"}},[t.expandedChatMessageIds.find((function(t){return t===e.id}))?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"calc(100% - 135px)",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("消息内容")]),i("div",{staticStyle:{width:"125px",height:"24px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[i("a-button",{attrs:{size:"small",icon:"copy"},on:{click:function(){return t.doCopyCommands(e.content)}}},[t._v("复制到剪贴板")])],1)]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("pre",{staticStyle:{width:"100%",height:"auto","padding-left":"10px"},domProps:{innerHTML:t._s(e.content.replace(/\n/g,"\\n<br>").replace(/\r/g,"\\r<br>"))}})]:t._e()],2)}}])}),i("a-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"show-size-changer":"","page-size":t.chatMessageListPagination.pageSize,current:t.chatMessageListPagination.pageNum,total:t.chatMessageListPagination.total},on:{change:t.onChangeChatMessageListPagination,showSizeChange:t.onShowSizeChangeChatMessageListPagination}})],1)])],1)},Ot=[],$t={name:"ChatMessage",computed:Object(c["a"])({},Object(S["mapState"])(["userInfo"])),data:function(){var t={Global:"公屏消息",Admin:"管理消息",Squad:"队内消息",Local:"附近消息"};return{moment:E.a,chatMessageTypeKeyValue:t,finishLoading:!1,cleanLoading:!1,loadingChatMessageListTable:!1,chatMessageListFilter:{type:void 0,scumId:void 0,steamId:void 0,content:void 0,timeStampStart:void 0,timeStampEnd:void 0,noRobot:void 0},chatMessageListColumns:[{title:"指令内容",key:"content",dataIndex:"content",width:250,align:"center",scopedSlots:{customRender:"content"}},{title:"消息类型",key:"type",dataIndex:"type",width:100,align:"center",scopedSlots:{customRender:"type"}},{title:"发送者游戏名称",key:"scumId",dataIndex:"scumId",width:180,align:"center",scopedSlots:{customRender:"scumId"}},{title:"发送者Steam ID",key:"steamId",dataIndex:"steamId",width:150,align:"center",scopedSlots:{customRender:"sessionId"}},{title:"发送者在线Session ID",key:"sessionId",dataIndex:"sessionId",width:180,align:"center",scopedSlots:{customRender:"buyId"}},{title:"发送时间",key:"sendTimeStamp",dataIndex:"sendTimeStamp",width:150,align:"center",scopedSlots:{customRender:"sendTimeStamp"}}],chatMessageListData:[],chatMessageListPagination:{pageSize:20,pageNum:1,total:0},expandedChatMessageIds:[]}},mounted:function(){this.getChatMessageList()},methods:{onChatMessageListCleanFilter:function(){var t=this;this.chatMessageListPagination.pageNum=1,this.$nextTick((function(){t.getChatMessageList(!0)}))},onChatMessageListFilter:function(){var t=this;this.chatMessageListPagination.pageNum=1,this.$nextTick((function(){t.getChatMessageList()}))},onChangeChatMessageListPagination:function(t){var e=this;this.chatMessageListPagination.pageNum=t,this.$nextTick((function(){e.getChatMessageList()}))},onShowSizeChangeChatMessageListPagination:function(t,e){var i=this;this.chatMessageListPagination.pageNum=1,this.chatMessageListPagination.pageSize=e,this.$nextTick((function(){i.getChatMessageList()}))},getChatMessageList:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o,s,r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.chatMessageListPagination,n=a.pageNum,o=a.pageSize,t?(e.chatMessageListFilter={type:void 0,status:void 0,buyId:void 0,timestampStart:void 0,timestampEnd:void 0},s={pageNum:n,pageSize:o}):(r=Object(et["cloneDeep"])(e.chatMessageListFilter),void 0!==r.timestampStart&&void 0!==r.timestampEnd&&(r.timestampStart=E()(r.timestampStart).valueOf(),r.timestampEnd=E()(r.timestampEnd).valueOf()),s=Object(c["a"])({pageNum:n,pageSize:o},r)),e.loadingChatMessageListTable=!0,i.prev=3,i.next=6,y({method:"GET",url:"/chatMessageAdminSys/list",params:s});case 6:l=i.sent,e.loadingChatMessageListTable=!1,200===l.status&&(e.chatMessageListPagination.total=l.data.count,e.chatMessageListData=l.data.list),i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](3),console.error(i.t0),e.loadingChatMessageListTable=!1;case 15:case"end":return i.stop()}}),i,null,[[3,11]])})))()},doCopyCommands:function(t){var e=this;this.$copyText(t).then((function(t){e.$message.success("已复制到剪贴板")}),(function(t){e.$message.error("复制失败"),console.log("复制失败：",t)}))},cleanChatMessage:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.cleanLoading=!0,e.next=4,y({method:"DELETE",url:"/chatMessageAdminSys/clean"});case 4:i=e.sent,200===i.status&&(t.cleanLoading=!1,t.$message.success("操作成功"),t.getChatMessageList()),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),t.cleanLoading=!1,console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},zt=$t,Nt=Object(_["a"])(zt,Dt,Ot,!1,null,"2b9b50b0",null),Et=Nt.exports,Ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%"}},[i("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:"游戏行为记录列表"}},[t.userInfo&&"sysAdmin"===t.userInfo.role?i("template",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},slot:"extra"},[i("a-popconfirm",{attrs:{placement:"right",title:"确定要清空游戏行为记录列表吗"},on:{confirm:t.cleanActionsRecord}},[i("a-button",{attrs:{size:"small",icon:"delete",type:"danger",loading:t.cleanLoading}},[t._v("清空游戏行为记录")])],1)],1):t._e()],2),i("div",{staticStyle:{width:"100%",height:"calc(100% - 66px)",padding:"15px","padding-top":"0"}},[i("div",{staticStyle:{width:"100%",height:"100%",background:"white","overflow-y":"auto",padding:"10px"}},[i("a-tabs",{attrs:{type:"card"},on:{change:function(e){t.$router.push({path:"/actions-record",query:{category:e}})}},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[i("a-tab-pane",{key:"trap-record",attrs:{tab:"陷阱日志"}},["trap-record"===t.currentTab?i("Trap"):t._e()],1),i("a-tab-pane",{key:"lock-pick",attrs:{tab:"开锁日志"}},["lock-pick"===t.currentTab?i("LockPick"):t._e()],1),i("a-tab-pane",{key:"defusal",attrs:{tab:"排爆日志"}},["defusal"===t.currentTab?i("Defusal"):t._e()],1),i("a-tab-pane",{key:"flag",attrs:{tab:"领地旗造毁日志"}},["flag"===t.currentTab?i("Flag"):t._e()],1),i("a-tab-pane",{key:"base-building",attrs:{tab:"领地旗占领日志"}},["base-building"===t.currentTab?i("BaseBuilding"):t._e()],1),i("a-tab-pane",{key:"chest",attrs:{tab:"挖埋箱子日志"}},["chest"===t.currentTab?i("Chest"):t._e()],1),i("a-tab-pane",{key:"change-name",attrs:{tab:"玩家更名日志"}},["change-name"===t.currentTab?i("ChangeName"):t._e()],1),i("a-tab-pane",{key:"bank-atm",attrs:{tab:"银行ATM日志"}},["bank-atm"===t.currentTab?i("BankAtm"):t._e()],1)],1)],1)])],1)},Ut=[],jt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%","overflow-y":"auto",padding:"10px"}},[i("a-collapse",{staticStyle:{background:"none"},attrs:{"default-active-key":"1",bordered:!1}},[i("a-collapse-panel",{key:"1",staticStyle:{border:"none"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("搜索过滤条件")]),i("a-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary",icon:"filter"},nativeOn:{click:function(e){return e.stopPropagation(),t.onActionsListFilter.apply(null,arguments)}}},[t._v("过滤")]),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.onActionsListCleanFilter.apply(null,arguments)}}},[t._v("清空过滤 / 刷新")])],1),i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("操作者Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.actionsListFilter.steamId,callback:function(e){t.$set(t.actionsListFilter,"steamId",e)},expression:"actionsListFilter.steamId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("操作者游戏名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.actionsListFilter.scumId,callback:function(e){t.$set(t.actionsListFilter,"scumId",e)},expression:"actionsListFilter.scumId"}})],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("操作者所在区域:")]),i("a-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{allowClear:""},model:{value:t.actionsListFilter.createdArea,callback:function(e){t.$set(t.actionsListFilter,"createdArea",e)},expression:"actionsListFilter.createdArea"}},t._l(t.gameArealList,(function(e){return i("a-select-option",{key:e,attrs:{title:e}},[t._v(t._s(e))])})),1),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("记录时间:")]),i("a-range-picker",{staticStyle:{width:"320px","margin-left":"10px"},attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:[t.actionsListFilter.timestampStart,t.actionsListFilter.timestampEnd],allowClear:""},on:{change:function(e){t.$set(t.actionsListFilter,"timestampStart",e[0]),t.$set(t.actionsListFilter,"timestampEnd",e[1])}}})],1)])],1),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.actionsListColumns,"data-source":t.actionsListData,expandedRowKeys:t.expandedActionsIds,"row-key":"id",pagination:!1,loading:t.loadingActionsListTable,bordered:"",scroll:{x:"100%"},size:"small"},on:{expand:function(e,i){if(e)void 0===t.expandedActionsIds.find((function(t){return t===i.id}))&&t.expandedActionsIds.push(i.id);else{var a=Object.keys(t.expandedActionsIds).find((function(e){return t.expandedActionsIds[e]===i.id}));void 0!==a&&t.expandedActionsIds.splice(a,1)}}},scopedSlots:t._u([{key:"action",fn:function(e,a){return[i("a-tag",{attrs:{color:void 0!==t.actionList.find((function(t){return t.value===a.otherConfig.action}))?t.actionList.find((function(t){return t.value===a.otherConfig.action})).color:"grey"}},[t._v(" "+t._s(void 0!==t.actionList.find((function(t){return t.value===a.otherConfig.action}))?t.actionList.find((function(t){return t.value===a.otherConfig.action})).label:a.otherConfig.action)+" ")])]}},{key:"steamId",fn:function(e){return[i("span",[t._v(t._s(e))])]}},{key:"scumId",fn:function(e,a){return[i("span",[t._v(t._s(e))]),a.actionsRecordUser&&a.actionsRecordUser.userName?i("span",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(){return t.$router.push({path:"/user",query:{userName:a.actionsRecordUser.userName}})}}},[t._v("("+t._s(a.actionsRecordUser.userName)+")")]):t._e()]}},{key:"locationsArea",fn:function(e,a){return[i("span",[t._v(t._s(a.createdLocations)+"("+t._s(a.createdArea)+")")])]}},{key:"targetName",fn:function(e){return[i("span",[t._v(t._s(e||"无数据"))])]}},{key:"createdTimeStamp",fn:function(e){return[i("span",[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}},{key:"expandedRowRender",fn:function(e){return i("div",{staticStyle:{margin:"0"}},[t.expandedActionsIds.find((function(t){return t===e.id}))?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("坐标信息详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("触发坐标(区域):")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.createdLocations)),i("strong",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.createdArea)+")")])])]),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("地图标识")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{height:"150px",width:"180px","padding-left":"10px"}},[i("map-locations",{attrs:{width:180,height:150,locations:e.createdLocations}})],1)]:t._e()],2)}}])}),i("a-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"show-size-changer":"","page-size":t.actionsListPagination.pageSize,current:t.actionsListPagination.pageNum,total:t.actionsListPagination.total},on:{change:t.onChangeActionsListPagination,showSizeChange:t.onShowSizeChangeActionsListPagination}})],1)},Yt=[],Bt={name:"Trap",components:{MapLocations:lt},data:function(){return{moment:E.a,loadingActionsListTable:!1,actionsListFilter:{steamId:void 0,scumId:void 0,createdArea:void 0,targetName:void 0,timestampStart:void 0,timestampEnd:void 0},actionsListColumns:[{title:"操作类型",key:"action",dataIndex:"action",width:80,align:"center",scopedSlots:{customRender:"action"}},{title:"操作者Steam ID",key:"steamId",dataIndex:"steamId",width:150,align:"center",scopedSlots:{customRender:"steamId"}},{title:"操作者游戏名称",key:"scumId",dataIndex:"scumId",width:180,align:"center",scopedSlots:{customRender:"scumId"}},{title:"操作者坐标(区域)",key:"locationsArea",dataIndex:"locationsArea",width:180,align:"center",scopedSlots:{customRender:"locationsArea"}},{title:"陷阱名称",key:"targetName",dataIndex:"targetName",width:200,align:"center",scopedSlots:{customRender:"targetName"}},{title:"生成记录时间",key:"createdTimeStamp",dataIndex:"createdTimeStamp",width:150,align:"center",scopedSlots:{customRender:"createdTimeStamp"}}],actionsListData:[],actionsListPagination:{pageSize:20,pageNum:1,total:0},expandedActionsIds:[],gameArealList:[],actionList:[{value:"crafted",label:"制作",color:"cyan"},{value:"armed",label:"安装",color:"blue"},{value:"disarmed",label:"拆卸",color:"green"},{value:"triggered",label:"触发",color:"red"}]}},mounted:function(){this.getGameAreaList(),this.getActionsList()},methods:{onActionsListCleanFilter:function(){var t=this;this.actionsListPagination.pageNum=1,this.$nextTick((function(){t.getActionsList(!0)}))},onActionsListFilter:function(){var t=this;this.actionsListPagination.pageNum=1,this.$nextTick((function(){t.getActionsList()}))},onChangeActionsListPagination:function(t){var e=this;this.actionsListPagination.pageNum=t,this.$nextTick((function(){e.getActionsList()}))},onShowSizeChangeActionsListPagination:function(t,e){var i=this;this.actionsListPagination.pageNum=1,this.actionsListPagination.pageSize=e,this.$nextTick((function(){i.getActionsList()}))},getActionsList:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o,s,r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.actionsListPagination,n=a.pageNum,o=a.pageSize,t?(e.actionsListFilter={steamId:void 0,scumId:void 0,createdArea:void 0,targetName:void 0,timestampStart:void 0,timestampEnd:void 0},s={pageNum:n,pageSize:o,type:"trap"}):(r=Object(et["cloneDeep"])(e.actionsListFilter),void 0!==r.timestampStart&&void 0!==r.timestampEnd&&(r.timestampStart=E()(r.timestampStart).valueOf(),r.timestampEnd=E()(r.timestampEnd).valueOf()),s=Object(c["a"])({pageNum:n,pageSize:o,type:"trap"},r)),e.loadingActionsListTable=!0,i.prev=3,i.next=6,y({method:"GET",url:"/actionsRecordAdminSys/list",params:s});case 6:l=i.sent,e.loadingActionsListTable=!1,200===l.status&&(e.actionsListPagination.total=l.data.count,e.actionsListData=l.data.list),i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](3),console.error(i.t0),e.loadingActionsListTable=!1;case 15:case"end":return i.stop()}}),i,null,[[3,11]])})))()},getGameAreaList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y({method:"GET",url:"/serverConfigAdminSys/gameAreaList"});case 3:i=e.sent,200===i.status&&(t.gameArealList=i.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},qt=Bt,Kt=Object(_["a"])(qt,jt,Yt,!1,null,"68e5620e",null),Vt=Kt.exports,Wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%","overflow-y":"auto",padding:"10px"}},[i("a-collapse",{staticStyle:{background:"none"},attrs:{"default-active-key":"1",bordered:!1}},[i("a-collapse-panel",{key:"1",staticStyle:{border:"none"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("搜索过滤条件")]),i("a-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary",icon:"filter"},nativeOn:{click:function(e){return e.stopPropagation(),t.onActionsListFilter.apply(null,arguments)}}},[t._v("过滤")]),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.onActionsListCleanFilter.apply(null,arguments)}}},[t._v("清空过滤 / 刷新")])],1),i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("操作者Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.actionsListFilter.steamId,callback:function(e){t.$set(t.actionsListFilter,"steamId",e)},expression:"actionsListFilter.steamId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("操作者游戏名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.actionsListFilter.scumId,callback:function(e){t.$set(t.actionsListFilter,"scumId",e)},expression:"actionsListFilter.scumId"}})],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("操作者所在区域:")]),i("a-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{allowClear:""},model:{value:t.actionsListFilter.createdArea,callback:function(e){t.$set(t.actionsListFilter,"createdArea",e)},expression:"actionsListFilter.createdArea"}},t._l(t.gameArealList,(function(e){return i("a-select-option",{key:e,attrs:{title:e}},[t._v(t._s(e))])})),1),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("记录时间:")]),i("a-range-picker",{staticStyle:{width:"320px","margin-left":"10px"},attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:[t.actionsListFilter.timestampStart,t.actionsListFilter.timestampEnd],allowClear:""},on:{change:function(e){t.$set(t.actionsListFilter,"timestampStart",e[0]),t.$set(t.actionsListFilter,"timestampEnd",e[1])}}})],1)])],1),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.actionsListColumns,"data-source":t.actionsListData,expandedRowKeys:t.expandedActionsIds,"row-key":"id",pagination:!1,loading:t.loadingActionsListTable,bordered:"",scroll:{x:"100%"},size:"small"},on:{expand:function(e,i){if(e)void 0===t.expandedActionsIds.find((function(t){return t===i.id}))&&t.expandedActionsIds.push(i.id);else{var a=Object.keys(t.expandedActionsIds).find((function(e){return t.expandedActionsIds[e]===i.id}));void 0!==a&&t.expandedActionsIds.splice(a,1)}}},scopedSlots:t._u([{key:"steamId",fn:function(e){return[i("span",[t._v(t._s(e))])]}},{key:"scumId",fn:function(e,a){return[i("span",[t._v(t._s(e))]),a.actionsRecordUser&&a.actionsRecordUser.userName?i("span",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(){return t.$router.push({path:"/user",query:{userName:a.actionsRecordUser.userName}})}}},[t._v("("+t._s(a.actionsRecordUser.userName)+")")]):t._e()]}},{key:"locationsArea",fn:function(e,a){return[i("span",[t._v(t._s(a.createdLocations)+"("+t._s(a.createdArea)+")")])]}},{key:"targetName",fn:function(e){return[i("span",[t._v(t._s(e||"无数据"))])]}},{key:"lockType",fn:function(e,a){return[i("a-tag",{attrs:{color:void 0!==t.lockTypeList.find((function(t){return t.value===a.otherConfig.lockType}))?t.lockTypeList.find((function(t){return t.value===a.otherConfig.lockType})).color:"grey"}},[t._v(" "+t._s(void 0!==t.lockTypeList.find((function(t){return t.value===a.otherConfig.lockType}))?t.lockTypeList.find((function(t){return t.value===a.otherConfig.lockType})).label:a.otherConfig.lockType)+" ")])]}},{key:"success",fn:function(e,a){return[i("a-tag",{attrs:{color:a.otherConfig&&!0===a.otherConfig.success?"green":"red"}},[t._v(t._s(a.otherConfig&&!0===a.otherConfig.success?"成功":"失败"))])]}},{key:"elapsedTime",fn:function(e,a){return[i("span",[i("strong",{staticStyle:{color:"darkyellow"}},[t._v(t._s(a.otherConfig&&a.otherConfig.elapsedTime?a.otherConfig.elapsedTime:"--"))]),t._v("s")])]}},{key:"failedAttempts",fn:function(e,a){return[i("span",[i("strong",{staticStyle:{color:"red"}},[t._v(t._s(a.otherConfig&&a.otherConfig.failedAttempts?a.otherConfig.failedAttempts:"--"))]),t._v("次")])]}},{key:"createdTimeStamp",fn:function(e){return[i("span",[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}},{key:"expandedRowRender",fn:function(e){return i("div",{staticStyle:{margin:"0"}},[t.expandedActionsIds.find((function(t){return t===e.id}))?[e.otherConfig&&e.otherConfig.owner&&e.otherConfig.owner.scumId?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("物主信息")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("strong",{staticStyle:{color:"#1890ff"}},[t._v(t._s(e.otherConfig.owner.scumId))]),i("span",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.otherConfig.owner.steamId||"无Steam ID")+")")])])]:t._e(),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("坐标信息详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("触发坐标(区域):")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.createdLocations)),i("strong",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.createdArea)+")")])])]),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("地图标识")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{height:"150px",width:"180px","padding-left":"10px"}},[i("map-locations",{attrs:{width:180,height:150,locations:e.createdLocations}})],1)]:t._e()],2)}}])}),i("a-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"show-size-changer":"","page-size":t.actionsListPagination.pageSize,current:t.actionsListPagination.pageNum,total:t.actionsListPagination.total},on:{change:t.onChangeActionsListPagination,showSizeChange:t.onShowSizeChangeActionsListPagination}})],1)},Xt=[],Zt={name:"LockPick",components:{MapLocations:lt},data:function(){return{moment:E.a,loadingActionsListTable:!1,actionsListFilter:{steamId:void 0,scumId:void 0,createdArea:void 0,targetName:void 0,timestampStart:void 0,timestampEnd:void 0},actionsListColumns:[{title:"开锁人Steam ID",key:"steamId",dataIndex:"steamId",width:150,align:"center",scopedSlots:{customRender:"steamId"}},{title:"开锁人游戏名称",key:"scumId",dataIndex:"scumId",width:180,align:"center",scopedSlots:{customRender:"scumId"}},{title:"开锁人坐标(区域)",key:"locationsArea",dataIndex:"locationsArea",width:180,align:"center",scopedSlots:{customRender:"locationsArea"}},{title:"对象物品名称",key:"targetName",dataIndex:"targetName",width:200,align:"center",scopedSlots:{customRender:"targetName"}},{title:"锁类型",key:"lockType",dataIndex:"lockType",width:80,align:"center",scopedSlots:{customRender:"lockType"}},{title:"是否成功",key:"success",dataIndex:"success",width:80,align:"center",scopedSlots:{customRender:"success"}},{title:"开锁时长",key:"elapsedTime",dataIndex:"elapsedTime",width:100,align:"center",scopedSlots:{customRender:"elapsedTime"}},{title:"失败尝试次数",key:"failedAttempts",dataIndex:"failedAttempts",width:120,align:"center",scopedSlots:{customRender:"failedAttempts"}},{title:"生成记录时间",key:"createdTimeStamp",dataIndex:"createdTimeStamp",width:150,align:"center",scopedSlots:{customRender:"createdTimeStamp"}}],actionsListData:[],actionsListPagination:{pageSize:20,pageNum:1,total:0},expandedActionsIds:[],gameArealList:[],lockTypeList:[{value:"veryeasy",label:"非常基础",color:"green"},{value:"basic",label:"基础",color:"green"},{value:"medium",label:"中等",color:"yellow"},{value:"advanced",label:"高级",color:"red"}]}},mounted:function(){this.getGameAreaList(),this.getActionsList()},methods:{onActionsListCleanFilter:function(){var t=this;this.actionsListPagination.pageNum=1,this.$nextTick((function(){t.getActionsList(!0)}))},onActionsListFilter:function(){var t=this;this.actionsListPagination.pageNum=1,this.$nextTick((function(){t.getActionsList()}))},onChangeActionsListPagination:function(t){var e=this;this.actionsListPagination.pageNum=t,this.$nextTick((function(){e.getActionsList()}))},onShowSizeChangeActionsListPagination:function(t,e){var i=this;this.actionsListPagination.pageNum=1,this.actionsListPagination.pageSize=e,this.$nextTick((function(){i.getActionsList()}))},getActionsList:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o,s,r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.actionsListPagination,n=a.pageNum,o=a.pageSize,t?(e.actionsListFilter={steamId:void 0,scumId:void 0,createdArea:void 0,targetName:void 0,timestampStart:void 0,timestampEnd:void 0},s={pageNum:n,pageSize:o,type:"lockPick"}):(r=Object(et["cloneDeep"])(e.actionsListFilter),void 0!==r.timestampStart&&void 0!==r.timestampEnd&&(r.timestampStart=E()(r.timestampStart).valueOf(),r.timestampEnd=E()(r.timestampEnd).valueOf()),s=Object(c["a"])({pageNum:n,pageSize:o,type:"lockPick"},r)),e.loadingActionsListTable=!0,i.prev=3,i.next=6,y({method:"GET",url:"/actionsRecordAdminSys/list",params:s});case 6:l=i.sent,e.loadingActionsListTable=!1,200===l.status&&(e.actionsListPagination.total=l.data.count,e.actionsListData=l.data.list),i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](3),console.error(i.t0),e.loadingActionsListTable=!1;case 15:case"end":return i.stop()}}),i,null,[[3,11]])})))()},getGameAreaList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y({method:"GET",url:"/serverConfigAdminSys/gameAreaList"});case 3:i=e.sent,200===i.status&&(t.gameArealList=i.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},Jt=Zt,Qt=Object(_["a"])(Jt,Wt,Xt,!1,null,"2536e2b1",null),te=Qt.exports,ee=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%","overflow-y":"auto",padding:"10px"}},[i("a-collapse",{staticStyle:{background:"none"},attrs:{"default-active-key":"1",bordered:!1}},[i("a-collapse-panel",{key:"1",staticStyle:{border:"none"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("搜索过滤条件")]),i("a-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary",icon:"filter"},nativeOn:{click:function(e){return e.stopPropagation(),t.onActionsListFilter.apply(null,arguments)}}},[t._v("过滤")]),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.onActionsListCleanFilter.apply(null,arguments)}}},[t._v("清空过滤 / 刷新")])],1),i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("操作者Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.actionsListFilter.steamId,callback:function(e){t.$set(t.actionsListFilter,"steamId",e)},expression:"actionsListFilter.steamId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("操作者游戏名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.actionsListFilter.scumId,callback:function(e){t.$set(t.actionsListFilter,"scumId",e)},expression:"actionsListFilter.scumId"}})],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("操作者所在区域:")]),i("a-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{allowClear:""},model:{value:t.actionsListFilter.createdArea,callback:function(e){t.$set(t.actionsListFilter,"createdArea",e)},expression:"actionsListFilter.createdArea"}},t._l(t.gameArealList,(function(e){return i("a-select-option",{key:e,attrs:{title:e}},[t._v(t._s(e))])})),1),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("记录时间:")]),i("a-range-picker",{staticStyle:{width:"320px","margin-left":"10px"},attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:[t.actionsListFilter.timestampStart,t.actionsListFilter.timestampEnd],allowClear:""},on:{change:function(e){t.$set(t.actionsListFilter,"timestampStart",e[0]),t.$set(t.actionsListFilter,"timestampEnd",e[1])}}})],1)])],1),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.actionsListColumns,"data-source":t.actionsListData,expandedRowKeys:t.expandedActionsIds,"row-key":"id",pagination:!1,loading:t.loadingActionsListTable,bordered:"",scroll:{x:"100%"},size:"small"},on:{expand:function(e,i){if(e)void 0===t.expandedActionsIds.find((function(t){return t===i.id}))&&t.expandedActionsIds.push(i.id);else{var a=Object.keys(t.expandedActionsIds).find((function(e){return t.expandedActionsIds[e]===i.id}));void 0!==a&&t.expandedActionsIds.splice(a,1)}}},scopedSlots:t._u([{key:"steamId",fn:function(e){return[i("span",[t._v(t._s(e))])]}},{key:"scumId",fn:function(e,a){return[i("span",[t._v(t._s(e))]),a.actionsRecordUser&&a.actionsRecordUser.userName?i("span",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(){return t.$router.push({path:"/user",query:{userName:a.actionsRecordUser.userName}})}}},[t._v("("+t._s(a.actionsRecordUser.userName)+")")]):t._e()]}},{key:"locationsArea",fn:function(e,a){return[i("span",[t._v(t._s(a.createdLocations)+"("+t._s(a.createdArea)+")")])]}},{key:"targetName",fn:function(e){return[i("span",[t._v(t._s(e||"无数据"))])]}},{key:"lockType",fn:function(e,a){return[i("a-tag",{attrs:{color:void 0!==a.otherConfig.lockType&&void 0!==t.lockTypeList.find((function(t){return t.value===a.otherConfig.lockType}))?t.lockTypeList.find((function(t){return t.value===a.otherConfig.lockType})).color:"grey"}},[t._v(" "+t._s(void 0!==a.otherConfig.lockType&&void 0!==t.lockTypeList.find((function(t){return t.value===a.otherConfig.lockType}))?t.lockTypeList.find((function(t){return t.value===a.otherConfig.lockType})).label:a.otherConfig.lockType||"无")+" ")])]}},{key:"success",fn:function(e,a){return[i("a-tag",{attrs:{color:a.otherConfig&&!0===a.otherConfig.success?"green":"red"}},[t._v(t._s(a.otherConfig&&!0===a.otherConfig.success?"成功":"失败"))])]}},{key:"elapsedTime",fn:function(e,a){return[i("span",[i("strong",{staticStyle:{color:"darkyellow"}},[t._v(t._s(a.otherConfig&&a.otherConfig.elapsedTime?a.otherConfig.elapsedTime:"--"))]),t._v("s")])]}},{key:"failedAttempts",fn:function(e,a){return[i("span",[i("strong",{staticStyle:{color:"red"}},[t._v(t._s(a.otherConfig&&a.otherConfig.failedAttempts?a.otherConfig.failedAttempts:"--"))]),t._v("次")])]}},{key:"createdTimeStamp",fn:function(e){return[i("span",[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}},{key:"expandedRowRender",fn:function(e){return i("div",{staticStyle:{margin:"0"}},[t.expandedActionsIds.find((function(t){return t===e.id}))?[e.otherConfig&&e.otherConfig.owner&&e.otherConfig.owner.scumId?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("物主信息")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("strong",{staticStyle:{color:"#1890ff"}},[t._v(t._s(e.otherConfig.owner.scumId))]),i("span",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.otherConfig.owner.steamId||"无Steam ID")+")")])])]:t._e(),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("坐标信息详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("触发坐标(区域):")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.createdLocations)),i("strong",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.createdArea)+")")])])]),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("地图标识")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{height:"150px",width:"180px","padding-left":"10px"}},[i("map-locations",{attrs:{width:180,height:150,locations:e.createdLocations}})],1)]:t._e()],2)}}])}),i("a-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"show-size-changer":"","page-size":t.actionsListPagination.pageSize,current:t.actionsListPagination.pageNum,total:t.actionsListPagination.total},on:{change:t.onChangeActionsListPagination,showSizeChange:t.onShowSizeChangeActionsListPagination}})],1)},ie=[],ae={name:"Defusal",components:{MapLocations:lt},data:function(){return{moment:E.a,loadingActionsListTable:!1,actionsListFilter:{steamId:void 0,scumId:void 0,createdArea:void 0,targetName:void 0,timestampStart:void 0,timestampEnd:void 0},actionsListColumns:[{title:"开锁人Steam ID",key:"steamId",dataIndex:"steamId",width:150,align:"center",scopedSlots:{customRender:"steamId"}},{title:"开锁人游戏名称",key:"scumId",dataIndex:"scumId",width:180,align:"center",scopedSlots:{customRender:"scumId"}},{title:"开锁人坐标(区域)",key:"locationsArea",dataIndex:"locationsArea",width:180,align:"center",scopedSlots:{customRender:"locationsArea"}},{title:"对象物品名称",key:"targetName",dataIndex:"targetName",width:200,align:"center",scopedSlots:{customRender:"targetName"}},{title:"难度类型",key:"lockType",dataIndex:"lockType",width:80,align:"center",scopedSlots:{customRender:"lockType"}},{title:"是否成功",key:"success",dataIndex:"success",width:80,align:"center",scopedSlots:{customRender:"success"}},{title:"排爆时长",key:"elapsedTime",dataIndex:"elapsedTime",width:100,align:"center",scopedSlots:{customRender:"elapsedTime"}},{title:"失败尝试次数",key:"failedAttempts",dataIndex:"failedAttempts",width:120,align:"center",scopedSlots:{customRender:"failedAttempts"}},{title:"生成记录时间",key:"createdTimeStamp",dataIndex:"createdTimeStamp",width:150,align:"center",scopedSlots:{customRender:"createdTimeStamp"}}],actionsListData:[],actionsListPagination:{pageSize:20,pageNum:1,total:0},expandedActionsIds:[],gameArealList:[],lockTypeList:[{value:"basic",label:"基础",color:"green"},{value:"medium",label:"中等",color:"yellow"},{value:"advanced",label:"高级",color:"red"}]}},mounted:function(){this.getGameAreaList(),this.getActionsList()},methods:{onActionsListCleanFilter:function(){var t=this;this.actionsListPagination.pageNum=1,this.$nextTick((function(){t.getActionsList(!0)}))},onActionsListFilter:function(){var t=this;this.actionsListPagination.pageNum=1,this.$nextTick((function(){t.getActionsList()}))},onChangeActionsListPagination:function(t){var e=this;this.actionsListPagination.pageNum=t,this.$nextTick((function(){e.getActionsList()}))},onShowSizeChangeActionsListPagination:function(t,e){var i=this;this.actionsListPagination.pageNum=1,this.actionsListPagination.pageSize=e,this.$nextTick((function(){i.getActionsList()}))},getActionsList:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o,s,r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.actionsListPagination,n=a.pageNum,o=a.pageSize,t?(e.actionsListFilter={steamId:void 0,scumId:void 0,createdArea:void 0,targetName:void 0,timestampStart:void 0,timestampEnd:void 0},s={pageNum:n,pageSize:o,type:"defusal"}):(r=Object(et["cloneDeep"])(e.actionsListFilter),void 0!==r.timestampStart&&void 0!==r.timestampEnd&&(r.timestampStart=E()(r.timestampStart).valueOf(),r.timestampEnd=E()(r.timestampEnd).valueOf()),s=Object(c["a"])({pageNum:n,pageSize:o,type:"defusal"},r)),e.loadingActionsListTable=!0,i.prev=3,i.next=6,y({method:"GET",url:"/actionsRecordAdminSys/list",params:s});case 6:l=i.sent,e.loadingActionsListTable=!1,200===l.status&&(e.actionsListPagination.total=l.data.count,e.actionsListData=l.data.list),i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](3),console.error(i.t0),e.loadingActionsListTable=!1;case 15:case"end":return i.stop()}}),i,null,[[3,11]])})))()},getGameAreaList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y({method:"GET",url:"/serverConfigAdminSys/gameAreaList"});case 3:i=e.sent,200===i.status&&(t.gameArealList=i.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},ne=ae,oe=Object(_["a"])(ne,ee,ie,!1,null,"efdf421c",null),se=oe.exports,re=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%","overflow-y":"auto",padding:"10px"}},[i("a-collapse",{staticStyle:{background:"none"},attrs:{"default-active-key":"1",bordered:!1}},[i("a-collapse-panel",{key:"1",staticStyle:{border:"none"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("搜索过滤条件")]),i("a-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary",icon:"filter"},nativeOn:{click:function(e){return e.stopPropagation(),t.onActionsListFilter.apply(null,arguments)}}},[t._v("过滤")]),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.onActionsListCleanFilter.apply(null,arguments)}}},[t._v("清空过滤 / 刷新")])],1),i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("操作者Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.actionsListFilter.steamId,callback:function(e){t.$set(t.actionsListFilter,"steamId",e)},expression:"actionsListFilter.steamId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("操作者游戏名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.actionsListFilter.scumId,callback:function(e){t.$set(t.actionsListFilter,"scumId",e)},expression:"actionsListFilter.scumId"}})],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("操作者所在区域:")]),i("a-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{allowClear:""},model:{value:t.actionsListFilter.createdArea,callback:function(e){t.$set(t.actionsListFilter,"createdArea",e)},expression:"actionsListFilter.createdArea"}},t._l(t.gameArealList,(function(e){return i("a-select-option",{key:e,attrs:{title:e}},[t._v(t._s(e))])})),1),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("记录时间:")]),i("a-range-picker",{staticStyle:{width:"320px","margin-left":"10px"},attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:[t.actionsListFilter.timestampStart,t.actionsListFilter.timestampEnd],allowClear:""},on:{change:function(e){t.$set(t.actionsListFilter,"timestampStart",e[0]),t.$set(t.actionsListFilter,"timestampEnd",e[1])}}})],1)])],1),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.actionsListColumns,"data-source":t.actionsListData,expandedRowKeys:t.expandedActionsIds,"row-key":"id",pagination:!1,loading:t.loadingActionsListTable,bordered:"",scroll:{x:"100%"},size:"small"},on:{expand:function(e,i){if(e)void 0===t.expandedActionsIds.find((function(t){return t===i.id}))&&t.expandedActionsIds.push(i.id);else{var a=Object.keys(t.expandedActionsIds).find((function(e){return t.expandedActionsIds[e]===i.id}));void 0!==a&&t.expandedActionsIds.splice(a,1)}}},scopedSlots:t._u([{key:"action",fn:function(e,a){return[i("a-tag",{attrs:{color:void 0!==t.actionTypeList.find((function(t){return t.value===a.otherConfig.action}))?t.actionTypeList.find((function(t){return t.value===a.otherConfig.action})).color:"grey"}},[t._v(" "+t._s(void 0!==t.actionTypeList.find((function(t){return t.value===a.otherConfig.action}))?t.actionTypeList.find((function(t){return t.value===a.otherConfig.action})).label:a.otherConfig.action)+" ")])]}},{key:"steamId",fn:function(e){return[i("span",[t._v(t._s(e))])]}},{key:"scumId",fn:function(e,a){return[i("span",[t._v(t._s(e))]),a.actionsRecordUser&&a.actionsRecordUser.userName?i("span",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(){return t.$router.push({path:"/user",query:{userName:a.actionsRecordUser.userName}})}}},[t._v("("+t._s(a.actionsRecordUser.userName)+")")]):t._e()]}},{key:"locationsArea",fn:function(e,a){return[i("span",[t._v(t._s(a.createdLocations)+"("+t._s(a.createdArea)+")")])]}},{key:"createdTimeStamp",fn:function(e){return[i("span",[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}},{key:"expandedRowRender",fn:function(e){return i("div",{staticStyle:{margin:"0"}},[t.expandedActionsIds.find((function(t){return t===e.id}))?[e.otherConfig&&e.otherConfig.owner&&e.otherConfig.owner.scumId?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("玩家信息")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("strong",{staticStyle:{color:"#1890ff"}},[t._v(t._s(e.otherConfig.owner.scumId))]),i("span",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.otherConfig.owner.steamId||"无Steam ID")+")")])])]:t._e(),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("坐标信息详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),e.otherConfig&&e.otherConfig.flag&&e.otherConfig.flag.id?[i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("领地旗ID:")]),i("strong",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.otherConfig.flag.id))])]),e.otherConfig&&e.otherConfig.flag&&e.otherConfig.flag.locations&&e.otherConfig.flag.area?i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("领地旗坐标(区域):")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.otherConfig.flag.locations)),i("strong",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.otherConfig.flag.area)+")")])])]):t._e()]:t._e(),e.otherConfig&&e.otherConfig.flag&&e.otherConfig.flag.locations&&e.otherConfig.flag.area?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("领地旗地图标识")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{height:"150px",width:"180px","padding-left":"10px"}},[i("map-locations",{attrs:{width:180,height:150,locations:e.otherConfig.flag.locations}})],1)]:t._e()]:t._e()],2)}}])}),i("a-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"show-size-changer":"","page-size":t.actionsListPagination.pageSize,current:t.actionsListPagination.pageNum,total:t.actionsListPagination.total},on:{change:t.onChangeActionsListPagination,showSizeChange:t.onShowSizeChangeActionsListPagination}})],1)},le=[],ce={name:"Flag",components:{MapLocations:lt},data:function(){return{moment:E.a,loadingActionsListTable:!1,actionsListFilter:{steamId:void 0,scumId:void 0,createdArea:void 0,targetName:void 0,timestampStart:void 0,timestampEnd:void 0},actionsListColumns:[{title:"动作类型",key:"action",dataIndex:"action",width:100,align:"center",scopedSlots:{customRender:"action"}},{title:"操作人Steam ID",key:"steamId",dataIndex:"steamId",width:150,align:"center",scopedSlots:{customRender:"steamId"}},{title:"操作人游戏名称",key:"scumId",dataIndex:"scumId",width:180,align:"center",scopedSlots:{customRender:"scumId"}},{title:"操作人坐标(区域)",key:"locationsArea",dataIndex:"locationsArea",width:180,align:"center",scopedSlots:{customRender:"locationsArea"}},{title:"生成记录时间",key:"createdTimeStamp",dataIndex:"createdTimeStamp",width:150,align:"center",scopedSlots:{customRender:"createdTimeStamp"}}],actionsListData:[],actionsListPagination:{pageSize:20,pageNum:1,total:0},expandedActionsIds:[],gameArealList:[],actionTypeList:[{value:"createdFlag",label:"造旗",color:"green"},{value:"destroyedFlag",label:"毁旗",color:"red"}]}},mounted:function(){this.getGameAreaList(),this.getActionsList()},methods:{onActionsListCleanFilter:function(){var t=this;this.actionsListPagination.pageNum=1,this.$nextTick((function(){t.getActionsList(!0)}))},onActionsListFilter:function(){var t=this;this.actionsListPagination.pageNum=1,this.$nextTick((function(){t.getActionsList()}))},onChangeActionsListPagination:function(t){var e=this;this.actionsListPagination.pageNum=t,this.$nextTick((function(){e.getActionsList()}))},onShowSizeChangeActionsListPagination:function(t,e){var i=this;this.actionsListPagination.pageNum=1,this.actionsListPagination.pageSize=e,this.$nextTick((function(){i.getActionsList()}))},getActionsList:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o,s,r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.actionsListPagination,n=a.pageNum,o=a.pageSize,t?(e.actionsListFilter={steamId:void 0,scumId:void 0,createdArea:void 0,targetName:void 0,timestampStart:void 0,timestampEnd:void 0},s={pageNum:n,pageSize:o,type:"flag"}):(r=Object(et["cloneDeep"])(e.actionsListFilter),void 0!==r.timestampStart&&void 0!==r.timestampEnd&&(r.timestampStart=E()(r.timestampStart).valueOf(),r.timestampEnd=E()(r.timestampEnd).valueOf()),s=Object(c["a"])({pageNum:n,pageSize:o,type:"flag"},r)),e.loadingActionsListTable=!0,i.prev=3,i.next=6,y({method:"GET",url:"/actionsRecordAdminSys/list",params:s});case 6:l=i.sent,e.loadingActionsListTable=!1,200===l.status&&(e.actionsListPagination.total=l.data.count,e.actionsListData=l.data.list),i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](3),console.error(i.t0),e.loadingActionsListTable=!1;case 15:case"end":return i.stop()}}),i,null,[[3,11]])})))()},getGameAreaList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y({method:"GET",url:"/serverConfigAdminSys/gameAreaList"});case 3:i=e.sent,200===i.status&&(t.gameArealList=i.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},de=ce,pe=Object(_["a"])(de,re,le,!1,null,"066ed292",null),ge=pe.exports,ue=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%","overflow-y":"auto",padding:"10px"}},[i("a-collapse",{staticStyle:{background:"none"},attrs:{"default-active-key":"1",bordered:!1}},[i("a-collapse-panel",{key:"1",staticStyle:{border:"none"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("搜索过滤条件")]),i("a-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary",icon:"filter"},nativeOn:{click:function(e){return e.stopPropagation(),t.onActionsListFilter.apply(null,arguments)}}},[t._v("过滤")]),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.onActionsListCleanFilter.apply(null,arguments)}}},[t._v("清空过滤 / 刷新")])],1),i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("操作者Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.actionsListFilter.steamId,callback:function(e){t.$set(t.actionsListFilter,"steamId",e)},expression:"actionsListFilter.steamId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("操作者游戏名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.actionsListFilter.scumId,callback:function(e){t.$set(t.actionsListFilter,"scumId",e)},expression:"actionsListFilter.scumId"}})],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("操作者所在区域:")]),i("a-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{allowClear:""},model:{value:t.actionsListFilter.createdArea,callback:function(e){t.$set(t.actionsListFilter,"createdArea",e)},expression:"actionsListFilter.createdArea"}},t._l(t.gameArealList,(function(e){return i("a-select-option",{key:e,attrs:{title:e}},[t._v(t._s(e))])})),1),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("记录时间:")]),i("a-range-picker",{staticStyle:{width:"320px","margin-left":"10px"},attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:[t.actionsListFilter.timestampStart,t.actionsListFilter.timestampEnd],allowClear:""},on:{change:function(e){t.$set(t.actionsListFilter,"timestampStart",e[0]),t.$set(t.actionsListFilter,"timestampEnd",e[1])}}})],1)])],1),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.actionsListColumns,"data-source":t.actionsListData,expandedRowKeys:t.expandedActionsIds,"row-key":"id",pagination:!1,loading:t.loadingActionsListTable,bordered:"",scroll:{x:"100%"},size:"small"},on:{expand:function(e,i){if(e)void 0===t.expandedActionsIds.find((function(t){return t===i.id}))&&t.expandedActionsIds.push(i.id);else{var a=Object.keys(t.expandedActionsIds).find((function(e){return t.expandedActionsIds[e]===i.id}));void 0!==a&&t.expandedActionsIds.splice(a,1)}}},scopedSlots:t._u([{key:"action",fn:function(e,a){return[i("a-tag",{attrs:{color:void 0!==t.actionTypeList.find((function(t){return t.value===a.otherConfig.action}))?t.actionTypeList.find((function(t){return t.value===a.otherConfig.action})).color:"grey"}},[t._v(" "+t._s(void 0!==t.actionTypeList.find((function(t){return t.value===a.otherConfig.action}))?t.actionTypeList.find((function(t){return t.value===a.otherConfig.action})).label:a.otherConfig.action)+" ")])]}},{key:"steamId",fn:function(e){return[i("span",[t._v(t._s(e))])]}},{key:"scumId",fn:function(e,a){return[i("span",[t._v(t._s(e))]),a.actionsRecordUser&&a.actionsRecordUser.userName?i("span",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(){return t.$router.push({path:"/user",query:{userName:a.actionsRecordUser.userName}})}}},[t._v("("+t._s(a.actionsRecordUser.userName)+")")]):t._e()]}},{key:"locationsArea",fn:function(e,a){return[i("span",[t._v(t._s(a.createdLocations)+"("+t._s(a.createdArea)+")")])]}},{key:"createdTimeStamp",fn:function(e){return[i("span",[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}},{key:"expandedRowRender",fn:function(e){return i("div",{staticStyle:{margin:"0"}},[t.expandedActionsIds.find((function(t){return t===e.id}))?[e.otherConfig&&e.otherConfig.owner&&e.otherConfig.owner.scumId?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("物主信息")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("strong",{staticStyle:{color:"#1890ff"}},[t._v(t._s(e.otherConfig.owner.scumId))]),i("span",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.otherConfig.owner.steamId||"无Steam ID")+")")])])]:t._e(),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("坐标信息详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v(t._s(e.otherConfig&&"overtakeCanceled"===e.otherConfig.action?"领地旗":"玩家")+"坐标(区域):")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.createdLocations)),i("strong",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.createdArea)+")")])])]),e.otherConfig&&e.otherConfig.flag&&e.otherConfig.flag.id?[i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("领地旗ID:")]),i("strong",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.otherConfig.flag.id))])]),e.otherConfig&&e.otherConfig.flag&&e.otherConfig.flag.locations&&e.otherConfig.flag.area?i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("领地旗坐标(区域):")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.otherConfig.flag.locations)),i("strong",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.otherConfig.flag.area)+")")])])]):t._e()]:t._e(),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("玩家地图标识")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{height:"150px",width:"180px","padding-left":"10px"}},[i("map-locations",{attrs:{width:180,height:150,locations:e.createdLocations}})],1),e.otherConfig&&e.otherConfig.flag&&e.otherConfig.flag.locations&&e.otherConfig.flag.area?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("领地旗地图标识")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{height:"150px",width:"180px","padding-left":"10px"}},[i("map-locations",{attrs:{width:180,height:150,locations:e.otherConfig.flag.locations}})],1)]:t._e()]:t._e()],2)}}])}),i("a-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"show-size-changer":"","page-size":t.actionsListPagination.pageSize,current:t.actionsListPagination.pageNum,total:t.actionsListPagination.total},on:{change:t.onChangeActionsListPagination,showSizeChange:t.onShowSizeChangeActionsListPagination}})],1)},me=[],he={name:"BaseBuilding",components:{MapLocations:lt},data:function(){return{moment:E.a,loadingActionsListTable:!1,actionsListFilter:{steamId:void 0,scumId:void 0,createdArea:void 0,targetName:void 0,timestampStart:void 0,timestampEnd:void 0},actionsListColumns:[{title:"动作类型",key:"action",dataIndex:"action",width:100,align:"center",scopedSlots:{customRender:"action"}},{title:"摸旗人Steam ID",key:"steamId",dataIndex:"steamId",width:150,align:"center",scopedSlots:{customRender:"steamId"}},{title:"摸旗人游戏名称",key:"scumId",dataIndex:"scumId",width:180,align:"center",scopedSlots:{customRender:"scumId"}},{title:"摸旗人坐标(区域)",key:"locationsArea",dataIndex:"locationsArea",width:180,align:"center",scopedSlots:{customRender:"locationsArea"}},{title:"生成记录时间",key:"createdTimeStamp",dataIndex:"createdTimeStamp",width:150,align:"center",scopedSlots:{customRender:"createdTimeStamp"}}],actionsListData:[],actionsListPagination:{pageSize:20,pageNum:1,total:0},expandedActionsIds:[],gameArealList:[],actionTypeList:[{value:"overtakeStarted",label:"开始摸旗",color:"yellow"},{value:"overtakeCanceled",label:"取消摸旗",color:"yellow"},{value:"overtakeAbandoned",label:"放弃摸旗",color:"yellow"},{value:"overtaken",label:"占领",color:"red"},{value:"overtakenOther",label:"占领(离队)",color:"red"}]}},mounted:function(){this.getGameAreaList(),this.getActionsList()},methods:{onActionsListCleanFilter:function(){var t=this;this.actionsListPagination.pageNum=1,this.$nextTick((function(){t.getActionsList(!0)}))},onActionsListFilter:function(){var t=this;this.actionsListPagination.pageNum=1,this.$nextTick((function(){t.getActionsList()}))},onChangeActionsListPagination:function(t){var e=this;this.actionsListPagination.pageNum=t,this.$nextTick((function(){e.getActionsList()}))},onShowSizeChangeActionsListPagination:function(t,e){var i=this;this.actionsListPagination.pageNum=1,this.actionsListPagination.pageSize=e,this.$nextTick((function(){i.getActionsList()}))},getActionsList:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o,s,r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.actionsListPagination,n=a.pageNum,o=a.pageSize,t?(e.actionsListFilter={steamId:void 0,scumId:void 0,createdArea:void 0,targetName:void 0,timestampStart:void 0,timestampEnd:void 0},s={pageNum:n,pageSize:o,type:"baseBuilding"}):(r=Object(et["cloneDeep"])(e.actionsListFilter),void 0!==r.timestampStart&&void 0!==r.timestampEnd&&(r.timestampStart=E()(r.timestampStart).valueOf(),r.timestampEnd=E()(r.timestampEnd).valueOf()),s=Object(c["a"])({pageNum:n,pageSize:o,type:"baseBuilding"},r)),e.loadingActionsListTable=!0,i.prev=3,i.next=6,y({method:"GET",url:"/actionsRecordAdminSys/list",params:s});case 6:l=i.sent,e.loadingActionsListTable=!1,200===l.status&&(e.actionsListPagination.total=l.data.count,e.actionsListData=l.data.list),i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](3),console.error(i.t0),e.loadingActionsListTable=!1;case 15:case"end":return i.stop()}}),i,null,[[3,11]])})))()},getGameAreaList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y({method:"GET",url:"/serverConfigAdminSys/gameAreaList"});case 3:i=e.sent,200===i.status&&(t.gameArealList=i.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},fe=he,ve=Object(_["a"])(fe,ue,me,!1,null,"c64ba7da",null),ye=ve.exports,xe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%","overflow-y":"auto",padding:"10px"}},[i("a-collapse",{staticStyle:{background:"none"},attrs:{"default-active-key":"1",bordered:!1}},[i("a-collapse-panel",{key:"1",staticStyle:{border:"none"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("搜索过滤条件")]),i("a-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary",icon:"filter"},nativeOn:{click:function(e){return e.stopPropagation(),t.onActionsListFilter.apply(null,arguments)}}},[t._v("过滤")]),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.onActionsListCleanFilter.apply(null,arguments)}}},[t._v("清空过滤 / 刷新")])],1),i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("操作者Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.actionsListFilter.steamId,callback:function(e){t.$set(t.actionsListFilter,"steamId",e)},expression:"actionsListFilter.steamId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("操作者游戏名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.actionsListFilter.scumId,callback:function(e){t.$set(t.actionsListFilter,"scumId",e)},expression:"actionsListFilter.scumId"}})],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("操作者所在区域:")]),i("a-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{allowClear:""},model:{value:t.actionsListFilter.createdArea,callback:function(e){t.$set(t.actionsListFilter,"createdArea",e)},expression:"actionsListFilter.createdArea"}},t._l(t.gameArealList,(function(e){return i("a-select-option",{key:e,attrs:{title:e}},[t._v(t._s(e))])})),1),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("记录时间:")]),i("a-range-picker",{staticStyle:{width:"320px","margin-left":"10px"},attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:[t.actionsListFilter.timestampStart,t.actionsListFilter.timestampEnd],allowClear:""},on:{change:function(e){t.$set(t.actionsListFilter,"timestampStart",e[0]),t.$set(t.actionsListFilter,"timestampEnd",e[1])}}})],1)])],1),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.actionsListColumns,"data-source":t.actionsListData,expandedRowKeys:t.expandedActionsIds,"row-key":"id",pagination:!1,loading:t.loadingActionsListTable,bordered:"",scroll:{x:"100%"},size:"small"},on:{expand:function(e,i){if(e)void 0===t.expandedActionsIds.find((function(t){return t===i.id}))&&t.expandedActionsIds.push(i.id);else{var a=Object.keys(t.expandedActionsIds).find((function(e){return t.expandedActionsIds[e]===i.id}));void 0!==a&&t.expandedActionsIds.splice(a,1)}}},scopedSlots:t._u([{key:"action",fn:function(e,a){return[i("a-tag",{attrs:{color:void 0!==t.actionTypeList.find((function(t){return t.value===a.otherConfig.action}))?t.actionTypeList.find((function(t){return t.value===a.otherConfig.action})).color:"grey"}},[t._v(" "+t._s(void 0!==t.actionTypeList.find((function(t){return t.value===a.otherConfig.action}))?t.actionTypeList.find((function(t){return t.value===a.otherConfig.action})).label:a.otherConfig.action)+" ")])]}},{key:"steamId",fn:function(e){return[i("span",[t._v(t._s(e))])]}},{key:"scumId",fn:function(e,a){return[i("span",[t._v(t._s(e))]),a.actionsRecordUser&&a.actionsRecordUser.userName?i("span",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(){return t.$router.push({path:"/user",query:{userName:a.actionsRecordUser.userName}})}}},[t._v("("+t._s(a.actionsRecordUser.userName)+")")]):t._e()]}},{key:"locationsArea",fn:function(e,a){return[i("span",[t._v(t._s(a.createdLocations)+"("+t._s(a.createdArea)+")")])]}},{key:"createdTimeStamp",fn:function(e){return[i("span",[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}},{key:"expandedRowRender",fn:function(e){return i("div",{staticStyle:{margin:"0"}},[t.expandedActionsIds.find((function(t){return t===e.id}))?[e.otherConfig&&e.otherConfig.owner&&e.otherConfig.owner.scumId?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("箱子主人信息")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("strong",{staticStyle:{color:"#1890ff"}},[t._v(t._s(e.otherConfig.owner.scumId))]),i("span",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.otherConfig.owner.steamId||"无Steam ID")+")")])])]:t._e(),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("坐标信息详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),e.otherConfig&&e.otherConfig.chest&&e.otherConfig.chest.id?[i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("箱子ID:")]),i("strong",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.otherConfig.chest.id))])]),e.otherConfig&&e.otherConfig.chest&&e.otherConfig.chest.locations&&e.otherConfig.chest.area?i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("箱子坐标(区域):")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.otherConfig.chest.locations)),i("strong",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.otherConfig.chest.area)+")")])])]):t._e()]:t._e(),e.otherConfig&&e.otherConfig.chest&&e.otherConfig.chest.locations&&e.otherConfig.chest.area?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("箱子地图标识")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{height:"150px",width:"180px","padding-left":"10px"}},[i("map-locations",{attrs:{width:180,height:150,locations:e.otherConfig.chest.locations}})],1)]:t._e()]:t._e()],2)}}])}),i("a-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"show-size-changer":"","page-size":t.actionsListPagination.pageSize,current:t.actionsListPagination.pageNum,total:t.actionsListPagination.total},on:{change:t.onChangeActionsListPagination,showSizeChange:t.onShowSizeChangeActionsListPagination}})],1)},Se=[],we={name:"Chest",components:{MapLocations:lt},data:function(){return{moment:E.a,loadingActionsListTable:!1,actionsListFilter:{steamId:void 0,scumId:void 0,createdArea:void 0,targetName:void 0,timestampStart:void 0,timestampEnd:void 0},actionsListColumns:[{title:"动作类型",key:"action",dataIndex:"action",width:100,align:"center",scopedSlots:{customRender:"action"}},{title:"操作人Steam ID",key:"steamId",dataIndex:"steamId",width:150,align:"center",scopedSlots:{customRender:"steamId"}},{title:"操作人游戏名称",key:"scumId",dataIndex:"scumId",width:180,align:"center",scopedSlots:{customRender:"scumId"}},{title:"操作人坐标(区域)",key:"locationsArea",dataIndex:"locationsArea",width:180,align:"center",scopedSlots:{customRender:"locationsArea"}},{title:"生成记录时间",key:"createdTimeStamp",dataIndex:"createdTimeStamp",width:150,align:"center",scopedSlots:{customRender:"createdTimeStamp"}}],actionsListData:[],actionsListPagination:{pageSize:20,pageNum:1,total:0},expandedActionsIds:[],gameArealList:[],actionTypeList:[{value:"bury",label:"埋箱子",color:"green"},{value:"unbury",label:"挖箱子",color:"red"}]}},mounted:function(){this.getGameAreaList(),this.getActionsList()},methods:{onActionsListCleanFilter:function(){var t=this;this.actionsListPagination.pageNum=1,this.$nextTick((function(){t.getActionsList(!0)}))},onActionsListFilter:function(){var t=this;this.actionsListPagination.pageNum=1,this.$nextTick((function(){t.getActionsList()}))},onChangeActionsListPagination:function(t){var e=this;this.actionsListPagination.pageNum=t,this.$nextTick((function(){e.getActionsList()}))},onShowSizeChangeActionsListPagination:function(t,e){var i=this;this.actionsListPagination.pageNum=1,this.actionsListPagination.pageSize=e,this.$nextTick((function(){i.getActionsList()}))},getActionsList:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o,s,r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.actionsListPagination,n=a.pageNum,o=a.pageSize,t?(e.actionsListFilter={steamId:void 0,scumId:void 0,createdArea:void 0,targetName:void 0,timestampStart:void 0,timestampEnd:void 0},s={pageNum:n,pageSize:o,type:"chest"}):(r=Object(et["cloneDeep"])(e.actionsListFilter),void 0!==r.timestampStart&&void 0!==r.timestampEnd&&(r.timestampStart=E()(r.timestampStart).valueOf(),r.timestampEnd=E()(r.timestampEnd).valueOf()),s=Object(c["a"])({pageNum:n,pageSize:o,type:"chest"},r)),e.loadingActionsListTable=!0,i.prev=3,i.next=6,y({method:"GET",url:"/actionsRecordAdminSys/list",params:s});case 6:l=i.sent,e.loadingActionsListTable=!1,200===l.status&&(e.actionsListPagination.total=l.data.count,e.actionsListData=l.data.list),i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](3),console.error(i.t0),e.loadingActionsListTable=!1;case 15:case"end":return i.stop()}}),i,null,[[3,11]])})))()},getGameAreaList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y({method:"GET",url:"/serverConfigAdminSys/gameAreaList"});case 3:i=e.sent,200===i.status&&(t.gameArealList=i.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},be=we,Le=Object(_["a"])(be,xe,Se,!1,null,"7f7f169e",null),ke=Le.exports,Ie=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%","overflow-y":"auto",padding:"10px"}},[i("a-collapse",{staticStyle:{background:"none"},attrs:{"default-active-key":"1",bordered:!1}},[i("a-collapse-panel",{key:"1",staticStyle:{border:"none"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("搜索过滤条件")]),i("a-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary",icon:"filter"},nativeOn:{click:function(e){return e.stopPropagation(),t.onActionsListFilter.apply(null,arguments)}}},[t._v("过滤")]),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.onActionsListCleanFilter.apply(null,arguments)}}},[t._v("清空过滤 / 刷新")])],1),i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("操作者Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.actionsListFilter.steamId,callback:function(e){t.$set(t.actionsListFilter,"steamId",e)},expression:"actionsListFilter.steamId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("操作者游戏名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.actionsListFilter.scumId,callback:function(e){t.$set(t.actionsListFilter,"scumId",e)},expression:"actionsListFilter.scumId"}})],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("记录时间:")]),i("a-range-picker",{staticStyle:{width:"320px","margin-left":"10px"},attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:[t.actionsListFilter.timestampStart,t.actionsListFilter.timestampEnd],allowClear:""},on:{change:function(e){t.$set(t.actionsListFilter,"timestampStart",e[0]),t.$set(t.actionsListFilter,"timestampEnd",e[1])}}})],1)])],1),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.actionsListColumns,"data-source":t.actionsListData,"row-key":"id",pagination:!1,loading:t.loadingActionsListTable,bordered:"",scroll:{x:"100%"},size:"small"},scopedSlots:t._u([{key:"steamId",fn:function(e){return[i("span",[t._v(t._s(e))])]}},{key:"scumId",fn:function(e,a){return[i("span",[t._v(t._s(e))]),a.actionsRecordUser&&a.actionsRecordUser.userName?i("span",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(){return t.$router.push({path:"/user",query:{userName:a.actionsRecordUser.userName}})}}},[t._v("("+t._s(a.actionsRecordUser.userName)+")")]):t._e()]}},{key:"newScumId",fn:function(e){return[i("span",[t._v(t._s(e.otherConfig.newScumId))])]}},{key:"createdTimeStamp",fn:function(e){return[i("span",[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}}])}),i("a-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"show-size-changer":"","page-size":t.actionsListPagination.pageSize,current:t.actionsListPagination.pageNum,total:t.actionsListPagination.total},on:{change:t.onChangeActionsListPagination,showSizeChange:t.onShowSizeChangeActionsListPagination}})],1)},_e=[],Fe={name:"ChangeName",data:function(){return{moment:E.a,loadingActionsListTable:!1,actionsListFilter:{steamId:void 0,scumId:void 0,createdArea:void 0,targetName:void 0,timestampStart:void 0,timestampEnd:void 0},actionsListColumns:[{title:"操作人Steam ID",key:"steamId",dataIndex:"steamId",width:150,align:"center",scopedSlots:{customRender:"steamId"}},{title:"操作人游戏名称",key:"scumId",dataIndex:"scumId",width:180,align:"center",scopedSlots:{customRender:"scumId"}},{title:"新名字",key:"newScumId",dataIndex:"newScumId",width:180,align:"center",scopedSlots:{customRender:"newScumId"}},{title:"生成记录时间",key:"createdTimeStamp",dataIndex:"createdTimeStamp",width:150,align:"center",scopedSlots:{customRender:"createdTimeStamp"}}],actionsListData:[],actionsListPagination:{pageSize:20,pageNum:1,total:0}}},mounted:function(){this.getActionsList()},methods:{onActionsListCleanFilter:function(){var t=this;this.actionsListPagination.pageNum=1,this.$nextTick((function(){t.getActionsList(!0)}))},onActionsListFilter:function(){var t=this;this.actionsListPagination.pageNum=1,this.$nextTick((function(){t.getActionsList()}))},onChangeActionsListPagination:function(t){var e=this;this.actionsListPagination.pageNum=t,this.$nextTick((function(){e.getActionsList()}))},onShowSizeChangeActionsListPagination:function(t,e){var i=this;this.actionsListPagination.pageNum=1,this.actionsListPagination.pageSize=e,this.$nextTick((function(){i.getActionsList()}))},getActionsList:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o,s,r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.actionsListPagination,n=a.pageNum,o=a.pageSize,t?(e.actionsListFilter={steamId:void 0,scumId:void 0,timestampStart:void 0,timestampEnd:void 0},s={pageNum:n,pageSize:o,type:"changeName"}):(r=Object(et["cloneDeep"])(e.actionsListFilter),void 0!==r.timestampStart&&void 0!==r.timestampEnd&&(r.timestampStart=E()(r.timestampStart).valueOf(),r.timestampEnd=E()(r.timestampEnd).valueOf()),s=Object(c["a"])({pageNum:n,pageSize:o,type:"changeName"},r)),e.loadingActionsListTable=!0,i.prev=3,i.next=6,y({method:"GET",url:"/economyAdminSys/list",params:s});case 6:l=i.sent,e.loadingActionsListTable=!1,200===l.status&&(e.actionsListPagination.total=l.data.count,e.actionsListData=l.data.list),i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](3),console.error(i.t0),e.loadingActionsListTable=!1;case 15:case"end":return i.stop()}}),i,null,[[3,11]])})))()}}},Pe=Fe,Ce=Object(_["a"])(Pe,Ie,_e,!1,null,"85b585ec",null),Te=Ce.exports,Ae=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%","overflow-y":"auto",padding:"10px"}},[i("a-collapse",{staticStyle:{background:"none"},attrs:{"default-active-key":"1",bordered:!1}},[i("a-collapse-panel",{key:"1",staticStyle:{border:"none"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("搜索过滤条件")]),i("a-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary",icon:"filter"},nativeOn:{click:function(e){return e.stopPropagation(),t.onActionsListFilter.apply(null,arguments)}}},[t._v("过滤")]),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.onActionsListCleanFilter.apply(null,arguments)}}},[t._v("清空过滤 / 刷新")])],1),i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("操作者Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.actionsListFilter.steamId,callback:function(e){t.$set(t.actionsListFilter,"steamId",e)},expression:"actionsListFilter.steamId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("操作者游戏名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.actionsListFilter.scumId,callback:function(e){t.$set(t.actionsListFilter,"scumId",e)},expression:"actionsListFilter.scumId"}})],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("操作者所在区域:")]),i("a-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{allowClear:""},model:{value:t.actionsListFilter.createdArea,callback:function(e){t.$set(t.actionsListFilter,"createdArea",e)},expression:"actionsListFilter.createdArea"}},t._l(t.gameArealList,(function(e){return i("a-select-option",{key:e,attrs:{title:e}},[t._v(t._s(e))])})),1),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("记录时间:")]),i("a-range-picker",{staticStyle:{width:"320px","margin-left":"10px"},attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:[t.actionsListFilter.timestampStart,t.actionsListFilter.timestampEnd],allowClear:""},on:{change:function(e){t.$set(t.actionsListFilter,"timestampStart",e[0]),t.$set(t.actionsListFilter,"timestampEnd",e[1])}}})],1)])],1),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.actionsListColumns,"data-source":t.actionsListData,expandedRowKeys:t.expandedActionsIds,"row-key":"id",pagination:!1,loading:t.loadingActionsListTable,bordered:"",scroll:{x:"100%"},size:"small"},on:{expand:function(e,i){if(e)void 0===t.expandedActionsIds.find((function(t){return t===i.id}))&&t.expandedActionsIds.push(i.id);else{var a=Object.keys(t.expandedActionsIds).find((function(e){return t.expandedActionsIds[e]===i.id}));void 0!==a&&t.expandedActionsIds.splice(a,1)}}},scopedSlots:t._u([{key:"steamId",fn:function(e){return[i("span",[t._v(t._s(e))])]}},{key:"scumId",fn:function(e,a){return[i("span",[t._v(t._s(e))]),a.actionsRecordUser&&a.actionsRecordUser.userName?i("span",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(){return t.$router.push({path:"/user",query:{userName:a.actionsRecordUser.userName}})}}},[t._v("("+t._s(a.actionsRecordUser.userName)+")")]):t._e()]}},{key:"type",fn:function(e,a){return[i("a-tag",{attrs:{color:void 0!==t.actionTypeList.find((function(t){return t.value===a.type}))?t.actionTypeList.find((function(t){return t.value===a.type})).color:"grey"}},[t._v(" "+t._s(void 0!==t.actionTypeList.find((function(t){return t.value===a.type}))?t.actionTypeList.find((function(t){return t.value===a.type})).label:a.type)+" ")])]}},{key:"locationsArea",fn:function(e,a){return[i("span",[t._v(t._s(a.otherConfig.locations)+"("+t._s(a.otherConfig.area)+")")])]}},{key:"createdTimeStamp",fn:function(e){return[i("span",[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}},{key:"expandedRowRender",fn:function(e){return i("div",{staticStyle:{margin:"0"}},[t.expandedActionsIds.find((function(t){return t===e.id}))?["bankPurchase"===e.type&&e.otherConfig&&e.otherConfig.purchaseInfo&&e.otherConfig.purchaseInfo.cardType?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("卡片信息")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("卡种:")]),i("strong",{staticStyle:{"margin-left":"10px"},style:{color:void 0!==t.cardTypeList.find((function(t){return t.value===e.otherConfig.purchaseInfo.cardType}))?t.cardTypeList.find((function(t){return t.value===e.otherConfig.purchaseInfo.cardType})).color:"grey"}},[t._v(t._s(void 0!==t.cardTypeList.find((function(t){return t.value===e.otherConfig.purchaseInfo.cardType}))?t.cardTypeList.find((function(t){return t.value===e.otherConfig.purchaseInfo.cardType})).label:"--"))])]),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("卡号:")]),i("strong",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.otherConfig.purchaseInfo.accountId))])]),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("余额:")]),i("strong",{staticStyle:{"margin-left":"10px",color:"#1890ff"}},[t._v("$"+t._s(e.otherConfig.purchaseInfo.newCredit))])])]:t._e(),"bankDeposite"===e.type&&e.otherConfig&&e.otherConfig.depositeInfo&&e.otherConfig.depositeInfo.from&&e.otherConfig.depositeInfo.from.accountId?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("交易信息")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("存款人信息:")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(" (卡号: "),i("strong",[t._v(t._s(e.otherConfig.depositeInfo.from.accountId))]),t._v(")")])]),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("被存款卡信息:")]),i("span",{staticStyle:{"margin-left":"10px"}},[i("strong",[t._v(t._s(e.otherConfig.depositeInfo.to.scumId))]),t._v(" (Steam ID: "+t._s(e.otherConfig.depositeInfo.to.steamId)+", 卡号: "),i("strong",[t._v(t._s(e.otherConfig.depositeInfo.to.accountId))]),t._v(")")])]),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("交易明细:")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v("存入: "),i("strong",{staticStyle:{color:"#1890ff"}},[t._v("$"+t._s(e.otherConfig.depositeInfo.deal.total))]),t._v(", 除手续费入账金额: "),i("strong",{staticStyle:{color:"#1890ff"}},[t._v("$"+t._s(e.otherConfig.depositeInfo.deal.reality))])])])]:t._e(),"bankWithdraw"===e.type&&e.otherConfig&&e.otherConfig.withdrawInfo&&e.otherConfig.withdrawInfo.from&&e.otherConfig.withdrawInfo.to.accountId?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("交易信息")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("取款人信息:")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(" (卡号: "),i("strong",[t._v(t._s(e.otherConfig.withdrawInfo.to.accountId))]),t._v(")")])]),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("被取款卡信息:")]),i("span",{staticStyle:{"margin-left":"10px"}},[i("strong",[t._v(t._s(e.otherConfig.withdrawInfo.from.scumId))]),t._v(" (Steam ID: "+t._s(e.otherConfig.withdrawInfo.from.steamId)+", 卡号: "),i("strong",[t._v(t._s(e.otherConfig.withdrawInfo.from.accountId))]),t._v(")")])]),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("交易明细:")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v("扣除: "),i("strong",{staticStyle:{color:"#1890ff"}},[t._v("$"+t._s(e.otherConfig.withdrawInfo.deal.reality))]),t._v(", 除手续费到手金额: "),i("strong",{staticStyle:{color:"#1890ff"}},[t._v("$"+t._s(e.otherConfig.withdrawInfo.deal.total))])])])]:t._e(),"bankDestroy"===e.type&&e.otherConfig&&e.otherConfig.destroyInfo&&e.otherConfig.destroyInfo.cardType?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("卡片信息")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("卡种:")]),i("strong",{staticStyle:{"margin-left":"10px"},style:{color:void 0!==t.cardTypeList.find((function(t){return t.value===e.otherConfig.destroyInfo.cardType}))?t.cardTypeList.find((function(t){return t.value===e.otherConfig.destroyInfo.cardType})).color:"grey"}},[t._v(t._s(void 0!==t.cardTypeList.find((function(t){return t.value===e.otherConfig.destroyInfo.cardType}))?t.cardTypeList.find((function(t){return t.value===e.otherConfig.destroyInfo.cardType})).label:"--"))])]),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("卡号:")]),i("strong",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.otherConfig.destroyInfo.target.accountId))])])]:t._e(),"bankTransfer"===e.type&&e.otherConfig&&e.otherConfig.transferInfo&&e.otherConfig.transferInfo.from&&e.otherConfig.transferInfo.to.accountId?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("交易信息")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("转账卡信息:")]),i("span",{staticStyle:{"margin-left":"10px"}},[i("strong",[t._v(t._s(e.otherConfig.transferInfo.from.scumId))]),t._v(" (Steam ID: "+t._s(e.otherConfig.transferInfo.from.steamId)+", 卡号: "),i("strong",[t._v(t._s(e.otherConfig.transferInfo.from.accountId))]),t._v(")")])]),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("收款卡信息:")]),i("span",{staticStyle:{"margin-left":"10px"}},[i("strong",[t._v(t._s(e.otherConfig.transferInfo.to.scumId))]),t._v(" (Steam ID: "+t._s(e.otherConfig.transferInfo.to.steamId)+", 卡号: "),i("strong",[t._v(t._s(e.otherConfig.transferInfo.to.accountId))]),t._v(")")])]),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("交易明细:")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v("扣除: "),i("strong",{staticStyle:{color:"#1890ff"}},[t._v("$"+t._s(e.otherConfig.transferInfo.deal.total))]),t._v(", 除手续费到账金额: "),i("strong",{staticStyle:{color:"#1890ff"}},[t._v("$"+t._s(e.otherConfig.transferInfo.deal.reality))])])])]:t._e(),e.otherConfig&&e.otherConfig.locations&&e.otherConfig.area?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("坐标信息详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("交易坐标(区域):")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.otherConfig.locations)),i("strong",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.otherConfig.area)+")")])])]),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("地图标识")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{height:"150px",width:"180px","padding-left":"10px"}},[i("map-locations",{attrs:{width:180,height:150,locations:e.otherConfig.locations}})],1)]:t._e()]:t._e()],2)}}])}),i("a-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"show-size-changer":"","page-size":t.actionsListPagination.pageSize,current:t.actionsListPagination.pageNum,total:t.actionsListPagination.total},on:{change:t.onChangeActionsListPagination,showSizeChange:t.onShowSizeChangeActionsListPagination}})],1)},Re=[],Ge={name:"BankAtm",components:{MapLocations:lt},data:function(){return{moment:E.a,loadingActionsListTable:!1,actionsListFilter:{steamId:void 0,scumId:void 0,createdArea:void 0,targetName:void 0,timestampStart:void 0,timestampEnd:void 0},actionsListColumns:[{title:"操作人Steam ID",key:"steamId",dataIndex:"steamId",width:150,align:"center",scopedSlots:{customRender:"steamId"}},{title:"操作人游戏名称",key:"scumId",dataIndex:"scumId",width:180,align:"center",scopedSlots:{customRender:"scumId"}},{title:"操作类型",key:"type",dataIndex:"type",width:80,align:"center",scopedSlots:{customRender:"type"}},{title:"交易坐标(区域)",key:"locationsArea",dataIndex:"locationsArea",width:180,align:"center",scopedSlots:{customRender:"locationsArea"}},{title:"生成记录时间",key:"createdTimeStamp",dataIndex:"createdTimeStamp",width:150,align:"center",scopedSlots:{customRender:"createdTimeStamp"}}],actionsListData:[],actionsListPagination:{pageSize:20,pageNum:1,total:0},expandedActionsIds:[],gameArealList:[],actionTypeList:[{value:"bankPurchase",label:"开卡",color:"blue"},{value:"bankDeposite",label:"存钱",color:"green"},{value:"bankWithdraw",label:"取钱",color:"red"},{value:"bankTransfer",label:"转账",color:"red"},{value:"bankCancel",label:"注销",color:"black"},{value:"bankDestroy",label:"毁卡",color:"grey"}],cardTypeList:[{value:"Starter",label:"新手卡",color:"green"},{value:"Classic",label:"经典卡",color:"blue"},{value:"Gold",label:"金卡",color:"gold"}]}},mounted:function(){this.getGameAreaList(),this.getActionsList()},methods:{onActionsListCleanFilter:function(){var t=this;this.actionsListPagination.pageNum=1,this.$nextTick((function(){t.getActionsList(!0)}))},onActionsListFilter:function(){var t=this;this.actionsListPagination.pageNum=1,this.$nextTick((function(){t.getActionsList()}))},onChangeActionsListPagination:function(t){var e=this;this.actionsListPagination.pageNum=t,this.$nextTick((function(){e.getActionsList()}))},onShowSizeChangeActionsListPagination:function(t,e){var i=this;this.actionsListPagination.pageNum=1,this.actionsListPagination.pageSize=e,this.$nextTick((function(){i.getActionsList()}))},getActionsList:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o,s,r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.actionsListPagination,n=a.pageNum,o=a.pageSize,t?(e.actionsListFilter={steamId:void 0,scumId:void 0,createdArea:void 0,targetName:void 0,timestampStart:void 0,timestampEnd:void 0},s={pageNum:n,pageSize:o,type:"bank"}):(r=Object(et["cloneDeep"])(e.actionsListFilter),void 0!==r.timestampStart&&void 0!==r.timestampEnd&&(r.timestampStart=E()(r.timestampStart).valueOf(),r.timestampEnd=E()(r.timestampEnd).valueOf()),s=Object(c["a"])({pageNum:n,pageSize:o,type:"bank"},r)),e.loadingActionsListTable=!0,i.prev=3,i.next=6,y({method:"GET",url:"/economyAdminSys/list",params:s});case 6:l=i.sent,e.loadingActionsListTable=!1,200===l.status&&(e.actionsListPagination.total=l.data.count,e.actionsListData=l.data.list),i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](3),console.error(i.t0),e.loadingActionsListTable=!1;case 15:case"end":return i.stop()}}),i,null,[[3,11]])})))()},getGameAreaList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y({method:"GET",url:"/serverConfigAdminSys/gameAreaList"});case 3:i=e.sent,200===i.status&&(t.gameArealList=i.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},Me=Ge,De=Object(_["a"])(Me,Ae,Re,!1,null,"4820da03",null),Oe=De.exports,$e={name:"Actions",components:{Trap:Vt,LockPick:te,Defusal:se,Flag:ge,BaseBuilding:ye,Chest:ke,ChangeName:Te,BankAtm:Oe},computed:Object(c["a"])({},Object(S["mapState"])(["userInfo"])),data:function(){return{cleanLoading:!1,currentTab:"trap-record"}},mounted:function(){this.$route.query.category?this.currentTab=this.$route.query.category:(this.$router.push({path:"/actions-record",query:Object(c["a"])(Object(c["a"])({},this.$route.query),{},{category:"trap-record"})}),this.currentTab="trap-record")},methods:{cleanActionsRecord:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.cleanLoading=!0,e.next=4,y({method:"DELETE",url:"/actionsRecordAdminSys/clean"});case 4:i=e.sent,200===i.status&&(t.cleanLoading=!1,t.$message.success("操作成功"),a=t.currentTab,t.currentTab="",t.$nextTick((function(){t.currentTab=a}))),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),t.cleanLoading=!1,console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},ze=$e,Ne=Object(_["a"])(ze,Ht,Ut,!1,null,"2deadf81",null),Ee=Ne.exports,He=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%"}},[i("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:"违规记录列表"}},[t.userInfo&&"sysAdmin"===t.userInfo.role?i("template",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},slot:"extra"},[i("a-popconfirm",{attrs:{placement:"right",title:"确定要清空违规记录列表吗"},on:{confirm:t.cleanViolationsRecord}},[i("a-button",{attrs:{size:"small",icon:"delete",type:"danger",loading:t.cleanLoading}},[t._v("清空违规记录")])],1)],1):t._e()],2),i("div",{staticStyle:{width:"100%",height:"calc(100% - 66px)",padding:"15px","padding-top":"0"}},[i("div",{staticStyle:{width:"100%",height:"100%",background:"white","overflow-y":"auto",padding:"10px"}},[i("a-collapse",{staticStyle:{background:"none"},attrs:{"default-active-key":"1",bordered:!1}},[i("a-collapse-panel",{key:"1",staticStyle:{border:"none"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("搜索过滤条件")]),i("a-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary",icon:"filter"},nativeOn:{click:function(e){return e.stopPropagation(),t.onViolationsListFilter.apply(null,arguments)}}},[t._v("过滤")]),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.onViolationsListCleanFilter.apply(null,arguments)}}},[t._v("清空过滤 / 刷新")])],1),i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("违规类型标记:")]),i("a-select",{staticStyle:{width:"270px","margin-left":"10px"},attrs:{allowClear:""},model:{value:t.violationsListFilter.tag,callback:function(e){t.$set(t.violationsListFilter,"tag",e)},expression:"violationsListFilter.tag"}},t._l(t.tagList,(function(e){return i("a-select-option",{key:e.value,attrs:{title:e.label}},[i("a-tooltip",{attrs:{title:e.label}},[t._v(t._s(e.label))])],1)})),1),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.violationsListFilter.steamId,callback:function(e){t.$set(t.violationsListFilter,"steamId",e)},expression:"violationsListFilter.steamId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("日志原文:")]),i("a-input",{staticStyle:{width:"250px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.violationsListFilter.rawContent,callback:function(e){t.$set(t.violationsListFilter,"rawContent",e)},expression:"violationsListFilter.rawContent"}})],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("记录时间:")]),i("a-range-picker",{staticStyle:{width:"320px","margin-left":"10px"},attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:[t.violationsListFilter.timestampStart,t.violationsListFilter.timestampEnd],allowClear:""},on:{change:function(e){t.$set(t.violationsListFilter,"timestampStart",e[0]),t.$set(t.violationsListFilter,"timestampEnd",e[1])}}})],1)])],1),i("div",{staticStyle:{"margin-bottom":"10px"}},[i("a-tag",{attrs:{color:"green"}},[t._v("绿色标签")]),t._v("- 正常日志 "),i("a-tag",{staticStyle:{"margin-left":"10px"},attrs:{color:"orange"}},[t._v("橙色标签")]),t._v("- 疑似使用外挂 "),i("a-tag",{staticStyle:{"margin-left":"10px"},attrs:{color:"red"}},[t._v("红色标签")]),t._v("- 大概率使用外挂 ")],1),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.violationsListColumns,"data-source":t.violationsListData,expandedRowKeys:t.expandedViolationsIds,"row-key":"id",pagination:!1,loading:t.loadingViolationsListTable,bordered:"",scroll:{x:"100%"},size:"small"},on:{expand:function(e,i){if(e)void 0===t.expandedViolationsIds.find((function(t){return t===i.id}))&&t.expandedViolationsIds.push(i.id);else{var a=Object.keys(t.expandedViolationsIds).find((function(e){return t.expandedViolationsIds[e]===i.id}));void 0!==a&&t.expandedViolationsIds.splice(a,1)}}},scopedSlots:t._u([{key:"tag",fn:function(e){return[i("a-tag",{attrs:{color:void 0!==t.tagList.find((function(t){return t.value===e}))?t.tagList.find((function(t){return t.value===e})).color:"grey"}},[t._v(" "+t._s(void 0!==t.tagList.find((function(t){return t.value===e}))?t.tagList.find((function(t){return t.value===e})).label:"未标记类型")+" ")])]}},{key:"steamId",fn:function(e){return[i("span",[t._v(t._s(e))])]}},{key:"rawContent",fn:function(e,a){return[i("div",{staticStyle:{"text-overflow":"ellipsis","overflow-x":"hidden","white-space":"nowrap"},style:{cursor:void 0===t.expandedViolationsIds.find((function(t){return t===a.id}))?"pointer":"auto"},attrs:{title:void 0===t.expandedViolationsIds.find((function(t){return t===a.id}))?e+"\n【点击展开】":e},on:{click:function(e){void 0===t.expandedViolationsIds.find((function(t){return t===a.id}))&&t.expandedViolationsIds.push(a.id)}}},[t._v(" "+t._s(e)+" ")])]}},{key:"createdTimeStamp",fn:function(e){return[i("span",[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}},{key:"expandedRowRender",fn:function(e){return i("div",{staticStyle:{margin:"0"}},[t.expandedViolationsIds.find((function(t){return t===e.id}))?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("坐标信息详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("类型标记:")]),i("span",{staticStyle:{"margin-left":"10px"}},[i("span",{style:{color:void 0!==t.tagList.find((function(t){return t.value===e.tag}))?t.tagList.find((function(t){return t.value===e.tag})).color:"grey"}},[t._v(t._s(void 0!==t.tagList.find((function(t){return t.value===e.tag}))?t.tagList.find((function(t){return t.value===e.tag})).label:"未标记类型"))]),i("span",[t._v(" ("+t._s(e.tag)+")")])])]),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("违规解读:")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(void 0!==t.tagList.find((function(t){return t.value===e.tag}))&&t.tagList.find((function(t){return t.value===e.tag})).desc?t.tagList.find((function(t){return t.value===e.tag})).desc:"暂无"))])]),i("div",{staticStyle:{width:"100%","padding-left":"10px","line-height":"30px",height:"30px"}},[i("span",[t._v("日志原文:")])]),i("div",{staticStyle:{width:"100%","padding-left":"10px","margin-top":"5px"}},[i("span",[t._v(t._s(e.rawContent))])]),e.otherConfig&&"illegalLockpick"===e.tag?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("撬锁违规详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),e.otherConfig&&e.otherConfig.owner&&e.otherConfig.owner.scumId?i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("物主信息:")]),i("strong",{staticStyle:{color:"#1890ff","margin-left":"10px"}},[t._v(t._s(e.otherConfig.owner.scumId))]),i("span",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.otherConfig.owner.steamId||"无Steam ID")+")")])]):t._e(),e.otherConfig&&e.otherConfig.targetName?i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("物品信息:")]),i("strong",{staticStyle:{color:"#1890ff","margin-left":"10px"}},[t._v(t._s(e.otherConfig.targetName||""))])]):t._e(),e.otherConfig&&e.otherConfig.lockType?i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("锁类型:")]),i("a-tag",{staticStyle:{"margin-left":"10px"},attrs:{color:void 0!==t.lockTypeList.find((function(t){return t.value===e.otherConfig.lockType}))?t.lockTypeList.find((function(t){return t.value===e.otherConfig.lockType})).color:"grey"}},[t._v(" "+t._s(void 0!==t.lockTypeList.find((function(t){return t.value===e.otherConfig.lockType}))?t.lockTypeList.find((function(t){return t.value===e.otherConfig.lockType})).label:e.otherConfig.lockType)+" ")])],1):t._e()]:t._e(),e.otherConfig&&void 0!==e.otherConfig.locations&&void 0!==e.otherConfig.area?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("坐标信息详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("涉事坐标(区域):")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.otherConfig.locations)),i("strong",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.otherConfig.area)+")")])])]),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("地图标识")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{height:"150px",width:"180px","padding-left":"10px"}},[i("map-locations",{attrs:{width:180,height:150,locations:e.otherConfig.locations}})],1)]:t._e(),e.otherConfig&&void 0!==e.otherConfig.clientLocations&&void 0!==e.otherConfig.clientArea&&void 0!==e.otherConfig.serverLocations&&void 0!==e.otherConfig.serverArea?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("坐标信息详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("涉事客户端坐标(区域):")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.otherConfig.clientLocations)),i("strong",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.otherConfig.clientArea)+")")])])]),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("涉事服务端坐标(区域):")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.otherConfig.serverLocations)),i("strong",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.otherConfig.serverArea)+")")])])]),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("客户端地图标识")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{height:"150px",width:"180px","padding-left":"10px"}},[i("map-locations",{attrs:{width:180,height:150,locations:e.otherConfig.clientLocations}})],1),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("服务端地图标识")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{height:"150px",width:"180px","padding-left":"10px"}},[i("map-locations",{attrs:{width:180,height:150,locations:e.otherConfig.serverLocations}})],1)]:t._e()]:t._e()],2)}}])}),i("a-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"show-size-changer":"","page-size":t.violationsListPagination.pageSize,current:t.violationsListPagination.pageNum,total:t.violationsListPagination.total},on:{change:t.onChangeViolationsListPagination,showSizeChange:t.onShowSizeChangeViolationsListPagination}})],1)])],1)},Ue=[];i("00b4");function je(t){var e=/^\d+(\.\d+)?$/,i=/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/;return!(!e.test(t)&&!i.test(t))}var Ye=[{value:"KickPlayer-NetErrorConnectionLost",label:"踢出玩家(网络连接错误)",desc:"玩家掉线",color:"green"},{value:"KickPlayer-NetFileIntegrityCompromised",label:"踢出玩家(文件完整性检查出错)",desc:"玩家游戏文件出错闪退",color:"green"},{value:"KickPlayer-NetErrorPingTooHigh",label:"踢出玩家(延迟过高)",desc:"玩家延迟太高被踢",color:"green"},{value:"KickPlayer-GenericKickReason",label:"踢出玩家(通用原因)",desc:"未知原因的系统自动踢出，可能是游戏BUG，也有可能是新型外挂",color:"orange"},{value:"KickPlayer-Add item to inventory violation",label:"踢出玩家(异常的操作柜子物品行为)",desc:"玩家操作柜子物品的时候被系统检测出异常自动踢出服务器，可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"KickPlayer-Request character action violation",label:"踢出玩家(异常的玩家角色动作)",desc:"被系统检测出异常自动踢出服务器，可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"KickPlayer-Damage to player violation",label:"踢出玩家(异常的伤害计算)",desc:"被系统检测出异常自动踢出服务器，可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"KickPlayer-Light item interact violation",label:"踢出玩家(高亮附近贵重资源)",desc:"被系统检测出异常自动踢出服务器，可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"KickPlayer-Auto add item violation",label:"踢出玩家(异常的物品自动添加)",desc:"玩家操作物品的时候被系统检测出异常自动踢出服务器，可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂或者是利用游戏物品复制的bug",color:"orange"},{value:"KickPlayer-[InteractionViolation][GodModeFill]",label:"踢出玩家(检测到使用秒建的嫌疑)",desc:"玩家填充图纸的时候被系统检测出异常自动踢出服务器，可能是网络问题，短时间内多次出现可怀疑使用秒建等外挂",color:"orange"},{value:"KickPlayer-[InteractionViolation][RemoveLocksAdmin]",label:"踢出玩家(检测到使用一键下锁的嫌疑)",desc:"玩家撬锁的时候被系统检测出异常自动踢出服务器，可能是网络问题，短时间内多次出现可怀疑使用一键开锁等外挂",color:"orange"},{value:"KickPlayer-Infinite ammo cheat detected",label:"踢出玩家(检测到使用无限子弹外挂的嫌疑)",desc:"玩家使用武器的时候被系统检测出异常自动踢出服务器，可能是网络问题，短时间内多次出现可怀疑使用无限子弹等外挂",color:"red"},{value:"KickPlayer-[Auto Add] Violation detected",label:"踢出玩家(检测到使用无限子弹外挂的嫌疑)",desc:"玩家操作物品时候被系统检测出异常自动踢出服务器，可能是网络问题，短时间内多次出现可怀疑利用物品复制等游戏漏洞",color:"red"},{value:"BanPlayer",label:"临时/永久封禁玩家",desc:"系统自动封禁/管理员打命令Ban人记录",color:"red"},{value:"Light item interact violation",label:"高亮附近贵重资源",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂或者是利用游戏物品复制的bug",color:"orange"},{value:"TakeDamageViolation-Take damage violation",label:"伤害结算异常(受伤结算)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂或者是利用游戏物品复制的bug",color:"orange"},{value:"Request character action violation-PrisonerActionRemoveWeedDescription",label:"玩家角色动作异常(除草)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"Request character action violation-PrisonerActionClimbOntoLadderDescription",label:"玩家角色动作异常(爬梯子)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"Request character action violation-PrisonerActionCommitSuicideDescription",label:"玩家角色动作异常(自杀)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"Request character action violation-PrisonerActionMinigameDescription",label:"玩家角色动作异常(开锁/拆弹)",desc:"可能是网络问题，短时间内多次出现可怀疑使用开锁、拆弹加速、灵魂出窍等外挂",color:"orange"},{value:"Request character action violation-PrisonerActionGestureDescription",label:"玩家角色动作异常(称谓)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"Request character action violation-PrisonerActionLootCorpseDescription",label:"玩家角色动作异常(摸尸体)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"Request character action violation-PrisonerActionEatItemDescription",label:"玩家角色动作异常(进食)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"Request character action violation-PrisonerActionAddWeaponAttachmentDescription",label:"玩家角色动作异常(添加武器附件)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"Request character action violation-PrisonerActionCheckWeaponAmmoDescription",label:"玩家角色动作异常(检查武器子弹)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"Request character action violation-PrisonerActionLoadAmmoIntoMagazineDescription",label:"玩家角色动作异常(装弹)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"Request character action violation-PrisonerActionReloadWeaponDescription",label:"玩家角色动作异常(武器上弹)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"Request character action violation-PrisonerActionClearWeaponMalfunctionDescription",label:"玩家角色动作异常(排除武器卡壳)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"Request character action violation-PrisonerActionChangeWeaponFiringModeDescription",label:"玩家角色动作异常(切换武器连发单发)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"Request character action violation-PrisonerActionCheckWeaponFiringModeDescription",label:"玩家角色动作异常(检查武器连发单发)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"Request character action violation-PrisonerActionChangeWeaponFiringModeModeDescription",label:"[新]玩家角色动作异常(检查武器连发单发)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"Request character action violation-PrisonerActionTakeItemInHandsDescription",label:"玩家角色动作异常(往手上放东西)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂或者是利用游戏物品复制的bug",color:"orange"},{value:"Request character action violation-PrisonerActionRemoveItemFromHandsDescription",label:"玩家角色动作异常(把物品从手中丢出)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"Request character action violation-PrisonerActionEnterVehicleDescription",label:"玩家角色动作异常(玩家进入载具)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"Request character action violation-PrisonerActionOpenOrCloseVehicleDoorDescription",label:"玩家角色动作异常(玩家开关载具门)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"Request character action violation-PrisonerActionChangeVehicleWeaponAimingStanceDescription",label:"玩家角色动作异常(玩家在载具中改变瞄准姿态)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"Request character action violation-PrisonerActionChainForExitingVehicleDescription",label:"玩家角色动作异常(玩家离开载具的动作链)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"Request character action violation-PrisonerActionSwitchVehicleSeatDescription",label:"玩家角色动作异常(玩家在载具中更换座位)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"Request character action violation-PrisonerActionTriggerRemoteKeyDescription",label:"玩家角色动作异常(玩家触发远程物品的Key)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"Request character action violation-PrisonerActionUncraftItemDescription",label:"玩家角色动作异常(玩家撤销手工制造物品)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"Request character action violation-PrisonerActionThrowItemDescription",label:"玩家角色动作异常(玩家扔出物品)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"Request character action violation-PrisonerActionSearchGroundDescription",label:"玩家角色动作异常(玩家搜索地面)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"Request character action violation-PrisonerActionSearchObjectDescription",label:"玩家角色动作异常(玩家搜索物品)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"Request character action violation-PrisonerActionCutObjectDescription",label:"玩家角色动作异常(玩家切物品)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"Request character action violation-PrisonerActionCraftItemDescription",label:"玩家角色动作异常(玩家制造物品)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"Request character action violation-PrisonerActionDestroyItemDescription",label:"玩家角色动作异常(玩家毁坏物品)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"Request character action violation-PrisonerActionChopBaseElementDescription",label:"玩家角色动作异常(玩家毁坏基建物品)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"Request character action violation-PrisonerActionOpenItemDescription",label:"玩家角色动作异常(玩家打开物品)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"Request character action violation-PrisonerActionForceUnlockDescription",label:"玩家角色动作异常(玩家强制解锁)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"OutOfInteractionRangeViolation-Add item to inventory violation",label:"超出玩家角色交互范围(添加物品到容器)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"OutOfInteractionRangeViolation-Light item interact violation",label:"超出玩家角色交互范围(高亮附近贵重资源)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"OutOfInteractionRangeViolation-Equip clothes item violation",label:"超出玩家角色交互范围(装备、衣物、物品违规)",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"Equip clothes item violation",label:"装备、衣物、物品违规",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"MeeleDamageLocationsMismatch",label:"伤害结算时的坐标位置异常",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍、透视等外挂",color:"orange"},{value:"Auto add item violation",label:"物品自动添加异常",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂或者是利用游戏物品复制的bug",color:"orange"},{value:"Take damage violation",label:"玩家伤害计算异常",desc:"可能是网络问题或其他情况",color:"orange"},{value:"AmmoCountViolation",label:"子弹数量异常",desc:"玩家使用武器的时候检测出异常，可能是网络问题，短时间内多次出现可怀疑使用无限子弹等外挂",color:"orange"},{value:"AmmoCountMismatch",label:"子弹数量不匹配",desc:"玩家使用武器的时候检测出异常，可能是网络问题，短时间内多次出现可怀疑使用无限子弹等外挂",color:"orange"},{value:"GodModeFillViolation",label:"检测到使用一键建造的嫌疑",desc:"玩家填充图纸的时候检测出异常，可能是网络问题，短时间内多次出现可怀疑使用秒建等外挂",color:"orange"},{value:"Add item to inventory violation",label:"添加物品到容器",desc:"可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"green"},{value:"FalseTrapTriggerViolation",label:"意外的陷阱触发",desc:"玩家意外触发了陷阱(可能人根本不在原地)，可能是网络问题，短时间内多次出现可怀疑使用加速、灵魂出窍等外挂",color:"orange"},{value:"illegalLockpick",label:"异常撬锁记录",desc:"玩家在服务器不允许撬锁的地方撬锁，可能是管理员行为，否则可以怀疑使用了撬锁外挂",color:"red"},{value:"ProjectileDamageLocationsMismatch",label:"伤害记录坐标不匹配",desc:"可能是网络问题或其他情况",color:"orange"},{value:"",label:"(无类型)",desc:"无法识别的违规记录，如果大量出现可以联系作者",color:"grey"}],Be={name:"Violations",components:{MapLocations:lt},computed:Object(c["a"])({},Object(S["mapState"])(["userInfo"])),data:function(){return{moment:E.a,cleanLoading:!1,loadingViolationsListTable:!1,violationsListFilter:{tag:void 0,steamId:void 0,rawContent:void 0,timestampStart:void 0,timestampEnd:void 0},violationsListColumns:[{title:"违规类型标记",key:"tag",dataIndex:"tag",width:250,align:"center",scopedSlots:{customRender:"tag"}},{title:"Steam ID",key:"steamId",dataIndex:"steamId",width:150,align:"center",scopedSlots:{customRender:"steamId"}},{title:"日志原文",key:"rawContent",dataIndex:"rawContent",width:180,align:"center",scopedSlots:{customRender:"rawContent"}},{title:"生成记录时间",key:"createdTimeStamp",dataIndex:"createdTimeStamp",width:150,align:"center",scopedSlots:{customRender:"createdTimeStamp"}}],violationsListData:[],violationsListPagination:{pageSize:20,pageNum:1,total:0},expandedViolationsIds:[],tagList:Ye,lockTypeList:[{value:"basic",label:"基础",color:"green"},{value:"medium",label:"中等",color:"yellow"},{value:"advanced",label:"高级",color:"red"}]}},mounted:function(){this.getViolationsList()},methods:{onViolationsListCleanFilter:function(){var t=this;this.violationsListPagination.pageNum=1,this.$nextTick((function(){t.getViolationsList(!0)}))},onViolationsListFilter:function(){var t=this;this.violationsListPagination.pageNum=1,this.$nextTick((function(){t.getViolationsList()}))},onChangeViolationsListPagination:function(t){var e=this;this.violationsListPagination.pageNum=t,this.$nextTick((function(){e.getViolationsList()}))},onShowSizeChangeViolationsListPagination:function(t,e){var i=this;this.violationsListPagination.pageNum=1,this.violationsListPagination.pageSize=e,this.$nextTick((function(){i.getViolationsList()}))},getViolationsList:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o,s,r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.violationsListPagination,n=a.pageNum,o=a.pageSize,t?(e.violationsListFilter={tag:void 0,steamId:void 0,rawContent:void 0,timestampStart:void 0,timestampEnd:void 0},s={pageNum:n,pageSize:o}):(r=Object(et["cloneDeep"])(e.violationsListFilter),void 0!==r.timestampStart&&void 0!==r.timestampEnd&&(r.timestampStart=E()(r.timestampStart).valueOf(),r.timestampEnd=E()(r.timestampEnd).valueOf()),s=Object(c["a"])({pageNum:n,pageSize:o},r)),e.loadingViolationsListTable=!0,i.prev=3,i.next=6,y({method:"GET",url:"/violationsRecordAdminSys/list",params:s});case 6:l=i.sent,e.loadingViolationsListTable=!1,200===l.status&&(e.violationsListPagination.total=l.data.count,e.violationsListData=l.data.list),i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](3),console.error(i.t0),e.loadingViolationsListTable=!1;case 15:case"end":return i.stop()}}),i,null,[[3,11]])})))()},cleanViolationsRecord:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.cleanLoading=!0,e.next=4,y({method:"DELETE",url:"/violationsRecordAdminSys/clean"});case 4:i=e.sent,200===i.status&&(t.cleanLoading=!1,t.$message.success("操作成功"),t.getViolationsList()),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),t.cleanLoading=!1,console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},qe=Be,Ke=Object(_["a"])(qe,He,Ue,!1,null,"1aa3d5fc",null),Ve=Ke.exports,We=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%"}},[i("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:"NPC交易记录列表"}},[t.userInfo&&"sysAdmin"===t.userInfo.role?i("template",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},slot:"extra"},[i("a-popconfirm",{attrs:{placement:"right",title:"确定要清空NPC交易记录列表吗"},on:{confirm:t.cleanEconomyRecord}},[i("a-button",{attrs:{size:"small",icon:"delete",type:"danger",loading:t.cleanLoading}},[t._v("清空违规记录")])],1)],1):t._e()],2),i("div",{staticStyle:{width:"100%",height:"calc(100% - 66px)",padding:"15px","padding-top":"0"}},[i("div",{staticStyle:{width:"100%",height:"100%",background:"white","overflow-y":"auto",padding:"10px"}},[i("a-collapse",{staticStyle:{background:"none"},attrs:{"default-active-key":"1",bordered:!1}},[i("a-collapse-panel",{key:"1",staticStyle:{border:"none"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("搜索过滤条件")]),i("a-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary",icon:"filter"},nativeOn:{click:function(e){return e.stopPropagation(),t.onEconomyListFilter.apply(null,arguments)}}},[t._v("过滤")]),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.onEconomyListCleanFilter.apply(null,arguments)}}},[t._v("清空过滤 / 刷新")])],1),i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("操作者Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.economyListFilter.steamId,callback:function(e){t.$set(t.economyListFilter,"steamId",e)},expression:"economyListFilter.steamId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("操作者游戏名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.economyListFilter.scumId,callback:function(e){t.$set(t.economyListFilter,"scumId",e)},expression:"economyListFilter.scumId"}})],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("交易员:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.economyListFilter.trader,callback:function(e){t.$set(t.economyListFilter,"trader",e)},expression:"economyListFilter.trader"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("记录时间:")]),i("a-range-picker",{staticStyle:{width:"320px","margin-left":"10px"},attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:[t.economyListFilter.timestampStart,t.economyListFilter.timestampEnd],allowClear:""},on:{change:function(e){t.$set(t.economyListFilter,"timestampStart",e[0]),t.$set(t.economyListFilter,"timestampEnd",e[1])}}})],1)])],1),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.economyListColumns,"data-source":t.economyListData,expandedRowKeys:t.expandedEconomyIds,"row-key":"id",pagination:!1,loading:t.loadingEconomyListTable,bordered:"",scroll:{x:"100%"},size:"small"},on:{expand:function(e,i){if(e)void 0===t.expandedEconomyIds.find((function(t){return t===i.id}))&&t.expandedEconomyIds.push(i.id);else{var a=Object.keys(t.expandedEconomyIds).find((function(e){return t.expandedEconomyIds[e]===i.id}));void 0!==a&&t.expandedEconomyIds.splice(a,1)}}},scopedSlots:t._u([{key:"steamId",fn:function(e){return[i("span",[t._v(t._s(e))])]}},{key:"scumId",fn:function(e,a){return[i("span",[t._v(t._s(e))]),a.actionsRecordUser&&a.actionsRecordUser.userName?i("span",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(){return t.$router.push({path:"/user",query:{userName:a.actionsRecordUser.userName}})}}},[t._v("("+t._s(a.actionsRecordUser.userName)+")")]):t._e()]}},{key:"type",fn:function(e,a){return[i("a-tag",{attrs:{color:void 0!==t.typeList.find((function(t){return t.value===a.type}))?t.typeList.find((function(t){return t.value===a.type})).color:"grey"}},[t._v(" "+t._s(void 0!==t.typeList.find((function(t){return t.value===a.type}))?t.typeList.find((function(t){return t.value===a.type})).label:a.type)+" ")])]}},{key:"before",fn:function(e,a){return[a.otherConfig&&a.otherConfig.before?[i("a-tooltip",{attrs:{title:"现金"}},[i("span",[i("a-icon",{staticStyle:{color:"#1890ff"},attrs:{type:"money-collect"}}),i("strong",{staticStyle:{color:"#1890ff"}},[t._v(t._s(a.otherConfig.before.cash))])],1)]),i("a-tooltip",{attrs:{title:"金条"}},[i("span",{staticStyle:{"margin-left":"5px"}},[i("a-icon",{staticStyle:{color:"gold"},attrs:{type:"gold"}}),i("strong",{staticStyle:{color:"gold"}},[t._v(t._s(a.otherConfig.before.gold))])],1)]),i("a-tooltip",{attrs:{title:"银行卡余额"}},[i("span",{staticStyle:{"margin-left":"5px"}},[i("a-icon",{staticStyle:{color:"#18900f"},attrs:{type:"credit-card"}}),i("strong",{staticStyle:{color:"#18900f"}},[t._v(t._s(a.otherConfig.before.bankAccountBalance))])],1)])]:t._e()]}},{key:"after",fn:function(e,a){return[a.otherConfig&&a.otherConfig.after?[i("a-tooltip",{attrs:{title:"现金"}},[i("span",[i("a-icon",{staticStyle:{color:"#1890ff"},attrs:{type:"money-collect"}}),i("strong",{staticStyle:{color:"#1890ff"}},[t._v(t._s(a.otherConfig.after.cash))])],1)]),i("a-tooltip",{attrs:{title:"金条"}},[i("span",{staticStyle:{"margin-left":"5px"}},[i("a-icon",{staticStyle:{color:"gold"},attrs:{type:"gold"}}),i("strong",{staticStyle:{color:"gold"}},[t._v(t._s(a.otherConfig.after.gold))])],1)]),i("a-tooltip",{attrs:{title:"银行卡余额"}},[i("span",{staticStyle:{"margin-left":"5px"}},[i("a-icon",{staticStyle:{color:"#18900f"},attrs:{type:"credit-card"}}),i("strong",{staticStyle:{color:"#18900f"}},[t._v(t._s(a.otherConfig.after.bankAccountBalance))])],1)])]:t._e()]}},{key:"effectiveUsersOnline",fn:function(e,a){return[a.otherConfig&&a.otherConfig.effectiveUsersOnline?[i("span",[t._v(t._s(a.otherConfig.effectiveUsersOnline))])]:t._e()]}},{key:"createdTimeStamp",fn:function(e){return[i("span",[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}},{key:"expandedRowRender",fn:function(e){return i("div",{staticStyle:{margin:"0"}},[t.expandedEconomyIds.find((function(t){return t===e.id}))?[e.otherConfig&&e.otherConfig.before?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("交易前详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("现金:")]),i("strong",{staticStyle:{color:"#1890ff","margin-left":"10px"}},[t._v(t._s(e.otherConfig.before.cash))]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v("金条:")]),i("strong",{staticStyle:{color:"gold","margin-left":"10px"}},[t._v(t._s(e.otherConfig.before.gold))]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v("银行卡余额:")]),i("strong",{staticStyle:{color:"#18900f","margin-left":"10px"}},[t._v(t._s(e.otherConfig.before.bankAccountBalance))]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v("商户余额:")]),i("strong",{staticStyle:{color:"#18900f","margin-left":"10px"}},[t._v(t._s(e.otherConfig.before.traderFunds))])])]:t._e(),e.otherConfig&&e.otherConfig.after?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("交易后详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("现金:")]),i("strong",{staticStyle:{color:"#1890ff","margin-left":"10px"}},[t._v(t._s(e.otherConfig.after.cash))]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v("金条:")]),i("strong",{staticStyle:{color:"gold","margin-left":"10px"}},[t._v(t._s(e.otherConfig.after.gold))]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v("银行卡余额:")]),i("strong",{staticStyle:{color:"#18900f","margin-left":"10px"}},[t._v(t._s(e.otherConfig.after.bankAccountBalance))]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v("商户余额:")]),i("strong",{staticStyle:{color:"#18900f","margin-left":"10px"}},[t._v(t._s(e.otherConfig.after.traderFunds))])])]:t._e(),"npcPurchase"===e.type&&e.otherConfig&&e.otherConfig.details?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("购入详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.economyNpcPurcahseListColumns,"data-source":e.otherConfig.details,"row-key":"item",pagination:!1,bordered:"",scroll:{x:"100%"},size:"small"}})]:t._e(),"npcSell"===e.type&&e.otherConfig&&e.otherConfig.details?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("卖出详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.economyNpcSellListColumns,"data-source":e.otherConfig.details,"row-key":"item",pagination:!1,bordered:"",scroll:{x:"100%"},size:"small"}})]:t._e()]:t._e()],2)}}])}),i("a-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"show-size-changer":"","page-size":t.economyListPagination.pageSize,current:t.economyListPagination.pageNum,total:t.economyListPagination.total},on:{change:t.onChangeEconomyListPagination,showSizeChange:t.onShowSizeChangeEconomyListPagination}})],1)])],1)},Xe=[],Ze={name:"Economy",components:{},computed:Object(c["a"])({},Object(S["mapState"])(["userInfo"])),data:function(){return{moment:E.a,cleanLoading:!1,loadingEconomyListTable:!1,economyListFilter:{steamId:void 0,scumId:void 0,trader:void 0,timestampStart:void 0,timestampEnd:void 0},economyListColumns:[{title:"操作人Steam ID",key:"steamId",dataIndex:"steamId",width:150,align:"center",scopedSlots:{customRender:"steamId"}},{title:"操作人游戏名称",key:"scumId",dataIndex:"scumId",width:180,align:"center",scopedSlots:{customRender:"scumId"}},{title:"操作类型",key:"type",dataIndex:"type",width:80,align:"center",scopedSlots:{customRender:"type"}},{title:"交易员信息",key:"trader",dataIndex:"trader",width:100,align:"center",scopedSlots:{customRender:"trader"}},{title:"交易前资产",key:"before",dataIndex:"before",width:190,align:"center",scopedSlots:{customRender:"before"}},{title:"交易后资产",key:"after",dataIndex:"after",width:190,align:"center",scopedSlots:{customRender:"after"}},{title:"当前在线用户数",key:"effectiveUsersOnline",dataIndex:"effectiveUsersOnline",width:120,align:"center",scopedSlots:{customRender:"effectiveUsersOnline"}},{title:"生成记录时间",key:"createdTimeStamp",dataIndex:"createdTimeStamp",width:150,align:"center",scopedSlots:{customRender:"createdTimeStamp"}}],economyNpcPurcahseListColumns:[{title:"物品名称",key:"item",dataIndex:"item",width:150,align:"center",scopedSlots:{customRender:"item"}},{title:"数量",key:"count",dataIndex:"count",width:80,align:"center",scopedSlots:{customRender:"count"}},{title:"价格",key:"price",dataIndex:"price",width:100,align:"center",scopedSlots:{customRender:"price"}},{title:"交易前数量",key:"oldAmount",dataIndex:"oldAmount",width:80,align:"center",scopedSlots:{customRender:"oldAmount"}},{title:"交易后数量",key:"newAmount",dataIndex:"newAmount",width:80,align:"center",scopedSlots:{customRender:"newAmount"}}],economyNpcSellListColumns:[{title:"物品名称",key:"item",dataIndex:"item",width:150,align:"center",scopedSlots:{customRender:"item"}},{title:"数量",key:"count",dataIndex:"count",width:80,align:"center",scopedSlots:{customRender:"count"}},{title:"总价",key:"totalPrice",dataIndex:"totalPrice",width:100,align:"center",scopedSlots:{customRender:"totalPrice"}},{title:"物品价格",key:"itemPrice",dataIndex:"itemPrice",width:100,align:"center",scopedSlots:{customRender:"itemPrice"}},{title:"手续费",key:"originalPrice",dataIndex:"originalPrice",width:100,align:"center",scopedSlots:{customRender:"originalPrice"}},{title:"交易前数量",key:"oldAmount",dataIndex:"oldAmount",width:80,align:"center",scopedSlots:{customRender:"oldAmount"}},{title:"交易后数量",key:"newAmount",dataIndex:"newAmount",width:80,align:"center",scopedSlots:{customRender:"newAmount"}}],economyListData:[],economyListPagination:{pageSize:20,pageNum:1,total:0},expandedEconomyIds:[],typeList:[{value:"npcPurchase",label:"购买",color:"green"},{value:"npcSell",label:"卖出",color:"red"}]}},mounted:function(){this.getEconomyList()},methods:{onEconomyListCleanFilter:function(){var t=this;this.economyListPagination.pageNum=1,this.$nextTick((function(){t.getEconomyList(!0)}))},onEconomyListFilter:function(){var t=this;this.economyListPagination.pageNum=1,this.$nextTick((function(){t.getEconomyList()}))},onChangeEconomyListPagination:function(t){var e=this;this.economyListPagination.pageNum=t,this.$nextTick((function(){e.getEconomyList()}))},onShowSizeChangeEconomyListPagination:function(t,e){var i=this;this.economyListPagination.pageNum=1,this.economyListPagination.pageSize=e,this.$nextTick((function(){i.getEconomyList()}))},getEconomyList:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o,s,r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.economyListPagination,n=a.pageNum,o=a.pageSize,t?(e.economyListFilter={steamId:void 0,scumId:void 0,trader:void 0,timestampStart:void 0,timestampEnd:void 0},s={pageNum:n,pageSize:o,type:"npc"}):(r=Object(et["cloneDeep"])(e.economyListFilter),void 0!==r.timestampStart&&void 0!==r.timestampEnd&&(r.timestampStart=E()(r.timestampStart).valueOf(),r.timestampEnd=E()(r.timestampEnd).valueOf()),s=Object(c["a"])({pageNum:n,pageSize:o,type:"npc"},r)),e.loadingEconomyListTable=!0,i.prev=3,i.next=6,y({method:"GET",url:"/economyAdminSys/list",params:s});case 6:l=i.sent,e.loadingEconomyListTable=!1,200===l.status&&(e.economyListPagination.total=l.data.count,e.economyListData=l.data.list),i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](3),console.error(i.t0),e.loadingEconomyListTable=!1;case 15:case"end":return i.stop()}}),i,null,[[3,11]])})))()},cleanEconomyRecord:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.cleanLoading=!0,e.next=4,y({method:"DELETE",url:"/economyAdminSys/clean"});case 4:i=e.sent,200===i.status&&(t.cleanLoading=!1,t.$message.success("操作成功"),t.getEconomyList()),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),t.cleanLoading=!1,console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},Je=Ze,Qe=Object(_["a"])(Je,We,Xe,!1,null,"1d14edaf",null),ti=Qe.exports,ei=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%"}},[i("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:"箱子归属记录"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"extra"},slot:"extra"},[t.userInfo&&"sysAdmin"===t.userInfo.role?[i("a-popconfirm",{attrs:{placement:"right",title:"确定要清空箱子归属日志吗"},on:{confirm:t.cleanChestOwnershipRecord}},[i("a-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",icon:"delete",type:"danger",loading:t.cleanLoading}},[t._v("清空箱子归属日志")])],1)]:t._e()],2)]),i("div",{staticStyle:{width:"100%",height:"calc(100% - 66px)",padding:"15px","padding-top":"0"}},[i("div",{staticStyle:{width:"100%",height:"100%",background:"white","overflow-y":"auto",padding:"10px"}},[i("a-collapse",{staticStyle:{background:"none"},attrs:{"default-active-key":"1",bordered:!1}},[i("a-collapse-panel",{key:"1",staticStyle:{border:"none"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("搜索过滤条件")]),i("a-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary",icon:"filter"},nativeOn:{click:function(e){return e.stopPropagation(),t.onChestOwnershipRecordListFilter.apply(null,arguments)}}},[t._v("过滤")]),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.onChestOwnershipRecordListCleanFilter.apply(null,arguments)}}},[t._v("清空过滤 / 刷新")]),t.selectedRowKeys.length>0?i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small",icon:"copy"},on:{click:function(){return t.doCopyCommandsMulti()}}},[t._v("全部复制到剪贴板")]):t._e()],1),i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("旧归属者游戏名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.chestOwnershipRecordListFilter.fromScumId,callback:function(e){t.$set(t.chestOwnershipRecordListFilter,"fromScumId",e)},expression:"chestOwnershipRecordListFilter.fromScumId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("旧归属者Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.chestOwnershipRecordListFilter.fromSteamId,callback:function(e){t.$set(t.chestOwnershipRecordListFilter,"fromSteamId",e)},expression:"chestOwnershipRecordListFilter.fromSteamId"}})],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("新归属者游戏名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.chestOwnershipRecordListFilter.toScumId,callback:function(e){t.$set(t.chestOwnershipRecordListFilter,"toScumId",e)},expression:"chestOwnershipRecordListFilter.toScumId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("新归属者Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.chestOwnershipRecordListFilter.toSteamId,callback:function(e){t.$set(t.chestOwnershipRecordListFilter,"toSteamId",e)},expression:"chestOwnershipRecordListFilter.toSteamId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("创建时间:")]),i("a-range-picker",{staticStyle:{width:"320px","margin-left":"10px"},attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:[t.chestOwnershipRecordListFilter.timestampStart,t.chestOwnershipRecordListFilter.timestampEnd],allowClear:""},on:{change:function(e){t.$set(t.chestOwnershipRecordListFilter,"timestampStart",e[0]),t.$set(t.chestOwnershipRecordListFilter,"timestampEnd",e[1])}}})],1)])],1),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.chestOwnershipRecordListColumns,"data-source":t.chestOwnershipRecordListData,expandedRowKeys:t.expandedChestOwnershipRecordIds,"row-key":"id",pagination:!1,loading:t.loadingChestOwnershipRecordListTable,bordered:"",scroll:{x:"100%"},size:"small","row-selection":{selectedRowKeys:t.selectedRowKeys,onChange:function(e){t.selectedRowKeys=e}}},on:{expand:function(e,i){if(e)void 0===t.expandedChestOwnershipRecordIds.find((function(t){return t===i.id}))&&t.expandedChestOwnershipRecordIds.push(i.id);else{var a=Object.keys(t.expandedChestOwnershipRecordIds).find((function(e){return t.expandedChestOwnershipRecordIds[e]===i.id}));void 0!==a&&t.expandedChestOwnershipRecordIds.splice(a,1)}}},scopedSlots:t._u([{key:"createdTimeStamp",fn:function(e){return[i("span",[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}},{key:"expandedRowRender",fn:function(e){return i("div",{staticStyle:{margin:"0"}},[t.expandedChestOwnershipRecordIds.find((function(t){return t===e.id}))?["string"===typeof e.rawText?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"calc(100% - 135px)",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("日志原文")]),i("div",{staticStyle:{width:"125px",height:"24px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[i("a-button",{attrs:{size:"small",icon:"copy"},on:{click:function(){return t.doCopyCommands(e.rawText)}}},[t._v("复制到剪贴板")])],1)]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("pre",{staticStyle:{width:"100%",height:"auto","padding-left":"10px"},domProps:{innerHTML:t._s(e.rawText.replace(/\n/g,"\\n<br>").replace(/\r/g,"\\r<br>"))}})]:t._e(),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("箱子ID")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("strong",{staticStyle:{color:"#1890ff"}},[t._v(t._s(e.chestId))])]),e.fromSteamId&&e.fromSteamId.length?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("旧归属人信息")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("strong",{staticStyle:{color:"#1890ff"}},[t._v(t._s(e.fromScumId))]),i("span",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.fromSteamId)+")")])])]:t._e(),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("新归属人信息")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("strong",{staticStyle:{color:"#1890ff"}},[t._v(t._s(e.toScumId))]),i("span",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.toSteamId)+")")])])]:t._e()],2)}}])}),i("a-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"show-size-changer":"","page-size":t.chestOwnershipRecordListPagination.pageSize,current:t.chestOwnershipRecordListPagination.pageNum,total:t.chestOwnershipRecordListPagination.total},on:{change:t.onChangeChestOwnershipRecordListPagination,showSizeChange:t.onShowSizeChangeChestOwnershipRecordListPagination}})],1)])],1)},ii=[],ai=(i("a15b"),i("4de4"),i("caad"),i("2532"),i("498a"),{name:"ChestOwnershipRecord",computed:Object(c["a"])({},Object(S["mapState"])(["userInfo"])),data:function(){return{moment:E.a,cleanLoading:!1,loadingChestOwnershipRecordListTable:!1,chestOwnershipRecordListFilter:{fromScumId:void 0,fromSteamId:void 0,toScumId:void 0,toSteamId:void 0,timeStampStart:void 0,timeStampEnd:void 0},chestOwnershipRecordListColumns:[{title:"旧归属者游戏名称",key:"fromScumId",dataIndex:"fromScumId",width:180,align:"center",scopedSlots:{customRender:"fromScumId"}},{title:"旧归属者Steam ID",key:"fromSteamId",dataIndex:"fromSteamId",width:150,align:"center",scopedSlots:{customRender:"fromSteamId"}},{title:"新归属者游戏名称",key:"toScumId",dataIndex:"toScumId",width:180,align:"center",scopedSlots:{customRender:"toScumId"}},{title:"新归属者Steam ID",key:"toSteamId",dataIndex:"toSteamId",width:150,align:"center",scopedSlots:{customRender:"toSteamId"}},{title:"发生时间",key:"createdTimeStamp",dataIndex:"createdTimeStamp",width:150,align:"center",scopedSlots:{customRender:"createdTimeStamp"}}],chestOwnershipRecordListData:[],chestOwnershipRecordListPagination:{pageSize:20,pageNum:1,total:0},expandedChestOwnershipRecordIds:[],selectedRowKeys:[]}},mounted:function(){this.getChestOwnershipRecordList()},methods:{onChestOwnershipRecordListCleanFilter:function(){var t=this;this.chestOwnershipRecordListPagination.pageNum=1,this.$nextTick((function(){t.getChestOwnershipRecordList(!0)}))},onChestOwnershipRecordListFilter:function(){var t=this;this.chestOwnershipRecordListPagination.pageNum=1,this.$nextTick((function(){t.getChestOwnershipRecordList()}))},onChangeChestOwnershipRecordListPagination:function(t){var e=this;this.chestOwnershipRecordListPagination.pageNum=t,this.$nextTick((function(){e.getChestOwnershipRecordList()}))},onShowSizeChangeChestOwnershipRecordListPagination:function(t,e){var i=this;this.chestOwnershipRecordListPagination.pageNum=1,this.chestOwnershipRecordListPagination.pageSize=e,this.$nextTick((function(){i.getChestOwnershipRecordList()}))},getChestOwnershipRecordList:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o,s,r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.chestOwnershipRecordListPagination,n=a.pageNum,o=a.pageSize,t?(e.chestOwnershipRecordListFilter={fromScumId:void 0,fromSteamId:void 0,toScumId:void 0,toSteamId:void 0,timestampStart:void 0,timestampEnd:void 0},s={pageNum:n,pageSize:o}):(r=Object(et["cloneDeep"])(e.chestOwnershipRecordListFilter),void 0!==r.timestampStart&&void 0!==r.timestampEnd&&(r.timestampStart=E()(r.timestampStart).valueOf(),r.timestampEnd=E()(r.timestampEnd).valueOf()),s=Object(c["a"])({pageNum:n,pageSize:o},r)),e.loadingChestOwnershipRecordListTable=!0,i.prev=3,i.next=6,y({method:"GET",url:"/chestOwnershipRecordAdminSys/list",params:s});case 6:l=i.sent,e.loadingChestOwnershipRecordListTable=!1,200===l.status&&(e.chestOwnershipRecordListPagination.total=l.data.count,e.chestOwnershipRecordListData=l.data.list),e.selectedRowKeys=[],i.next=16;break;case 12:i.prev=12,i.t0=i["catch"](3),console.error(i.t0),e.loadingChestOwnershipRecordListTable=!1;case 16:case"end":return i.stop()}}),i,null,[[3,12]])})))()},doCopyCommands:function(t){var e=this;this.$copyText(t).then((function(t){e.$message.success("已复制到剪贴板")}),(function(t){e.$message.error("复制失败"),console.log("复制失败：",t)}))},doCopyCommandsMulti:function(){var t=this,e=this.chestOwnershipRecordListData.filter((function(e){return t.selectedRowKeys.includes(e.id)})).map((function(t){return t.rawText})).filter((function(t){var e;return(null===t||void 0===t||null===(e=t.trim())||void 0===e?void 0:e.length)>0})).join("\n");this.$copyText(e).then((function(e){t.$message.success("已复制到剪贴板")}),(function(e){t.$message.error("复制失败"),console.log("复制失败：",e)}))},cleanChestOwnershipRecord:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.cleanLoading=!0,e.next=4,y({method:"DELETE",url:"/chestOwnershipRecordAdminSys/clean"});case 4:i=e.sent,200===i.status&&(t.cleanLoading=!1,t.$message.success("操作成功"),t.getChestOwnershipRecordList()),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),t.cleanLoading=!1,console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}}),ni=ai,oi=Object(_["a"])(ni,ei,ii,!1,null,"744cf618",null),si=oi.exports,ri=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%"}},[i("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:"载具销毁记录"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"extra"},slot:"extra"},[t.userInfo&&"sysAdmin"===t.userInfo.role?[i("a-popconfirm",{attrs:{placement:"right",title:"确定要清空载具销毁日志吗"},on:{confirm:t.cleanVehicleDestructionRecord}},[i("a-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",icon:"delete",type:"danger",loading:t.cleanLoading}},[t._v("清空载具销毁日志")])],1)]:t._e()],2)]),i("div",{staticStyle:{width:"100%",height:"calc(100% - 66px)",padding:"15px","padding-top":"0"}},[i("div",{staticStyle:{width:"100%",height:"100%",background:"white","overflow-y":"auto",padding:"10px"}},[i("a-collapse",{staticStyle:{background:"none"},attrs:{"default-active-key":"1",bordered:!1}},[i("a-collapse-panel",{key:"1",staticStyle:{border:"none"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("搜索过滤条件")]),i("a-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary",icon:"filter"},nativeOn:{click:function(e){return e.stopPropagation(),t.onVehicleDestructionRecordListFilter.apply(null,arguments)}}},[t._v("过滤")]),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.onVehicleDestructionRecordListCleanFilter.apply(null,arguments)}}},[t._v("清空过滤 / 刷新")]),t.selectedRowKeys.length>0?i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small",icon:"copy"},on:{click:function(){return t.doCopyCommandsMulti()}}},[t._v("全部复制到剪贴板")]):t._e()],1),i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("载具类型:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.vehicleDestructionRecordListFilter.vehicleType,callback:function(e){t.$set(t.vehicleDestructionRecordListFilter,"vehicleType",e)},expression:"vehicleDestructionRecordListFilter.vehicleType"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("载具ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.vehicleDestructionRecordListFilter.vehicleId,callback:function(e){t.$set(t.vehicleDestructionRecordListFilter,"vehicleId",e)},expression:"vehicleDestructionRecordListFilter.vehicleId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("事件类型:")]),i("a-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{allowClear:""},model:{value:t.vehicleDestructionRecordListFilter.actionType,callback:function(e){t.$set(t.vehicleDestructionRecordListFilter,"actionType",e)},expression:"vehicleDestructionRecordListFilter.actionType"}},t._l(t.actionTypeList,(function(e){return i("a-select-option",{key:e.value,attrs:{title:e.label}},[t._v(t._s(e.label))])})),1),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("事件所在区域:")]),i("a-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{allowClear:""},model:{value:t.vehicleDestructionRecordListFilter.area,callback:function(e){t.$set(t.vehicleDestructionRecordListFilter,"area",e)},expression:"vehicleDestructionRecordListFilter.area"}},t._l(t.gameArealList,(function(e){return i("a-select-option",{key:e,attrs:{title:e}},[t._v(t._s(e))])})),1)],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("拥有者游戏名称:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.vehicleDestructionRecordListFilter.ownerScumId,callback:function(e){t.$set(t.vehicleDestructionRecordListFilter,"ownerScumId",e)},expression:"vehicleDestructionRecordListFilter.ownerScumId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("拥有者Steam ID:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.vehicleDestructionRecordListFilter.ownerSteamId,callback:function(e){t.$set(t.vehicleDestructionRecordListFilter,"ownerSteamId",e)},expression:"vehicleDestructionRecordListFilter.ownerSteamId"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("创建时间:")]),i("a-range-picker",{staticStyle:{width:"320px","margin-left":"10px"},attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:[t.vehicleDestructionRecordListFilter.timestampStart,t.vehicleDestructionRecordListFilter.timestampEnd],allowClear:""},on:{change:function(e){t.$set(t.vehicleDestructionRecordListFilter,"timestampStart",e[0]),t.$set(t.vehicleDestructionRecordListFilter,"timestampEnd",e[1])}}})],1)])],1),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.vehicleDestructionRecordListColumns,"data-source":t.vehicleDestructionRecordListData,expandedRowKeys:t.expandedVehicleDestructionRecordIds,"row-key":"id",pagination:!1,loading:t.loadingVehicleDestructionRecordListTable,bordered:"",scroll:{x:"100%"},size:"small","row-selection":{selectedRowKeys:t.selectedRowKeys,onChange:function(e){t.selectedRowKeys=e}}},on:{expand:function(e,i){if(e)void 0===t.expandedVehicleDestructionRecordIds.find((function(t){return t===i.id}))&&t.expandedVehicleDestructionRecordIds.push(i.id);else{var a=Object.keys(t.expandedVehicleDestructionRecordIds).find((function(e){return t.expandedVehicleDestructionRecordIds[e]===i.id}));void 0!==a&&t.expandedVehicleDestructionRecordIds.splice(a,1)}}},scopedSlots:t._u([{key:"actionType",fn:function(e,a){return[i("a-tag",{attrs:{color:void 0!==t.actionTypeList.find((function(t){return t.value===a.actionType}))?t.actionTypeList.find((function(t){return t.value===a.actionType})).color:"grey"}},[t._v(" "+t._s(void 0!==t.actionTypeList.find((function(t){return t.value===a.actionType}))?t.actionTypeList.find((function(t){return t.value===a.actionType})).label:a.actionType)+" ")])]}},{key:"locationsArea",fn:function(e,a){return[i("span",[t._v(t._s(a.locations)+"("+t._s(a.area)+")")])]}},{key:"createdTimeStamp",fn:function(e){return[i("span",[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}},{key:"expandedRowRender",fn:function(e){return i("div",{staticStyle:{margin:"0"}},[t.expandedVehicleDestructionRecordIds.find((function(t){return t===e.id}))?["string"===typeof e.rawText?["string"===typeof e.rawText?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"calc(100% - 135px)",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("日志原文")]),i("div",{staticStyle:{width:"125px",height:"24px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[i("a-button",{attrs:{size:"small",icon:"copy"},on:{click:function(){return t.doCopyCommands(e.rawText)}}},[t._v("复制到剪贴板")])],1)]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("pre",{staticStyle:{width:"100%",height:"auto","padding-left":"10px"},domProps:{innerHTML:t._s(e.rawText.replace(/\n/g,"\\n<br>").replace(/\r/g,"\\r<br>"))}})]:t._e()]:t._e(),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("载具类型/ID")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[t._v(" "+t._s(e.vehicleType)+" ("),i("strong",{staticStyle:{color:"#1890ff"}},[t._v(t._s(e.vehicleId))]),t._v(") ")]),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("坐标信息详情")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","line-height":"30px",height:"30px","padding-left":"10px"}},[i("span",[t._v("事件发生坐标(区域):")]),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.locations)),i("strong",{staticStyle:{"margin-left":"5px"}},[t._v("("+t._s(e.area)+")")])])]),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("地图标识")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{height:"150px",width:"180px","padding-left":"10px"}},[i("map-locations",{attrs:{width:180,height:150,locations:e.locations}})],1)]:t._e()],2)}}])}),i("a-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"show-size-changer":"","page-size":t.vehicleDestructionRecordListPagination.pageSize,current:t.vehicleDestructionRecordListPagination.pageNum,total:t.vehicleDestructionRecordListPagination.total},on:{change:t.onChangeVehicleDestructionRecordListPagination,showSizeChange:t.onShowSizeChangeVehicleDestructionRecordListPagination}})],1)])],1)},li=[],ci={name:"VehicleDestructionRecord",components:{MapLocations:lt},computed:Object(c["a"])({},Object(S["mapState"])(["userInfo"])),data:function(){return{moment:E.a,actionTypeList:[{value:"Disappeared",label:"消失",color:"blue"},{value:"Destroyed",label:"损毁",color:"red"}],cleanLoading:!1,loadingVehicleDestructionRecordListTable:!1,vehicleDestructionRecordListFilter:{ownerScumId:void 0,ownerSteamId:void 0,area:void 0,actionType:void 0,vehicleType:void 0,vehicleId:void 0,timeStampStart:void 0,timeStampEnd:void 0},vehicleDestructionRecordListColumns:[{title:"事件类型",key:"actionType",dataIndex:"actionType",width:120,align:"center",scopedSlots:{customRender:"actionType"}},{title:"载具类型",key:"vehicleType",dataIndex:"vehicleType",width:150,align:"center",scopedSlots:{customRender:"vehicleType"}},{title:"载具ID",key:"vehicleId",dataIndex:"vehicleId",width:150,align:"center",scopedSlots:{customRender:"vehicleId"}},{title:"事件发生坐标(区域)",key:"locationsArea",dataIndex:"locationsArea",width:180,align:"center",scopedSlots:{customRender:"locationsArea"}},{title:"拥有者游戏名称",key:"ownerScumId",dataIndex:"ownerScumId",width:180,align:"center",scopedSlots:{customRender:"ownerScumId"}},{title:"拥有者Steam ID",key:"ownerSteamId",dataIndex:"ownerSteamId",width:150,align:"center",scopedSlots:{customRender:"ownerSteamId"}},{title:"发生时间",key:"createdTimeStamp",dataIndex:"createdTimeStamp",width:150,align:"center",scopedSlots:{customRender:"createdTimeStamp"}}],vehicleDestructionRecordListData:[],vehicleDestructionRecordListPagination:{pageSize:20,pageNum:1,total:0},expandedVehicleDestructionRecordIds:[],gameArealList:[],selectedRowKeys:[]}},mounted:function(){this.getVehicleDestructionRecordList()},methods:{onVehicleDestructionRecordListCleanFilter:function(){var t=this;this.vehicleDestructionRecordListPagination.pageNum=1,this.$nextTick((function(){t.getVehicleDestructionRecordList(!0)}))},onVehicleDestructionRecordListFilter:function(){var t=this;this.vehicleDestructionRecordListPagination.pageNum=1,this.$nextTick((function(){t.getVehicleDestructionRecordList()}))},onChangeVehicleDestructionRecordListPagination:function(t){var e=this;this.vehicleDestructionRecordListPagination.pageNum=t,this.$nextTick((function(){e.getVehicleDestructionRecordList()}))},onShowSizeChangeVehicleDestructionRecordListPagination:function(t,e){var i=this;this.vehicleDestructionRecordListPagination.pageNum=1,this.vehicleDestructionRecordListPagination.pageSize=e,this.$nextTick((function(){i.getVehicleDestructionRecordList()}))},getVehicleDestructionRecordList:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o,s,r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.vehicleDestructionRecordListPagination,n=a.pageNum,o=a.pageSize,t?(e.vehicleDestructionRecordListFilter={ownerScumId:void 0,ownerSteamId:void 0,area:void 0,actionType:void 0,vehicleType:void 0,vehicleId:void 0,timeStampStart:void 0,timeStampEnd:void 0},s={pageNum:n,pageSize:o}):(r=Object(et["cloneDeep"])(e.vehicleDestructionRecordListFilter),void 0!==r.timestampStart&&void 0!==r.timestampEnd&&(r.timestampStart=E()(r.timestampStart).valueOf(),r.timestampEnd=E()(r.timestampEnd).valueOf()),s=Object(c["a"])({pageNum:n,pageSize:o},r)),e.loadingVehicleDestructionRecordListTable=!0,i.prev=3,i.next=6,y({method:"GET",url:"/vehicleDestructionRecordAdminSys/list",params:s});case 6:l=i.sent,e.loadingVehicleDestructionRecordListTable=!1,200===l.status&&(e.vehicleDestructionRecordListPagination.total=l.data.count,e.vehicleDestructionRecordListData=l.data.list),e.selectedRowKeys=[],i.next=16;break;case 12:i.prev=12,i.t0=i["catch"](3),console.error(i.t0),e.loadingVehicleDestructionRecordListTable=!1;case 16:case"end":return i.stop()}}),i,null,[[3,12]])})))()},doCopyCommands:function(t){var e=this;this.$copyText(t).then((function(t){e.$message.success("已复制到剪贴板")}),(function(t){e.$message.error("复制失败"),console.log("复制失败：",t)}))},doCopyCommandsMulti:function(){var t=this,e=this.vehicleDestructionRecordListData.filter((function(e){return t.selectedRowKeys.includes(e.id)})).map((function(t){return t.rawText})).filter((function(t){var e;return(null===t||void 0===t||null===(e=t.trim())||void 0===e?void 0:e.length)>0})).join("\n");this.$copyText(e).then((function(e){t.$message.success("已复制到剪贴板")}),(function(e){t.$message.error("复制失败"),console.log("复制失败：",e)}))},getGameAreaList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y({method:"GET",url:"/serverConfigAdminSys/gameAreaList"});case 3:i=e.sent,200===i.status&&(t.gameArealList=i.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},cleanVehicleDestructionRecord:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.cleanLoading=!0,e.next=4,y({method:"DELETE",url:"/vehicleDestructionRecordAdminSys/clean"});case 4:i=e.sent,200===i.status&&(t.cleanLoading=!1,t.$message.success("操作成功"),t.getVehicleDestructionRecordList()),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),t.cleanLoading=!1,console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},di=ci,pi=Object(_["a"])(di,ri,li,!1,null,"7d6ea600",null),gi=pi.exports,ui=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%"}},[i("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:"其他未识别日志记录"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"extra"},slot:"extra"},[t.userInfo&&"sysAdmin"===t.userInfo.role?[i("a-popconfirm",{attrs:{placement:"right",title:"确定要清空未识别日志吗"},on:{confirm:t.cleanUnrecognizedRecord}},[i("a-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",icon:"delete",type:"danger",loading:t.cleanLoading}},[t._v("清空未识别日志")])],1)]:t._e()],2)]),i("div",{staticStyle:{width:"100%",height:"calc(100% - 66px)",padding:"15px","padding-top":"0"}},[i("div",{staticStyle:{width:"100%",height:"100%",background:"white","overflow-y":"auto",padding:"10px"}},[i("a-collapse",{staticStyle:{background:"none"},attrs:{"default-active-key":"1",bordered:!1}},[i("a-collapse-panel",{key:"1",staticStyle:{border:"none"}},[i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("搜索过滤条件")]),i("a-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary",icon:"filter"},nativeOn:{click:function(e){return e.stopPropagation(),t.onUnrecognizedRecordListFilter.apply(null,arguments)}}},[t._v("过滤")]),i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.onUnrecognizedRecordListCleanFilter.apply(null,arguments)}}},[t._v("清空过滤 / 刷新")]),t.selectedRowKeys.length>0?i("a-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small",icon:"copy"},on:{click:function(){return t.doCopyCommandsMulti()}}},[t._v("全部复制到剪贴板")]):t._e()],1),i("div",{staticStyle:{"overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("所属日志文件名:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.unrecognizedRecordListFilter.fileName,callback:function(e){t.$set(t.unrecognizedRecordListFilter,"fileName",e)},expression:"unrecognizedRecordListFilter.fileName"}}),i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block","margin-left":"15px"}},[t._v("日志内容:")]),i("a-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"模糊匹配",allowClear:""},model:{value:t.unrecognizedRecordListFilter.rawText,callback:function(e){t.$set(t.unrecognizedRecordListFilter,"rawText",e)},expression:"unrecognizedRecordListFilter.rawText"}})],1),i("div",{staticStyle:{"margin-top":"10px","overflow-x":"auto","white-space":"nowrap"}},[i("div",{staticStyle:{width:"120px","text-align":"right",display:"inline-block"}},[t._v("创建时间:")]),i("a-range-picker",{staticStyle:{width:"320px","margin-left":"10px"},attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:[t.unrecognizedRecordListFilter.timestampStart,t.unrecognizedRecordListFilter.timestampEnd],allowClear:""},on:{change:function(e){t.$set(t.unrecognizedRecordListFilter,"timestampStart",e[0]),t.$set(t.unrecognizedRecordListFilter,"timestampEnd",e[1])}}})],1)])],1),i("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.unrecognizedRecordListColumns,"data-source":t.unrecognizedRecordListData,expandedRowKeys:t.expandedUnrecognizedRecordIds,"row-key":"id",pagination:!1,loading:t.loadingUnrecognizedRecordListTable,bordered:"",scroll:{x:"100%"},size:"small","row-selection":{selectedRowKeys:t.selectedRowKeys,onChange:function(e){t.selectedRowKeys=e}}},on:{expand:function(e,i){if(e)void 0===t.expandedUnrecognizedRecordIds.find((function(t){return t===i.id}))&&t.expandedUnrecognizedRecordIds.push(i.id);else{var a=Object.keys(t.expandedUnrecognizedRecordIds).find((function(e){return t.expandedUnrecognizedRecordIds[e]===i.id}));void 0!==a&&t.expandedUnrecognizedRecordIds.splice(a,1)}}},scopedSlots:t._u([{key:"rawText",fn:function(e,a){return[i("div",{staticStyle:{"text-overflow":"ellipsis","overflow-x":"hidden","white-space":"nowrap"},style:{cursor:void 0===t.expandedUnrecognizedRecordIds.find((function(t){return t===a.id}))?"pointer":"auto"},attrs:{title:void 0===t.expandedUnrecognizedRecordIds.find((function(t){return t===a.id}))?e+"\n【点击展开】":e},on:{click:function(e){void 0===t.expandedUnrecognizedRecordIds.find((function(t){return t===a.id}))&&t.expandedUnrecognizedRecordIds.push(a.id)}}},[t._v(" "+t._s(e)+" ")])]}},{key:"createdTimeStamp",fn:function(e){return[i("span",[t._v(t._s(e?t.moment(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"-"))])]}},{key:"expandedRowRender",fn:function(e){return i("div",{staticStyle:{margin:"0"}},[t.expandedUnrecognizedRecordIds.find((function(t){return t===e.id}))?["string"===typeof e.rawText?[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"calc(100% - 135px)",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("日志原文")]),i("div",{staticStyle:{width:"125px",height:"24px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[i("a-button",{attrs:{size:"small",icon:"copy"},on:{click:function(){return t.doCopyCommands(e.rawText)}}},[t._v("复制到剪贴板")])],1)]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("pre",{staticStyle:{width:"100%",height:"auto","padding-left":"10px"},domProps:{innerHTML:t._s(e.rawText.replace(/\n/g,"\\n<br>").replace(/\r/g,"\\r<br>"))}})]:t._e()]:t._e()],2)}}])}),i("a-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"show-size-changer":"","page-size":t.unrecognizedRecordListPagination.pageSize,current:t.unrecognizedRecordListPagination.pageNum,total:t.unrecognizedRecordListPagination.total},on:{change:t.onChangeUnrecognizedRecordListPagination,showSizeChange:t.onShowSizeChangeUnrecognizedRecordListPagination}})],1)])],1)},mi=[],hi={name:"UnrecognizedRecord",computed:Object(c["a"])({},Object(S["mapState"])(["userInfo"])),data:function(){return{moment:E.a,cleanLoading:!1,loadingUnrecognizedRecordListTable:!1,unrecognizedRecordListFilter:{fileName:void 0,rawText:void 0,timeStampStart:void 0,timeStampEnd:void 0},unrecognizedRecordListColumns:[{title:"所属日志文件名",key:"fileName",dataIndex:"fileName",width:180,align:"center",scopedSlots:{customRender:"fileName"}},{title:"日志原文",key:"rawText",dataIndex:"rawText",width:250,align:"center",scopedSlots:{customRender:"rawText"}},{title:"发生时间",key:"createdTimeStamp",dataIndex:"createdTimeStamp",width:150,align:"center",scopedSlots:{customRender:"createdTimeStamp"}}],unrecognizedRecordListData:[],unrecognizedRecordListPagination:{pageSize:20,pageNum:1,total:0},expandedUnrecognizedRecordIds:[],selectedRowKeys:[]}},mounted:function(){this.getUnrecognizedRecordList()},methods:{onUnrecognizedRecordListCleanFilter:function(){var t=this;this.unrecognizedRecordListPagination.pageNum=1,this.$nextTick((function(){t.getUnrecognizedRecordList(!0)}))},onUnrecognizedRecordListFilter:function(){var t=this;this.unrecognizedRecordListPagination.pageNum=1,this.$nextTick((function(){t.getUnrecognizedRecordList()}))},onChangeUnrecognizedRecordListPagination:function(t){var e=this;this.unrecognizedRecordListPagination.pageNum=t,this.$nextTick((function(){e.getUnrecognizedRecordList()}))},onShowSizeChangeUnrecognizedRecordListPagination:function(t,e){var i=this;this.unrecognizedRecordListPagination.pageNum=1,this.unrecognizedRecordListPagination.pageSize=e,this.$nextTick((function(){i.getUnrecognizedRecordList()}))},getUnrecognizedRecordList:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n,o,s,r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.unrecognizedRecordListPagination,n=a.pageNum,o=a.pageSize,t?(e.unrecognizedRecordListFilter={fileName:void 0,rawText:void 0,timestampStart:void 0,timestampEnd:void 0},s={pageNum:n,pageSize:o}):(r=Object(et["cloneDeep"])(e.unrecognizedRecordListFilter),void 0!==r.timestampStart&&void 0!==r.timestampEnd&&(r.timestampStart=E()(r.timestampStart).valueOf(),r.timestampEnd=E()(r.timestampEnd).valueOf()),s=Object(c["a"])({pageNum:n,pageSize:o},r)),e.loadingUnrecognizedRecordListTable=!0,i.prev=3,i.next=6,y({method:"GET",url:"/unrecognizedRecordAdminSys/list",params:s});case 6:l=i.sent,e.loadingUnrecognizedRecordListTable=!1,200===l.status&&(e.unrecognizedRecordListPagination.total=l.data.count,e.unrecognizedRecordListData=l.data.list),e.selectedRowKeys=[],i.next=16;break;case 12:i.prev=12,i.t0=i["catch"](3),console.error(i.t0),e.loadingUnrecognizedRecordListTable=!1;case 16:case"end":return i.stop()}}),i,null,[[3,12]])})))()},doCopyCommands:function(t){var e=this;this.$copyText(t).then((function(t){e.$message.success("已复制到剪贴板")}),(function(t){e.$message.error("复制失败"),console.log("复制失败：",t)}))},doCopyCommandsMulti:function(){var t=this,e=this.unrecognizedRecordListData.filter((function(e){return t.selectedRowKeys.includes(e.id)})).map((function(t){return t.rawText})).filter((function(t){var e;return(null===t||void 0===t||null===(e=t.trim())||void 0===e?void 0:e.length)>0})).join("\n");this.$copyText(e).then((function(e){t.$message.success("已复制到剪贴板")}),(function(e){t.$message.error("复制失败"),console.log("复制失败：",e)}))},cleanUnrecognizedRecord:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.cleanLoading=!0,e.next=4,y({method:"DELETE",url:"/unrecognizedRecordAdminSys/clean"});case 4:i=e.sent,200===i.status&&(t.cleanLoading=!1,t.$message.success("操作成功"),t.getUnrecognizedRecordList()),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),t.cleanLoading=!1,console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},fi=hi,vi=Object(_["a"])(fi,ui,mi,!1,null,"7e43444d",null),yi=vi.exports,xi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%"}},[i("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:"商城配置"}}),i("div",{staticStyle:{width:"100%",height:"calc(100% - 66px)",padding:"15px","padding-top":"0"}},[i("div",{staticStyle:{width:"100%",height:"100%",background:"white","overflow-y":"auto",padding:"10px"}},[i("GportalSettings")],1)])],1)},Si=[],wi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"auto"}},[i("div",{staticStyle:{width:"100%",height:"24px",position:"relative",background:"white"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"calc(100% - 80px)",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top","overflow-x":"auto","white-space":"nowrap"}},[i("span",[t._v("SCUM运营商和服务器设置")]),t.edit?t._e():i("a-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",icon:"sync"},on:{click:t.getData}},[t._v("刷新")]),t.loading?t._e():[t.edit||!t.userInfo||"sysAdmin"!==t.userInfo.role&&"admin"!==t.userInfo.role?t._e():i("a-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",icon:"edit"},on:{click:t.onClickEdit}},[t._v("编辑")]),t.edit?i("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small",icon:"edit",loading:t.saveLoading},on:{click:t.onClickSave}},[t._v("保存")]):t._e(),t.edit?i("a-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",icon:"close",disabled:t.saveLoading},on:{click:t.onClickCancelEdit}},[t._v("取消")]):t._e()]],2),i("a-button",{staticStyle:{float:"right",width:"70px"},attrs:{icon:t.show?"minus":"plus",size:"small",type:"primary"},on:{click:function(e){t.show=!t.show}}},[t._v(t._s(t.show?"收起":"展开"))])],1),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticStyle:{width:"100%",position:"relative","min-height":"calc(100vh - 186px)",background:"white","overflow-y":"auto"}},[i("div",{staticStyle:{width:"100%",height:"100%",position:"absolute"}},[t.loading?t._e():i("a-form-model",{ref:"settingsForm",staticStyle:{"max-width":"1000px"},attrs:{model:t.settingsForm,rules:t.settingsFormRules,"label-col":{span:7},"wrapper-col":{span:14}}},[i("a-form-model-item",{attrs:{label:"游戏服务器提供商",prop:"GameServerType",rules:{required:t.userInfo&&"sysAdmin"===t.userInfo.role,trigger:"change",message:"游戏服务器提供商不能为空",validator:function(e,i,a){t.userInfo&&"sysAdmin"===t.userInfo.role&&i&&i.length||!t.userInfo||"sysAdmin"!==t.userInfo.role?a():a(new t.Error("游戏服务器提供商不能为空"))}}}},[i("a-radio-group",{attrs:{"button-style":"solid"},on:{change:function(e){return t.changeGameServerType(e.target.value)}},model:{value:t.settingsForm.GameServerType,callback:function(e){t.$set(t.settingsForm,"GameServerType",e)},expression:"settingsForm.GameServerType"}},[i("a-radio-button",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role),value:"GPORTAL"}},[t._v("G-Portal")]),i("a-radio-button",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role),value:"NITRADO"}},[t._v("Nitrado")]),i("a-radio-button",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role),value:"GGHOST"}},[t._v("GGHost/PingPerfect")]),i("a-radio-button",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role),value:"PRIVATE"}},[t._v("本地架设私服")])],1),t.userInfo&&"sysAdmin"===t.userInfo.role?i("a-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",loading:t.loadingRefreshFTPConfigs,icon:"sync"},on:{click:t.refreshFTPConfigs}},[t._v("刷新爬虫FTP配置")]):t._e()],1),i("a-form-model-item",{attrs:{label:"BattleMetric服务器ID",prop:"BattleMetricServerId"}},[i("a-input",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role)},model:{value:t.settingsForm.BattleMetricServerId,callback:function(e){t.$set(t.settingsForm,"BattleMetricServerId",e)},expression:"settingsForm.BattleMetricServerId"}})],1),"GPORTAL"===t.settingsForm.GameServerType?[i("a-form-model-item",{attrs:{label:"G-Portal ID",prop:"ServerId",rules:{required:t.userInfo&&"sysAdmin"===t.userInfo.role,trigger:"change",message:"G-PortalID不能为空",validator:function(e,i,a){t.userInfo&&"sysAdmin"===t.userInfo.role&&i&&i.length||!t.userInfo||"sysAdmin"!==t.userInfo.role?a():a(new t.Error("G-Portal ID不能为空"))}}}},[i("a-input",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role)},model:{value:t.settingsForm.ServerId,callback:function(e){t.$set(t.settingsForm,"ServerId",e)},expression:"settingsForm.ServerId"}})],1),i("a-form-model-item",{attrs:{label:"G-Portal FTP Url",prop:"GPortalFTPUrl",rules:{required:t.userInfo&&"sysAdmin"===t.userInfo.role,trigger:"change",message:"G-Portal FTP Url不能为空",validator:function(e,i,a){t.userInfo&&"sysAdmin"===t.userInfo.role&&i&&i.length||!t.userInfo||"sysAdmin"!==t.userInfo.role?a():a(new t.Error("G-Portal FTP Url不能为空"))}}}},[i("a-input",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role)},model:{value:t.settingsForm.GPortalFTPUrl,callback:function(e){t.$set(t.settingsForm,"GPortalFTPUrl",e)},expression:"settingsForm.GPortalFTPUrl"}})],1),i("a-form-model-item",{attrs:{label:"G-Portal FTP账号",prop:"GPortalFTPAccount",rules:{required:t.userInfo&&"sysAdmin"===t.userInfo.role,trigger:"change",message:"G-Portal FTP账号不能为空",validator:function(e,i,a){t.userInfo&&"sysAdmin"===t.userInfo.role&&i&&i.length||!t.userInfo||"sysAdmin"!==t.userInfo.role?a():a(new t.Error("G-Portal FTP账号不能为空"))}}}},[i("a-input",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role)},model:{value:t.settingsForm.GPortalFTPAccount,callback:function(e){t.$set(t.settingsForm,"GPortalFTPAccount",e)},expression:"settingsForm.GPortalFTPAccount"}})],1),i("a-form-model-item",{attrs:{label:"G-Portal FTP密码",prop:"GPortalFTPPassword",rules:{required:t.userInfo&&"sysAdmin"===t.userInfo.role,trigger:"change",message:"G-Portal FTP密码不能为空",validator:function(e,i,a){t.userInfo&&"sysAdmin"===t.userInfo.role&&i&&i.length||!t.userInfo||"sysAdmin"!==t.userInfo.role?a():a(new t.Error("G-Portal FTP密码不能为空"))}}}},[i("a-input",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role)},model:{value:t.settingsForm.GPortalFTPPassword,callback:function(e){t.$set(t.settingsForm,"GPortalFTPPassword",e)},expression:"settingsForm.GPortalFTPPassword"}})],1),i("a-form-model-item",{attrs:{label:"获取G-Portal击杀/登录日志",prop:"EnableGPortalLogsRollback",rules:{required:t.settingsForm.ServerId&&t.settingsForm.GPortalFTPUrl&&t.settingsForm.GPortalFTPAccount&&t.settingsForm.GPortalFTPPassword,trigger:"change",message:"请选择",validator:function(e,i,a){t.settingsForm.ServerId&&t.settingsForm.GPortalFTPUrl&&t.settingsForm.GPortalFTPAccount&&t.settingsForm.GPortalFTPPassword&&"boolean"===typeof i||!(t.settingsForm.ServerId&&t.settingsForm.GPortalFTPUrl&&t.settingsForm.GPortalFTPAccount&&t.settingsForm.GPortalFTPPassword)?a():a(new t.Error("请选择"))}}}},[i("a-switch",{attrs:{disabled:!t.edit||!(t.settingsForm.ServerId&&t.settingsForm.GPortalFTPUrl&&t.settingsForm.GPortalFTPAccount&&t.settingsForm.GPortalFTPPassword)},model:{value:t.settingsForm.EnableGPortalLogsRollback,callback:function(e){t.$set(t.settingsForm,"EnableGPortalLogsRollback",e)},expression:"settingsForm.EnableGPortalLogsRollback"}})],1),i("a-form-model-item",{attrs:{label:"Single模式超时(ms)",prop:"GPortalLogsRollbackSingleTimeout",rules:{required:t.settingsForm.ServerId&&t.settingsForm.GPortalFTPUrl&&t.settingsForm.GPortalFTPAccount&&t.settingsForm.GPortalFTPPassword,trigger:"change",message:"请输入时间间隔",validator:function(e,i,a){t.settingsForm.ServerId&&t.settingsForm.GPortalFTPUrl&&t.settingsForm.GPortalFTPAccount&&t.settingsForm.GPortalFTPPassword&&"number"===typeof i&&i>0||!(t.settingsForm.ServerId&&t.settingsForm.GPortalFTPUrl&&t.settingsForm.GPortalFTPAccount&&t.settingsForm.GPortalFTPPassword)?a():a(new t.Error("请输入时间间隔"))}}}},[i("a-input-number",{attrs:{min:0,disabled:!t.edit||!(t.settingsForm.ServerId&&t.settingsForm.GPortalFTPUrl&&t.settingsForm.GPortalFTPAccount&&t.settingsForm.GPortalFTPPassword)},model:{value:t.settingsForm.GPortalLogsRollbackSingleTimeout,callback:function(e){t.$set(t.settingsForm,"GPortalLogsRollbackSingleTimeout",e)},expression:"settingsForm.GPortalLogsRollbackSingleTimeout"}})],1),i("a-form-model-item",{attrs:{label:"获取G-Portal日志时间间隔(ms)",prop:"GPortalLogsRollbackInterval",rules:{required:t.settingsForm.ServerId&&t.settingsForm.GPortalFTPUrl&&t.settingsForm.GPortalFTPAccount&&t.settingsForm.GPortalFTPPassword,trigger:"change",message:"请输入时间间隔",validator:function(e,i,a){t.settingsForm.ServerId&&t.settingsForm.GPortalFTPUrl&&t.settingsForm.GPortalFTPAccount&&t.settingsForm.GPortalFTPPassword&&"number"===typeof i&&i>0||!(t.settingsForm.ServerId&&t.settingsForm.GPortalFTPUrl&&t.settingsForm.GPortalFTPAccount&&t.settingsForm.GPortalFTPPassword)?a():a(new t.Error("请输入时间间隔"))}}}},[i("a-input-number",{attrs:{min:0,disabled:!t.edit||!(t.settingsForm.ServerId&&t.settingsForm.GPortalFTPUrl&&t.settingsForm.GPortalFTPAccount&&t.settingsForm.GPortalFTPPassword)},model:{value:t.settingsForm.GPortalLogsRollbackInterval,callback:function(e){t.$set(t.settingsForm,"GPortalLogsRollbackInterval",e)},expression:"settingsForm.GPortalLogsRollbackInterval"}})],1),i("a-form-model-item",{attrs:{label:"G-Portal获取记录和结果",prop:"GPortalServerLogAsyncRecord"}},[t.settingsForm.GPortalServerLogAsyncRecord&&t.settingsForm.GPortalServerLogAsyncRecord.recentTimeStamp&&t.settingsForm.GPortalServerLogAsyncRecord.result?[i("div",[i("span",[t._v("最近一次获取时间：")]),i("a-input",{staticStyle:{"margin-left":"10px",width:"calc(100% - 136px)"},attrs:{disabled:"",value:t.moment(parseInt(t.settingsForm.GPortalServerLogAsyncRecord.recentTimeStamp)).format("YYYY-MM-DD HH:mm:ss")}})],1),i("div",{staticStyle:{"margin-top":"10px"}},[i("span",{staticStyle:{"vertical-align":"top"}},[t._v("结果：")]),i("a-input",{staticStyle:{"margin-left":"10px",width:"calc(100% - 52px)"},attrs:{type:"textarea","auto-size":{minRows:3,maxRows:3},disabled:"",value:t.settingsForm.GPortalServerLogAsyncRecord.result}})],1)]:[t._v("无")]],2)]:t._e(),"NITRADO"===t.settingsForm.GameServerType?[i("a-form-model-item",{attrs:{label:"Nitrado Server ID",prop:"ServerId",rules:{required:t.userInfo&&"sysAdmin"===t.userInfo.role&&"NITRADO"===t.settingsForm.GameServerType,trigger:"change",message:"Nitrado Server ID不能为空",validator:function(e,i,a){t.userInfo&&"sysAdmin"===t.userInfo.role&&i&&i.length||!t.userInfo||"sysAdmin"!==t.userInfo.role?a():a(new t.Error("Nitrado Server ID不能为空"))}}}},[i("a-input",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role)},model:{value:t.settingsForm.ServerId,callback:function(e){t.$set(t.settingsForm,"ServerId",e)},expression:"settingsForm.ServerId"}})],1),i("a-form-model-item",{attrs:{label:"Nitrado Token",prop:"NitradoAuthorizationToken",rules:{required:t.userInfo&&"sysAdmin"===t.userInfo.role,trigger:"change",message:"Nitrado Token不能为空",validator:function(e,i,a){t.userInfo&&"sysAdmin"===t.userInfo.role&&i&&i.length||!t.userInfo||"sysAdmin"!==t.userInfo.role?a():a(new t.Error("Nitrado Token不能为空"))}}}},[i("a-input",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role)},model:{value:t.settingsForm.NitradoAuthorizationToken,callback:function(e){t.$set(t.settingsForm,"NitradoAuthorizationToken",e)},expression:"settingsForm.NitradoAuthorizationToken"}})],1),i("a-form-model-item",{attrs:{label:"获取Nitrado击杀/登录日志",prop:"EnableNitradoLogsRollback",rules:{required:t.settingsForm.ServerId&&t.settingsForm.NitradoAuthorizationToken,trigger:"change",message:"请选择",validator:function(e,i,a){t.settingsForm.ServerId&&t.settingsForm.NitradoAuthorizationToken&&"boolean"===typeof i||!t.settingsForm.ServerId||!t.settingsForm.NitradoAuthorizationToken?a():a(new t.Error("请选择"))}}}},[i("a-switch",{attrs:{disabled:!t.edit||!(t.settingsForm.ServerId&&t.settingsForm.NitradoAuthorizationToken)},model:{value:t.settingsForm.EnableNitradoLogsRollback,callback:function(e){t.$set(t.settingsForm,"EnableNitradoLogsRollback",e)},expression:"settingsForm.EnableNitradoLogsRollback"}})],1),i("a-form-model-item",{attrs:{label:"获取Nitrado日志时间间隔(ms)",prop:"NitradoLogsRollbackInterval",rules:{required:t.settingsForm.ServerId&&t.settingsForm.NitradoAuthorizationToken,trigger:"change",message:"请输入时间间隔",validator:function(e,i,a){t.settingsForm.ServerId&&t.settingsForm.NitradoAuthorizationToken&&"number"===typeof i&&i>0||!t.settingsForm.ServerId||!t.settingsForm.NitradoAuthorizationToken?a():a(new t.Error("请输入时间间隔"))}}}},[i("a-input-number",{attrs:{min:0,disabled:!t.edit||!(t.settingsForm.ServerId&&t.settingsForm.NitradoAuthorizationToken)},model:{value:t.settingsForm.NitradoLogsRollbackInterval,callback:function(e){t.$set(t.settingsForm,"NitradoLogsRollbackInterval",e)},expression:"settingsForm.NitradoLogsRollbackInterval"}})],1),i("a-form-model-item",{attrs:{label:"Nitrado获取记录和结果",prop:"GPortalServerLogAsyncRecord"}},[t.settingsForm.NitradoServerLogAsyncRecord&&t.settingsForm.NitradoServerLogAsyncRecord.recentTimeStamp&&t.settingsForm.NitradoServerLogAsyncRecord.result?[i("div",[i("span",[t._v("最近一次获取时间：")]),i("a-input",{staticStyle:{"margin-left":"10px",width:"calc(100% - 136px)"},attrs:{disabled:"",value:t.moment(parseInt(t.settingsForm.NitradoServerLogAsyncRecord.recentTimeStamp)).format("YYYY-MM-DD HH:mm:ss")}})],1),i("div",{staticStyle:{"margin-top":"10px"}},[i("span",{staticStyle:{"vertical-align":"top"}},[t._v("结果：")]),i("a-input",{staticStyle:{"margin-left":"10px",width:"calc(100% - 52px)"},attrs:{type:"textarea","auto-size":{minRows:3,maxRows:3},disabled:"",value:t.settingsForm.NitradoServerLogAsyncRecord.result}})],1)]:[t._v("无")]],2)]:t._e(),"GGHOST"===t.settingsForm.GameServerType?[i("a-form-model-item",{attrs:{label:"GGHost服务器IP/端口",prop:"GGHostServerDetail",rules:{required:t.userInfo&&"sysAdmin"===t.userInfo.role,trigger:"change",message:"GGHost服务器IP/端口不能为空",validator:function(e,i,a){t.userInfo&&"sysAdmin"===t.userInfo.role&&i&&i.length||!t.userInfo||"sysAdmin"!==t.userInfo.role?a():a(new t.Error("GGHost服务器IP/端口不能为空"))}}}},[i("a-input",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role)},model:{value:t.settingsForm.GGHostServerDetail,callback:function(e){t.$set(t.settingsForm,"GGHostServerDetail",e)},expression:"settingsForm.GGHostServerDetail"}})],1),i("a-form-model-item",{attrs:{label:"GGHost服务器FTP基准路径",prop:"GGHostFTPPath",rules:{required:t.userInfo&&"sysAdmin"===t.userInfo.role,trigger:"change",message:"GGHost服务器FTP基准路径不能为空",validator:function(e,i,a){t.userInfo&&"sysAdmin"===t.userInfo.role&&i&&i.length||!t.userInfo||"sysAdmin"!==t.userInfo.role?a():a(new t.Error("GGHost服务器FTP基准路径不能为空"))}}}},[i("a-input",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role)},model:{value:t.settingsForm.GGHostFTPPath,callback:function(e){t.$set(t.settingsForm,"GGHostFTPPath",e)},expression:"settingsForm.GGHostFTPPath"}})],1),i("a-form-model-item",{attrs:{label:"FTP类型",prop:"GGHostFTPType",rules:{required:t.userInfo&&"sysAdmin"===t.userInfo.role,trigger:"change",message:"FTP类型不能为空",validator:function(e,i,a){t.userInfo&&"sysAdmin"===t.userInfo.role&&i&&i.length||!t.userInfo||"sysAdmin"!==t.userInfo.role?a():a(new t.Error("FTP类型不能为空"))}}}},[i("a-radio-group",{model:{value:t.settingsForm.GGHostFTPType,callback:function(e){t.$set(t.settingsForm,"GGHostFTPType",e)},expression:"settingsForm.GGHostFTPType"}},[i("a-radio-button",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role),value:"ftp"}},[t._v("FTP")]),i("a-radio-button",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role),value:"sftp"}},[t._v("SFTP")])],1)],1),i("a-form-model-item",{attrs:{label:"GGHost FTP Url",prop:"GGHostFTPUrl",rules:{required:t.userInfo&&"sysAdmin"===t.userInfo.role,trigger:"change",message:"GGHost FTP Url不能为空",validator:function(e,i,a){t.userInfo&&"sysAdmin"===t.userInfo.role&&i&&i.length||!t.userInfo||"sysAdmin"!==t.userInfo.role?a():a(new t.Error("GGHost FTP Url不能为空"))}}}},[i("a-input",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role)},model:{value:t.settingsForm.GGHostFTPUrl,callback:function(e){t.$set(t.settingsForm,"GGHostFTPUrl",e)},expression:"settingsForm.GGHostFTPUrl"}})],1),i("a-form-model-item",{attrs:{label:"GGHost FTP账号",prop:"GGHostFTPAccount",rules:{required:t.userInfo&&"sysAdmin"===t.userInfo.role,trigger:"change",message:"GGHost FTP账号不能为空",validator:function(e,i,a){t.userInfo&&"sysAdmin"===t.userInfo.role&&i&&i.length||!t.userInfo||"sysAdmin"!==t.userInfo.role?a():a(new t.Error("GGHost FTP账号不能为空"))}}}},[i("a-input",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role)},model:{value:t.settingsForm.GGHostFTPAccount,callback:function(e){t.$set(t.settingsForm,"GGHostFTPAccount",e)},expression:"settingsForm.GGHostFTPAccount"}})],1),i("a-form-model-item",{attrs:{label:"GGHost FTP密码",prop:"GGHostFTPPassword",rules:{required:t.userInfo&&"sysAdmin"===t.userInfo.role,trigger:"change",message:"GGHost FTP密码不能为空",validator:function(e,i,a){t.userInfo&&"sysAdmin"===t.userInfo.role&&i&&i.length||!t.userInfo||"sysAdmin"!==t.userInfo.role?a():a(new t.Error("GGHost FTP密码不能为空"))}}}},[i("a-input",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role)},model:{value:t.settingsForm.GGHostFTPPassword,callback:function(e){t.$set(t.settingsForm,"GGHostFTPPassword",e)},expression:"settingsForm.GGHostFTPPassword"}})],1),i("a-form-model-item",{attrs:{label:"获取GGHost击杀/登录日志",prop:"EnableGGHostLogsRollback",rules:{required:t.settingsForm.GGHostServerDetail&&t.settingsForm.GGHostFTPPath&&t.settingsForm.GGHostFTPType&&t.settingsForm.GGHostFTPUrl&&t.settingsForm.GGHostFTPAccount&&t.settingsForm.GGHostFTPPassword,trigger:"change",message:"请选择",validator:function(e,i,a){t.settingsForm.GGHostServerDetail&&t.settingsForm.GGHostFTPPath&&t.settingsForm.GGHostFTPType&&t.settingsForm.GGHostFTPUrl&&t.settingsForm.GGHostFTPAccount&&t.settingsForm.GGHostFTPPassword&&"boolean"===typeof i||!(t.settingsForm.GGHostServerDetail&&t.settingsForm.GGHostFTPPath&&t.settingsForm.GGHostFTPType&&t.settingsForm.GGHostFTPUrl&&t.settingsForm.GGHostFTPAccount&&t.settingsForm.GGHostFTPPassword)?a():a(new t.Error("请选择"))}}}},[i("a-switch",{attrs:{disabled:!t.edit||!(t.settingsForm.GGHostServerDetail&&t.settingsForm.GGHostFTPPath&&t.settingsForm.GGHostFTPType&&t.settingsForm.GGHostFTPUrl&&t.settingsForm.GGHostFTPAccount&&t.settingsForm.GGHostFTPPassword)},model:{value:t.settingsForm.EnableGGHostLogsRollback,callback:function(e){t.$set(t.settingsForm,"EnableGGHostLogsRollback",e)},expression:"settingsForm.EnableGGHostLogsRollback"}})],1),i("a-form-model-item",{attrs:{label:"Single模式超时(ms)",prop:"GGHostLogsRollbackSingleTimeout",rules:{required:t.settingsForm.GGHostServerDetail&&t.settingsForm.GGHostFTPPath&&t.settingsForm.GGHostFTPType&&t.settingsForm.GGHostFTPUrl&&t.settingsForm.GGHostFTPAccount&&t.settingsForm.GGHostFTPPassword,trigger:"change",message:"请输入时间间隔",validator:function(e,i,a){t.settingsForm.GGHostServerDetail&&t.settingsForm.GGHostFTPPath&&t.settingsForm.GGHostFTPType&&t.settingsForm.GGHostFTPUrl&&t.settingsForm.GGHostFTPAccount&&t.settingsForm.GGHostFTPPassword&&"number"===typeof i&&i>0||!(t.settingsForm.GGHostServerDetail&&t.settingsForm.GGHostFTPPath&&t.settingsForm.GGHostFTPType&&t.settingsForm.GGHostFTPUrl&&t.settingsForm.GGHostFTPAccount&&t.settingsForm.GGHostFTPPassword)?a():a(new t.Error("请输入时间间隔"))}}}},[i("a-input-number",{attrs:{min:0,disabled:!t.edit||!(t.settingsForm.GGHostServerDetail&&t.settingsForm.GGHostFTPPath&&t.settingsForm.GGHostFTPType&&t.settingsForm.GGHostFTPUrl&&t.settingsForm.GGHostFTPAccount&&t.settingsForm.GGHostFTPPassword)},model:{value:t.settingsForm.GGHostLogsRollbackSingleTimeout,callback:function(e){t.$set(t.settingsForm,"GGHostLogsRollbackSingleTimeout",e)},expression:"settingsForm.GGHostLogsRollbackSingleTimeout"}})],1),i("a-form-model-item",{attrs:{label:"获取GGHost日志时间间隔(ms)",prop:"GGHostLogsRollbackInterval",rules:{required:t.settingsForm.GGHostServerDetail&&t.settingsForm.GGHostFTPPath&&t.settingsForm.GGHostFTPType&&t.settingsForm.GGHostFTPUrl&&t.settingsForm.GGHostFTPAccount&&t.settingsForm.GGHostFTPPassword,trigger:"change",message:"请输入时间间隔",validator:function(e,i,a){t.settingsForm.GGHostServerDetail&&t.settingsForm.GGHostFTPPath&&t.settingsForm.GGHostFTPType&&t.settingsForm.GGHostFTPUrl&&t.settingsForm.GGHostFTPAccount&&t.settingsForm.GGHostFTPPassword&&"number"===typeof i&&i>0||!(t.settingsForm.GGHostServerDetail&&t.settingsForm.GGHostFTPPath&&t.settingsForm.GGHostFTPType&&t.settingsForm.GGHostFTPUrl&&t.settingsForm.GGHostFTPAccount&&t.settingsForm.GGHostFTPPassword)?a():a(new t.Error("请输入时间间隔"))}}}},[i("a-input-number",{attrs:{min:0,disabled:!t.edit||!(t.settingsForm.GGHostServerDetail&&t.settingsForm.GGHostFTPPath&&t.settingsForm.GGHostFTPType&&t.settingsForm.GGHostFTPUrl&&t.settingsForm.GGHostFTPAccount&&t.settingsForm.GGHostFTPPassword)},model:{value:t.settingsForm.GGHostLogsRollbackInterval,callback:function(e){t.$set(t.settingsForm,"GGHostLogsRollbackInterval",e)},expression:"settingsForm.GGHostLogsRollbackInterval"}})],1),i("a-form-model-item",{attrs:{label:"GGHost获取记录和结果",prop:"GGHostServerLogAsyncRecord"}},[t.settingsForm.GGHostServerLogAsyncRecord&&t.settingsForm.GGHostServerLogAsyncRecord.recentTimeStamp&&t.settingsForm.GGHostServerLogAsyncRecord.result?[i("div",[i("span",[t._v("最近一次获取时间：")]),i("a-input",{staticStyle:{"margin-left":"10px",width:"calc(100% - 136px)"},attrs:{disabled:"",value:t.moment(parseInt(t.settingsForm.GGHostServerLogAsyncRecord.recentTimeStamp)).format("YYYY-MM-DD HH:mm:ss")}})],1),i("div",{staticStyle:{"margin-top":"10px"}},[i("span",{staticStyle:{"vertical-align":"top"}},[t._v("结果：")]),i("a-input",{staticStyle:{"margin-left":"10px",width:"calc(100% - 52px)"},attrs:{type:"textarea","auto-size":{minRows:3,maxRows:3},disabled:"",value:t.settingsForm.GGHostServerLogAsyncRecord.result}})],1)]:[t._v("无")]],2)]:t._e(),"PRIVATE"===t.settingsForm.GameServerType?[i("a-form-model-item",{attrs:{prop:"PrivateBaseFolderPath",rules:{required:t.userInfo&&"sysAdmin"===t.userInfo.role,trigger:"change",message:"日志文件夹根目录路径不能为空",validator:function(e,i,a){t.userInfo&&"sysAdmin"===t.userInfo.role&&i&&i.length||!t.userInfo||"sysAdmin"!==t.userInfo.role?a():a(new t.Error("日志文件夹根目录路径不能为空"))}}}},[i("template",{slot:"label"},[i("span",[t._v("日志文件夹根目录路径")]),i("a-tooltip",{attrs:{placement:"left",title:"注意：Windows系统路径使用正斜杠，Linux系统路径使用反斜杠"}},[i("a-icon",{staticStyle:{"margin-left":"5px",transform:"translateY(13px)",cursor:"pointer"},attrs:{type:"info-circle",theme:"filled"}})],1)],1),i("a-input",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role)},model:{value:t.settingsForm.PrivateBaseFolderPath,callback:function(e){t.$set(t.settingsForm,"PrivateBaseFolderPath",e)},expression:"settingsForm.PrivateBaseFolderPath"}})],2),i("a-form-model-item",{attrs:{label:"获取私服击杀/登录日志",prop:"EnablePrivateLogsRollback",rules:{required:t.settingsForm.PrivateBaseFolderPath,trigger:"change",message:"请选择",validator:function(e,i,a){t.settingsForm.PrivateBaseFolderPath&&"boolean"===typeof i||!t.settingsForm.PrivateBaseFolderPath?a():a(new t.Error("请选择"))}}}},[i("a-switch",{attrs:{disabled:!t.edit||!t.settingsForm.PrivateBaseFolderPath},model:{value:t.settingsForm.EnablePrivateLogsRollback,callback:function(e){t.$set(t.settingsForm,"EnablePrivateLogsRollback",e)},expression:"settingsForm.EnablePrivateLogsRollback"}})],1),i("a-form-model-item",{attrs:{label:"Single模式超时(ms)",prop:"PrivateLogsRollbackSingleTimeout",rules:{required:t.settingsForm.PrivateBaseFolderPath,trigger:"change",message:"请输入时间间隔",validator:function(e,i,a){t.settingsForm.PrivateBaseFolderPath&&"number"===typeof i&&i>0||!t.settingsForm.PrivateBaseFolderPath?a():a(new t.Error("请输入时间间隔"))}}}},[i("a-input-number",{attrs:{min:0,disabled:!t.edit||!t.settingsForm.PrivateBaseFolderPath},model:{value:t.settingsForm.PrivateLogsRollbackSingleTimeout,callback:function(e){t.$set(t.settingsForm,"PrivateLogsRollbackSingleTimeout",e)},expression:"settingsForm.PrivateLogsRollbackSingleTimeout"}})],1),i("a-form-model-item",{attrs:{label:"获取私服日志时间间隔(ms)",prop:"PrivateLogsRollbackInterval",rules:{required:t.settingsForm.PrivateBaseFolderPath,trigger:"change",message:"请输入时间间隔",validator:function(e,i,a){t.settingsForm.PrivateBaseFolderPath&&"number"===typeof i&&i>0||!t.settingsForm.PrivateBaseFolderPath?a():a(new t.Error("请输入时间间隔"))}}}},[i("a-input-number",{attrs:{min:0,disabled:!t.edit||!t.settingsForm.PrivateBaseFolderPath},model:{value:t.settingsForm.PrivateLogsRollbackInterval,callback:function(e){t.$set(t.settingsForm,"PrivateLogsRollbackInterval",e)},expression:"settingsForm.PrivateLogsRollbackInterval"}})],1),i("a-form-model-item",{attrs:{label:"私服获取记录和结果",prop:"PrivateServerLogAsyncRecord"}},[t.settingsForm.PrivateServerLogAsyncRecord&&t.settingsForm.GGHostServerLogAsyncRecord.recentTimeStamp&&t.settingsForm.GGHostServerLogAsyncRecord.result?[i("div",[i("span",[t._v("最近一次获取时间：")]),i("a-input",{staticStyle:{"margin-left":"10px",width:"calc(100% - 136px)"},attrs:{disabled:"",value:t.moment(parseInt(t.settingsForm.PrivateServerLogAsyncRecord.recentTimeStamp)).format("YYYY-MM-DD HH:mm:ss")}})],1),i("div",{staticStyle:{"margin-top":"10px"}},[i("span",{staticStyle:{"vertical-align":"top"}},[t._v("结果：")]),i("a-input",{staticStyle:{"margin-left":"10px",width:"calc(100% - 52px)"},attrs:{type:"textarea","auto-size":{minRows:3,maxRows:3},disabled:"",value:t.settingsForm.PrivateServerLogAsyncRecord.result}})],1)]:[t._v("无")]],2)]:t._e(),t._e(),i("a-form-model-item",{attrs:{label:"地图边界信息",prop:"GameMapBorderInfo",rules:{required:t.userInfo&&"sysAdmin"===t.userInfo.role,trigger:"change",message:"请输入正确的地图边界信息",validator:function(e,i,a){t.userInfo&&"sysAdmin"===t.userInfo.role&&"number"==typeof i.xMax&&"number"==typeof i.xMin&&"number"==typeof i.yMax&&"number"==typeof i.yMin&&i.xMax>i.xMin&&i.yMax>i.yMin||!t.userInfo||"sysAdmin"!==t.userInfo.role?a():a(new t.Error("请输入正确的地图边界信息"))}}}},[i("div",{staticStyle:{width:"100%"}},[i("span",{staticStyle:{display:"inline-block",width:"100px","text-align":"right"}},[t._v("X轴最大值:")]),i("a-input-number",{staticStyle:{width:"calc(100% - 110px)","margin-left":"10px"},attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role)},model:{value:t.settingsForm.GameMapBorderInfo.xMax,callback:function(e){t.$set(t.settingsForm.GameMapBorderInfo,"xMax",e)},expression:"settingsForm.GameMapBorderInfo.xMax"}})],1),i("div",{staticStyle:{width:"100%"}},[i("span",{staticStyle:{display:"inline-block",width:"100px","text-align":"right"}},[t._v("X轴最小值:")]),i("a-input-number",{staticStyle:{width:"calc(100% - 110px)","margin-left":"10px"},attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role)},model:{value:t.settingsForm.GameMapBorderInfo.xMin,callback:function(e){t.$set(t.settingsForm.GameMapBorderInfo,"xMin",e)},expression:"settingsForm.GameMapBorderInfo.xMin"}})],1),i("div",{staticStyle:{width:"100%"}},[i("span",{staticStyle:{display:"inline-block",width:"100px","text-align":"right"}},[t._v("Y轴最大值:")]),i("a-input-number",{staticStyle:{width:"calc(100% - 110px)","margin-left":"10px"},attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role)},model:{value:t.settingsForm.GameMapBorderInfo.yMax,callback:function(e){t.$set(t.settingsForm.GameMapBorderInfo,"yMax",e)},expression:"settingsForm.GameMapBorderInfo.yMax"}})],1),i("div",{staticStyle:{width:"100%"}},[i("span",{staticStyle:{display:"inline-block",width:"100px","text-align":"right"}},[t._v("Y轴最小值:")]),i("a-input-number",{staticStyle:{width:"calc(100% - 110px)","margin-left":"10px"},attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role)},model:{value:t.settingsForm.GameMapBorderInfo.yMin,callback:function(e){t.$set(t.settingsForm.GameMapBorderInfo,"yMin",e)},expression:"settingsForm.GameMapBorderInfo.yMin"}})],1)]),i("a-form-model-item",{attrs:{label:"地图图像文件URL",prop:"GameMapImageUrl",rules:{required:t.userInfo&&"sysAdmin"===t.userInfo.role,trigger:"change",message:"请输入地图图像文件URL",validator:function(e,i,a){t.userInfo&&"sysAdmin"===t.userInfo.role&&i&&i.length||!t.userInfo||"sysAdmin"!==t.userInfo.role?a():a(new t.Error("请输入地图图像文件URL"))}}}},[i("image-select",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role),"show-upload-config":t.showUploadConfig,value:t.settingsForm.GameMapImageUrl},on:{"change-show-upload-config":function(e){t.showUploadConfig=e},change:function(e){t.$set(t.settingsForm,"GameMapImageUrl",e),t.$nextTick((function(){t.$refs.settingsForm.validate()}))}}})],1),i("a-form-model-item",{attrs:{"label-col":{span:7},"wrapper-col":{span:17},label:"游戏地图各区域坐标边界",prop:"GameAreaRanges",rules:{required:!0,trigger:"change",message:"请输入正确的游戏地图各区域坐标边界",validator:function(e,i,a){void 0===Object.keys(i).find((function(t){return null===i[t].xMax||null===i[t].xMin||null===i[t].yMax||null===i[t].yMin||i[t].xMax<i[t].xMin||i[t].yMax<i[t].yMin}))?a():a(new t.Error("请输入正确的游戏地图各区域坐标边界"))}}}},[i("div",{staticStyle:{width:"100%"}},[i("a-popover",{attrs:{placement:"right",visible:t.showAddGameAreaRangeZone,trigger:"click"}},[i("div",{staticStyle:{width:"320px"},attrs:{slot:"title"},slot:"title"},[i("span",{staticStyle:{"font-weight":"bolder"}},[t._v("新增区域")]),i("span",{staticStyle:{cursor:"pointer"},on:{click:function(){t.showAddGameAreaRangeZone=!1,t.addGameAreaRangeZoneInput=""}}},[i("a-icon",{staticStyle:{color:"#ff4d4f",float:"right",display:"inline-block",transform:"translateY(4px)"},attrs:{type:"close-circle",theme:"filled"}})],1)]),i("div",{staticStyle:{width:"320px"},attrs:{slot:"content"},slot:"content"},[i("div",{staticStyle:{width:"100%",height:"40px"}},[i("div",{staticStyle:{width:"60px","text-align":"right",display:"inline-block"}},[t._v("区域:")]),i("a-input",{staticStyle:{width:"250px",display:"inline-block","margin-left":"10px"},attrs:{disabled:!t.edit||!t.showAddGameAreaRangeZone},model:{value:t.addGameAreaRangeZoneInput,callback:function(e){t.addGameAreaRangeZoneInput=e},expression:"addGameAreaRangeZoneInput"}})],1),i("div",{staticStyle:{width:"100%",height:"40px","margin-top":"10px","text-align":"center"}},[i("a-button",{attrs:{type:"primary",disabled:!t.edit||!t.showAddGameAreaRangeZone},on:{click:t.onAddGameAreaRangesZone}},[t._v("提交")])],1)]),i("a-button",{attrs:{size:"small",disabled:!t.edit||t.showAddGameAreaRangeZone,icon:"plus"},on:{click:function(e){t.showAddGameAreaRangeZone=!0}}},[t._v("添加")])],1)],1),i("div",{staticStyle:{width:"calc(100% - 10px)","margin-top":"10px","border-radius":"4px",border:"1px #aaaaaa dashed",padding:"10px"}},[i("div",{staticStyle:{width:"100%"}},[i("span",{staticStyle:{display:"inline-block",width:"10%","text-align":"center"}},[t._v("区域")]),i("span",{staticStyle:{display:"inline-block",width:"17.5%","text-align":"center"}},[t._v("X轴最大值")]),i("span",{staticStyle:{display:"inline-block",width:"17.5%","text-align":"center"}},[t._v("X轴最小值")]),i("span",{staticStyle:{display:"inline-block",width:"17.5%","text-align":"center"}},[t._v("Y轴最大值")]),i("span",{staticStyle:{display:"inline-block",width:"17.5%","text-align":"center"}},[t._v("Y轴最小值")]),i("span",{staticStyle:{display:"inline-block",width:"20%","text-align":"center"}},[t._v("操作")])]),t._l(t.settingsForm.GameAreaRanges,(function(e,a){return i("div",{key:a,staticStyle:{width:"100%"}},[i("span",{staticStyle:{display:"inline-block",width:"10%","text-align":"center"}},[t._v(t._s(a))]),i("a-input-number",{staticStyle:{width:"calc(17.5% - 5px)"},attrs:{disabled:!t.edit||t.showAddGameAreaRangeZone},model:{value:e.xMax,callback:function(i){t.$set(e,"xMax",i)},expression:"GameAreaRange.xMax"}}),i("a-input-number",{staticStyle:{width:"calc(17.5% - 5px)","margin-left":"10px"},attrs:{disabled:!t.edit||t.showAddGameAreaRangeZone},model:{value:e.xMin,callback:function(i){t.$set(e,"xMin",i)},expression:"GameAreaRange.xMin"}}),i("a-input-number",{staticStyle:{width:"calc(17.5% - 5px)","margin-left":"10px"},attrs:{disabled:!t.edit||t.showAddGameAreaRangeZone},model:{value:e.yMax,callback:function(i){t.$set(e,"yMax",i)},expression:"GameAreaRange.yMax"}}),i("a-input-number",{staticStyle:{width:"calc(17.5% - 5px)","margin-left":"10px"},attrs:{disabled:!t.edit||t.showAddGameAreaRangeZone},model:{value:e.yMin,callback:function(i){t.$set(e,"yMin",i)},expression:"GameAreaRange.yMin"}}),i("span",{staticStyle:{display:"inline-block",width:"calc(20% - 10px)","text-align":"center"}},[i("a-button",{attrs:{size:"small",icon:"delete",type:"danger",disabled:!t.edit||t.showAddGameAreaRangeZone},on:{click:function(){return t.removeAddGameAreaRangeZone(a)}}},[t._v("删除")])],1)],1)}))],2)]),i("a-form-model-item",{attrs:{prop:"SteamAPIToken"}},[i("template",{slot:"label"},[i("span",[t._v("Steam API 密钥")]),i("a-tooltip",{attrs:{placement:"left"}},[i("div",{staticStyle:{width:"500px","overflow-y":"auto"},attrs:{slot:"title"},slot:"title"},[i("div",[t._v("查询玩家Steam信息需要用到")]),i("div",[t._v("打开"),i("a",{attrs:{target:"_blank",href:"https://steamcommunity.com/dev/apikey"}},[t._v("密钥申请页面")])]),i("div",[t._v("登录后按提示操作可获取自己的密钥")])]),i("a-icon",{staticStyle:{"margin-left":"5px",transform:"translateY(13px)",cursor:"pointer"},attrs:{type:"info-circle",theme:"filled"}})],1)],1),i("a-input",{attrs:{disabled:!t.edit||!(t.userInfo&&"sysAdmin"===t.userInfo.role)},model:{value:t.settingsForm.SteamAPIToken,callback:function(e){t.$set(t.settingsForm,"SteamAPIToken",e)},expression:"settingsForm.SteamAPIToken"}})],2)],2)],1),i("Loading",{attrs:{tip:"正在加载",show:t.loading}})],1)])],1)},bi=[],Li=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%"}},[i("div",{staticStyle:{width:"100%"}},[i("a-input",{staticStyle:{width:"calc(100% - 104px)"},attrs:{value:t.value,allowClear:"",disabled:t.disabled},on:{change:function(e){return t.$emit("change",e.target.value)}}}),t._e()],1),t.showUploadConfig?[i("div",{staticStyle:{width:"100%"}},[i("span",[t._v("类型：")]),i("a-radio-group",{attrs:{"button-style":"solid",size:"small"},model:{value:t.uploadConfigType,callback:function(e){t.uploadConfigType=e},expression:"uploadConfigType"}},[i("a-radio-button",{attrs:{value:"file"}},[t._v("文件")]),i("a-radio-button",{attrs:{value:"fileurl"}},[t._v("URL转换")]),i("a-radio-button",{attrs:{value:"attachments"}},[t._v("选择附件")])],1),"attachments"!==t.uploadConfigType?i("a-button",{staticStyle:{float:"right",transform:"translateY(8px)"},attrs:{type:"primary",size:"small",loading:t.uploadLoading,icon:"upload",disabled:"file"===t.uploadConfigType&&!(t.uploadConfig.file&&t.uploadConfig.file.length)||"fileurl"===t.uploadConfigType&&!(t.uploadConfig.fileurl&&t.uploadConfig.fileurl.length)},on:{click:t.uploadImg}},[t._v("上传")]):t._e()],1),"file"===t.uploadConfigType?i("div",{staticStyle:{width:"100%"}},[i("a-upload-dragger",{attrs:{name:"file","file-list":t.uploadConfig.file,remove:function(){return t.$set(t.uploadConfig,"file",null)},"before-upload":function(e){return t.$set(t.uploadConfig,"file",[e]),!1}}},[i("p",{staticClass:"ant-upload-drag-icon"},[i("a-icon",{attrs:{type:"inbox"}})],1),i("p",{staticClass:"ant-upload-text"},[t._v(" 点此选择或者拖拽文件到此上传 ")]),i("p",{staticClass:"ant-upload-hint"},[t._v(" 图片格式支持JPG、JPEG、GIF、PNG，单张图片不可超过10M。 ")])])],1):i("div",{staticStyle:{width:"100%"}},[i("span",[t._v("源文件URL：")]),i("a-input",{staticStyle:{width:"calc(100% - 86px)","margin-left":"5px"},attrs:{allowClear:""},model:{value:t.uploadConfig.fileurl,callback:function(e){t.$set(t.uploadConfig,"fileurl",e)},expression:"uploadConfig.fileurl"}})],1)]:t._e()],2)},ki=[],Ii=(i("99af"),{name:"ImageSelect",components:{},props:{value:{},disabled:{},showUploadConfig:{}},data:function(){return{uploadConfigType:"fileurl",uploadConfig:{file:[],fileurl:""},uploadLoading:!1}},methods:{uploadImg:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i,a,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=new FormData,i.append(t.uploadConfigType,"file"===t.uploadConfigType?t.uploadConfig.file[0]:""),t.uploadLoading=!0,e.prev=3,e.next=6,y({method:"GET",url:"/serverConfigAdminSys/gportalSettings"});case 6:if(a=e.sent,!(a.data.StoreImgUploadTime>=500)){e.next=11;break}return t.$message.error("已上传图片≥500张，请联系超级管理员"),t.uploadLoading=!1,e.abrupt("return");case 11:e.next=19;break;case 13:return e.prev=13,e.t0=e["catch"](3),t.uploadLoading=!1,t.$message.error(e.t0.toString()),console.error(e.t0),e.abrupt("return");case 19:if(e.prev=19,"file"!==t.uploadConfigType){e.next=26;break}return e.next=23,u.a.post("https://image.scum-cn.com:65500/images/upload",i,{timeout:6e4});case 23:n=e.sent,e.next=29;break;case 26:return e.next=28,u.a.post("https://image.scum-cn.com:65500/images/uploadUrl",{fileurl:t.uploadConfig.fileurl},{timeout:6e4});case 28:n=e.sent;case 29:if(console.log("resUpload",n),!n||!n.data||200!==n.data.status){e.next=59;break}return e.prev=31,e.next=34,y({method:"PUT",url:"/serverConfigAdminSys/addStoreImgUploadTime"});case 34:e.next=40;break;case 36:e.prev=36,e.t1=e["catch"](31),t.$message.error(e.t1.toString()),console.error(e.t1);case 40:return t.uploadLoading=!1,t.$emit("change",n.data.data),e.prev=42,o={name:n.data.data.split("?")[1],url:n.data.data},e.next=46,y({method:"POST",url:"/attachmentsAdminSys/add",data:o});case 46:e.next=52;break;case 48:e.prev=48,e.t2=e["catch"](42),t.$message.error(e.t2.toString()),console.error(e.t2);case 52:t.$message.success("上传成功，已替换URL"),t.$emit("change-show-upload-config",!1),t.uploadConfigType="file",t.$set(t,"uploadConfig",{file:[],fileurl:""}),t.uploadConfigType="attachments",e.next=62;break;case 59:t.uploadLoading=!1,t.$message.error("错误码".concat(n.data.code,": ").concat(n.data.info)),console.error(n.data);case 62:e.next=69;break;case 64:e.prev=64,e.t3=e["catch"](19),t.uploadLoading=!1,t.$message.error(e.t3.toString()),console.error(e.t3);case 69:case"end":return e.stop()}}),e,null,[[3,13],[19,64],[31,36],[42,48]])})))()}}}),_i=Ii,Fi=Object(_["a"])(_i,Li,ki,!1,null,"6cee6554",null),Pi=Fi.exports,Ci={name:"GportalSettings",components:{Loading:P,ImageSelect:Pi},computed:Object(c["a"])({},Object(S["mapState"])(["userInfo"])),data:function(){return{moment:E.a,show:!0,Error:Error,loading:!1,edit:!1,saveLoading:!1,originalGameServerType:"",settingsForm:{GameServerType:"",BattleMetricServerId:"",ServerId:"",GPortalFTPUrl:"",GPortalFTPAccount:"",GPortalFTPPassword:"",EnableGPortalLogsRollback:!1,GPortalLogsRollbackSingleTimeout:null,GPortalLogsRollbackInterval:null,GPortalServerLogAsyncRecord:{recentTimeStamp:"",result:""},EnableNitradoLogsRollback:!1,NitradoAuthorizationToken:"",NitradoLogsRollbackInterval:null,NitradoServerLogAsyncRecord:{recentTimeStamp:"",result:""},GGHostServerDetail:"",GGHostFTPPath:"",GGHostFTPType:"",GGHostFTPUrl:"",GGHostFTPAccount:"",GGHostFTPPassword:"",EnableGGHostLogsRollback:!1,GGHostLogsRollbackSingleTimeout:null,GGHostLogsRollbackInterval:null,GGHostServerLogAsyncRecord:{recentTimeStamp:"",result:""},PrivateServerDetail:"",EnablePrivateLogsRollback:!1,PrivateLogsRollbackSingleTimeout:null,PrivateLogsRollbackInterval:null,PrivateServerLogAsyncRecord:{recentTimeStamp:"",result:""},IsLogUTCTime:!1,GameMapBorderInfo:{xMax:null,xMin:null,yMax:null,yMin:null},GameMapImageUrl:"",GameAreaRanges:{},SteamAPIToken:""},settingsFormRules:{BattleMetricServerId:[{required:!0,trigger:"change",message:"请输入BattleMetric服务器ID",validator:function(t,e,i){e&&e.length?i():i(new Error("请输入BattleMetric服务器ID"))}}]},showAddGameAreaRangeZone:!1,addGameAreaRangeZoneInput:"",showUploadConfig:!1,loadingRefreshFTPConfigs:!1}},mounted:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getData();case 2:case"end":return e.stop()}}),e)})))()},methods:{getData:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,y({method:"GET",url:"/serverConfigAdminSys/gportalSettings"});case 4:i=e.sent,t.loading=!1,200===i.status&&(t.$set(t,"settingsForm",i.data),t.originalGameServerType=i.data.GameServerType),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),console.error(e.t0),t.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},onClickEdit:function(){this.show=!0,this.edit=!0},onClickCancelEdit:function(){this.edit=!1,this.getData()},changeGameServerType:function(t){this.settingsForm.ServerId="","GPORTAL"===t?(this.settingsForm.EnableNitradoLogsRollback=!1,this.settingsForm.NitradoAuthorizationToken="",this.settingsForm.NitradoServerLogAsyncRecord={recentTimeStamp:"",result:""},this.settingsForm.GGHostServerDetail="",this.settingsForm.GGHostFTPPath="",this.settingsForm.GGHostFTPType="",this.settingsForm.GGHostFTPUrl="",this.settingsForm.GGHostFTPAccount="",this.settingsForm.GGHostFTPPassword="",this.settingsForm.EnableGGHostLogsRollback=!1,this.settingsForm.GGHostServerLogAsyncRecord={recentTimeStamp:"",result:""},this.settingsForm.PrivateBaseFolderPath="",this.settingsForm.EnablePrivateLogsRollback=!1,this.settingsForm.PrivateServerLogAsyncRecord={recentTimeStamp:"",result:""}):"NITRADO"===t?(this.settingsForm.GPortalFTPUrl="",this.settingsForm.GPortalFTPAccount="",this.settingsForm.GPortalFTPPassword="",this.settingsForm.EnableGPortalLogsRollback=!1,this.settingsForm.GPortalServerLogAsyncRecord={recentTimeStamp:"",result:""},this.settingsForm.GGHostServerDetail="",this.settingsForm.GGHostFTPPath="",this.settingsForm.GGHostFTPType="",this.settingsForm.GGHostFTPUrl="",this.settingsForm.GGHostFTPAccount="",this.settingsForm.GGHostFTPPassword="",this.settingsForm.EnableGGHostLogsRollback=!1,this.settingsForm.GGHostServerLogAsyncRecord={recentTimeStamp:"",result:""},this.settingsForm.PrivateBaseFolderPath="",this.settingsForm.EnablePrivateLogsRollback=!1,this.settingsForm.PrivateServerLogAsyncRecord={recentTimeStamp:"",result:""}):"GGHOST"===t?(this.settingsForm.GPortalFTPUrl="",this.settingsForm.GPortalFTPAccount="",this.settingsForm.GPortalFTPPassword="",this.settingsForm.EnableGPortalLogsRollback=!1,this.settingsForm.GPortalServerLogAsyncRecord={recentTimeStamp:"",result:""},this.settingsForm.EnableNitradoLogsRollback=!1,this.settingsForm.NitradoAuthorizationToken="",this.settingsForm.NitradoServerLogAsyncRecord={recentTimeStamp:"",result:""},this.settingsForm.PrivateBaseFolderPath="",this.settingsForm.EnablePrivateLogsRollback=!1,this.settingsForm.PrivateServerLogAsyncRecord={recentTimeStamp:"",result:""}):"PRIVATE"===t&&(this.settingsForm.GPortalFTPUrl="",this.settingsForm.GPortalFTPAccount="",this.settingsForm.GPortalFTPPassword="",this.settingsForm.EnableGPortalLogsRollback=!1,this.settingsForm.GPortalServerLogAsyncRecord={recentTimeStamp:"",result:""},this.settingsForm.EnableNitradoLogsRollback=!1,this.settingsForm.NitradoAuthorizationToken="",this.settingsForm.NitradoServerLogAsyncRecord={recentTimeStamp:"",result:""},this.settingsForm.GGHostServerDetail="",this.settingsForm.GGHostFTPPath="",this.settingsForm.GGHostFTPType="",this.settingsForm.GGHostFTPUrl="",this.settingsForm.GGHostFTPAccount="",this.settingsForm.GGHostFTPPassword="",this.settingsForm.EnableGGHostLogsRollback=!1,this.settingsForm.GGHostServerLogAsyncRecord={recentTimeStamp:"",result:""})},onClickSave:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.originalGameServerType&&t.settingsForm.GameServerType&&t.originalGameServerType!==t.settingsForm.GameServerType?t.$confirm({title:"变更服务器类型确认",content:"这将会清空所有的游戏日志，确定要变更吗",okText:"确定变更",cancelText:"不了，再想想",onOk:function(){t.onClickSaveNormal()}}):t.onClickSaveNormal();case 1:case"end":return e.stop()}}),e)})))()},onClickSaveNormal:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$nextTick((function(){t.$refs.settingsForm.validate(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(i){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i){e.next=25;break}return a=Object(et["cloneDeep"])(t.settingsForm),a.ServerId&&a.GPortalFTPUrl&&a.GPortalFTPAccount&&a.GPortalFTPPassword||(a.EnableGPortalLogsRollback=!1),a.ServerId&&a.NitradoAuthorizationToken||(a.EnableNitradoLogsRollback=!1),a.GGHostServerDetail&&a.GGHostFTPPath&&a.GGHostFTPType&&a.GGHostFTPUrl&&a.GGHostFTPAccount&&a.GGHostFTPPassword||(a.EnableGGHostLogsRollback=!1),a.PrivateBaseFolderPath||(a.EnablePrivateLogsRollback=!1),t.userInfo&&"sysAdmin"===t.userInfo.role||(delete a.ServerId,delete a.GPortalPassword,delete a.GPortalFTPUrl,delete a.GPortalFTPAccount,delete a.GPortalFTPPassword,delete a.NitradoAuthorizationToken,delete a.GameMapImageUrl,delete a.GameMapBorderInfo,delete a.GGHostServerDetail,delete a.GGHostFTPPath,delete a.GGHostFTPType,delete a.GGHostFTPUrl,delete a.GGHostFTPAccount,delete a.GGHostFTPPassword,delete a.PrivateBaseFolderPath),console.log(a),t.saveLoading=!0,e.prev=9,e.next=12,y({method:"PUT",url:t.userInfo&&"sysAdmin"===t.userInfo.role?"/serverConfigAdminSys/updateAllGportalSettings":"/serverConfigAdminSys/updateGportalSettings",data:a});case 12:if(n=e.sent,t.saveLoading=!1,200!==n.status){e.next=19;break}return t.$message.success("修改成功"),t.edit=!1,e.next=19,t.getData();case 19:e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](9),console.error(e.t0),t.saveLoading=!1;case 25:case"end":return e.stop()}}),e,null,[[9,21]])})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})))()},onAddGameAreaRangesZone:function(){this.$set(this.settingsForm.GameAreaRanges,this.addGameAreaRangeZoneInput,{xMax:null,xMin:null,yMax:null,yMin:null}),this.showAddGameAreaRangeZone=!1,this.addGameAreaRangeZoneInput=""},removeAddGameAreaRangeZone:function(t){var e={};for(var i in this.settingsForm.GameAreaRanges)i!==t&&(e[i]=this.settingsForm.GameAreaRanges[i]);this.$set(this.settingsForm,"GameAreaRanges",e)},refreshFTPConfigs:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.loadingRefreshFTPConfigs=!0,e.next=4,y({method:"POST",url:"/serverConfigAdminSys/refreshFTPConfigs"});case 4:i=e.sent,200===i.status&&(t.loadingRefreshFTPConfigs=!1,t.$message.success("提交成功，下一次获取日志时生效")),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),t.loadingRefreshFTPConfigs=!1,console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},Ti=Ci,Ai=(i("3bf5"),Object(_["a"])(Ti,wi,bi,!1,null,"70d6e2f9",null)),Ri=Ai.exports,Gi={name:"ServerConfigs",components:{GportalSettings:Ri},computed:Object(c["a"])({},Object(S["mapState"])(["userInfo"])),data:function(){return{}},mounted:function(){},methods:{}},Mi=Gi,Di=(i("d0b1"),Object(_["a"])(Mi,xi,Si,!1,null,"6fe7392e",null)),Oi=Di.exports,$i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%",padding:"15px"}},[i("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:"实用工具集"}}),i("div",{staticStyle:{width:"100%",height:"calc(100% - 66px)",padding:"15px","padding-top":"0"}},[i("div",{staticStyle:{width:"100%",height:"100%",background:"white","overflow-y":"auto",padding:"10px"}},[i("a-tabs",{attrs:{type:"card"},on:{change:function(e){t.$router.push({path:"/tools",query:{category:e}})}},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[i("a-tab-pane",{key:"steam-info-search",attrs:{tab:"Steam信息查询"}},["steam-info-search"===t.currentTab?i("SteamInfoSearch"):t._e()],1),i("a-tab-pane",{key:"location-tools",attrs:{tab:"位置助手"}},["location-tools"===t.currentTab?i("LocationTools"):t._e()],1)],1)],1)])],1)},zi=[],Ni=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"580px",position:"relative"}},[i("div",{staticStyle:{width:"100%",height:"580px",position:"absolute"}},[t._m(0),i("div",{staticStyle:{margin:"10px 0"}},[i("a-input",{staticStyle:{width:"250px"},model:{value:t.steamId,callback:function(e){t.steamId=e},expression:"steamId"}}),i("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1),t.searched?i("steam-info",{attrs:{"steam-info":t.steamInfo}}):t._e()],1),i("Loading",{attrs:{tip:"正在加载",show:t.loading}})],1)},Ei=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("span",{staticStyle:{"font-weight":"bolder",color:"#ff4d4f"}},[t._v("*请输入17位Steam ID，查询前请确认已经在”配置管理→服务器管理“配置Steam API 密钥")])])}],Hi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"auto",height:"auto"}},[null!==t.steamInfo.status?i("a-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{"show-icon":"",message:t.steamInfo.status,type:"info"}}):i("div",{staticStyle:{border:"1px #A0A0A0 solid","border-radius":"10px",padding:"10px"}},[i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("Steam账户基本信息")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","padding-left":"10px","margin-bottom":"5px"}},[i("div",{staticStyle:{width:"100%",height:"60px"}},[i("div",{staticStyle:{width:"60px",height:"60px",display:"inline-block","vertical-align":"top"}},[i("img",{staticStyle:{width:"58px",height:"58px",border:"2px grey solid","border-radius":"5px"},attrs:{src:t.steamInfo.avatarFull}})]),i("div",{staticStyle:{width:"calc(100% - 60px)",height:"60px",display:"inline-block","vertical-align":"top","padding-left":"5px"}},[i("div",{staticStyle:{width:"100%",height:"40px","line-height":"40px","font-size":"20px",color:"orange"}},[i("strong",[t._v(t._s(t.steamInfo.personaname))]),i("a-button",{staticStyle:{"margin-left":"10px",transform:"translateY(-2px)"},attrs:{size:"small"},on:{click:function(){t.window.open(t.steamInfo.profileUrl,"_blank")}}},[t._v("前往Steam个人主页")])],1),i("div",{staticStyle:{width:"100%",height:"12px","line-height":"12px","font-size":"12px"}},[i("strong",[t._v(t._s(t.steamInfo.steamId))])])])]),i("div",{staticStyle:{width:"100%",height:"30px","line-height":"30px"}},[i("span",[t._v("Steam用户等级:")]),i("strong",{staticStyle:{"margin-left":"10px",color:"#1890ff"}},[t._v("Lv. "+t._s(t.steamInfo.playerLevel))])]),i("div",{staticStyle:{width:"100%",height:"30px","line-height":"30px"}},[i("span",[t._v("Steam账号注册日期:")]),i("strong",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.steamInfo.timeCreated?t.moment(parseInt(t.steamInfo.timeCreated)).format("YYYY-MM-DD HH:mm:ss"):"-"))])])]),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("SCUM游戏信息")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","padding-left":"10px","margin-bottom":"5px"}},[i("div",{staticStyle:{width:"100%",height:"30px","line-height":"30px"}},[i("span",[t._v("SCUM游戏时长:")]),i("strong",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.steamInfo.playHours)+" 分钟 / "+t._s(t.steamInfo.playHours/60)+" 小时")])]),i("div",{staticStyle:{width:"100%",height:"30px","line-height":"30px"}},[i("span",[t._v("上次登录游戏时间:")]),i("strong",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.steamInfo.lastPlayTime?t.moment(parseInt(t.steamInfo.lastPlayTime)).format("YYYY-MM-DD HH:mm:ss"):"-"))])])]),i("div",{staticStyle:{width:"100%",height:"24px"}},[i("div",{staticStyle:{width:"5px",height:"24px",background:"#1890ff",display:"inline-block","vertical-align":"top"}}),i("div",{staticStyle:{width:"auto",height:"24px","margin-left":"5px","line-height":"24px","font-weight":"bolder",display:"inline-block","vertical-align":"top"}},[t._v("封禁信息")])]),i("a-divider",{staticStyle:{margin:"5px 0"}}),i("div",{staticStyle:{width:"100%","padding-left":"10px","margin-bottom":"5px"}},[i("div",{staticStyle:{width:"100%",height:"30px","line-height":"30px"}},[i("span",[t._v("VAC封禁:")]),i("strong",{staticStyle:{"margin-left":"10px"},style:{color:!0===t.steamInfo.vacBanned?"red":"grey"}},[t._v(t._s(!0===t.steamInfo.vacBanned?"是":"否"))])]),i("div",{staticStyle:{width:"100%",height:"30px","line-height":"30px"}},[i("span",[t._v("Steam社区封禁:")]),i("strong",{staticStyle:{"margin-left":"10px"},style:{color:!0===t.steamInfo.communityBanned?"red":"grey"}},[t._v(t._s(!0===t.steamInfo.communityBanned?"是":"否"))])]),i("div",{staticStyle:{width:"100%",height:"30px","line-height":"30px"}},[i("span",[t._v("Steam支付问题封禁:")]),i("strong",{staticStyle:{"margin-left":"10px"},style:{color:"none"!==t.steamInfo.economyBan?"red":"grey"}},[t._v(t._s("none"!==t.steamInfo.economyBan?"是":"否"))])]),i("div",{staticStyle:{width:"100%",height:"30px","line-height":"30px"}},[i("span",[t._v("被VAC封禁的次数:")]),i("strong",{staticStyle:{"margin-left":"10px"},style:{color:t.steamInfo.numberOfVACBans>0?"red":"grey"}},[t._v(t._s(t.steamInfo.numberOfVACBans))])]),i("div",{staticStyle:{width:"100%",height:"30px","line-height":"30px"}},[i("span",[t._v("被封禁的游戏个数:")]),i("strong",{staticStyle:{"margin-left":"10px"},style:{color:t.steamInfo.numberOfGameBans>0?"red":"grey"}},[t._v(t._s(t.steamInfo.numberOfGameBans))])]),i("div",{staticStyle:{width:"100%",height:"30px","line-height":"30px"}},[i("span",[t._v("最近一次被封禁到现在为止的天数:")]),i("strong",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.steamInfo.daysSinceLastBan)+" 天")])])])],1)],1)},Ui=[],ji={name:"SteamInfo",components:{},props:{steamInfo:{type:Object,default:function(){return{}}}},computed:{},data:function(){return{window:window,moment:E.a,cloneDeep:et["cloneDeep"]}},mounted:function(){},methods:{}},Yi=ji,Bi=Object(_["a"])(Yi,Hi,Ui,!1,null,"d8e8a7f0",null),qi=Bi.exports,Ki={name:"SteamInfoSearch",components:{Loading:P,SteamInfo:qi},data:function(){return{steamId:"",searched:!1,loading:!1,steamInfo:{status:null,steamId:"",personaname:"",avatarFull:"",profileUrl:"",timeCreated:0,playerLevel:1,lastPlayTime:0,playHours:0,vacBanned:!1,communityBanned:!1,economyBan:"none",numberOfVACBans:0,numberOfGameBans:0,daysSinceLastBan:0}}},mounted:function(){},methods:{search:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i,a,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==t.steamId&&je(t.steamId)&&17===t.steamId.length){e.next=3;break}return t.$message.error("Steam ID 格式不正确"),e.abrupt("return");case 3:return t.searched=!0,t.loading=!0,i={steamId:t.steamId},e.prev=6,e.next=9,y({method:"GET",url:"/userAdminSys/getSteamInfo",params:i});case 9:a=e.sent,200===a.status?(void 0!==(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.results)?t.steamInfo=Object(c["a"])(Object(c["a"])({},null===a||void 0===a||null===(o=a.data)||void 0===o?void 0:o.results),{},{status:null}):t.steamInfo.status=null===a||void 0===a?void 0:a.msg,t.loading=!1):(t.$message.error(a.message),t.loading=!1),e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](6),console.error(e.t0),t.loading=!1;case 17:case"end":return e.stop()}}),e,null,[[6,13]])})))()}}},Vi=Ki,Wi=Object(_["a"])(Vi,Ni,Ei,!1,null,"6dae4fd6",null),Xi=Wi.exports,Zi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"550px","text-align":"center"}},[i("div",{staticStyle:{width:"400px",height:"400px",display:"inline-block"}},[i("map-selector",{model:{value:t.currentSelectedLocation,callback:function(e){t.currentSelectedLocation=e},expression:"currentSelectedLocation"}})],1),t.currentSelectedLocation&&3===t.currentSelectedLocation.length?i("div",{staticStyle:{width:"100%","margin-top":"15px","text-align":"center","font-weight":"bolder","font-size":"16px",height:"48px","line-height":"48px"}},[i("span",{staticStyle:{display:"inline-block",width:"auto","min-width":"50%",height:"100%",background:"#333333",padding:"0 10px",border:"1px #faad14 solid","border-radius":"4px",color:"#faad14"}},[i("span",[t._v("X")]),i("span",{staticStyle:{margin:"0 5px"}},[t._v("=")]),i("span",{staticStyle:{color:"#d46b08"}},[t._v(t._s(t.currentSelectedLocation[0]))]),i("span",{staticStyle:{"margin-left":"5px"}},[t._v("Y")]),i("span",{staticStyle:{margin:"0 5px"}},[t._v("=")]),i("span",{staticStyle:{color:"#d46b08"}},[t._v(t._s(t.currentSelectedLocation[1]))]),i("span",{staticStyle:{"margin-left":"5px"}},[t._v("Z")]),i("span",{staticStyle:{margin:"0 5px"}},[t._v("=")]),i("span",{staticStyle:{color:"#d46b08"}},[t._v(t._s(t.currentSelectedLocation[2]))])])]):i("div",{staticStyle:{width:"100%","margin-top":"15px","text-align":"center","font-weight":"bolder","font-size":"16px",height:"48px","line-height":"48px"}},[i("span",{staticStyle:{display:"inline-block",width:"auto","min-width":"50%",height:"100%",background:"#333333",padding:"0 10px",border:"1px #faad14 solid","border-radius":"4px",color:"#d46b08"}},[t._v("请选择坐标")])]),i("div",{staticStyle:{width:"100%","margin-top":"10px","text-align":"center"}},[i("a-button",{attrs:{disabled:!(t.currentSelectedLocation&&3===t.currentSelectedLocation.length)},on:{click:function(){return t.doCopyCommands("#teleport "+t.currentSelectedLocation[0]+" "+t.currentSelectedLocation[1]+" "+t.currentSelectedLocation[2])}}},[t._v("复制")])],1)])},Ji=[],Qi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"auto","text-align":"center"},attrs:{id:"outer-frame"}},[i("canvas",{ref:"map",staticStyle:{border:"2px #faad14 solid"},style:{width:t.measuredWidth+"px",height:t.measuredHeight+"px"}})])},ta=[],ea=(i("e9c4"),i("b680"),1),ia=!1,aa=!1,na={name:"MapSelectors",props:{value:{type:Array}},computed:Object(c["a"])(Object(c["a"])({},Object(S["mapState"])(["scumMapBorder","scumMapImageObject"])),{},{combineAll:function(){return[this.scumMapBorder,this.scumMapImageObject]}}),mounted:function(){var t=this;window.addEventListener("resize",(function(){if(void 0!==document.getElementById("outer-frame")){var e=document.getElementById("outer-frame").offsetWidth,i=t.scumMapBorder?(t.scumMapBorder.yMax-t.scumMapBorder.yMin)/(t.scumMapBorder.xMax-t.scumMapBorder.xMin):1;console.log(i),t.measuredWidth=e>=800?800:e,t.measuredHeight=e>=800?800*i:e*i,t.$nextTick((function(){t.$emit("input",[]),t.drawMap(t.scumMapBorder,t.scumMapImageObject)}))}}),!1)},data:function(){return{measuredWidth:0,measuredHeight:0,imgX:0,imgY:0,imgScale:1,pos:{},posl:{},pos1:{},pos2:{},dragging:!1,scaling:!1}},methods:{drawMapInit:function(t,e){var i=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var e,a,n,o,s,r,c,d,p,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){var e=setInterval((function(){void 0!==i.$refs.map&&(clearInterval(e),t())}),100)}));case 2:e=i.$refs.map,a=function(t){i.dragging=!0,ia=!0,setTimeout((function(){ia=!1}),200),i.pos=i.windowToCanvas(t.clientX,t.clientY)},n=function(t){if(!ia&&i.dragging){i.posl=i.windowToCanvas(t.clientX,t.clientY);var e=i.posl.x-i.pos.x,a=i.posl.y-i.pos.y;i.imgX+=e,i.imgY+=a,i.pos=JSON.parse(JSON.stringify(i.posl)),i.drawMap()}},o=function(){i.dragging=!1},s=function(t){1===t.touches.length?(i.dragging=!0,i.pos=i.windowToCanvas(t.touches[0].clientX,t.touches[0].clientY)):2===t.touches.length&&(i.scaling=!0,i.pos1=i.windowToCanvas(t.touches[0].clientX,t.touches[0].clientY),i.pos2=i.windowToCanvas(t.touches[1].clientX,t.touches[1].clientY),aa=!0,setTimeout((function(){aa=!1}),200))},r=function(t){if(!aa){if(i.dragging&&1===t.touches.length){i.posl=i.windowToCanvas(t.touches[0].clientX,t.touches[0].clientY);var e=i.posl.x-i.pos.x,a=i.posl.y-i.pos.y;i.imgX+=e,i.imgY+=a,i.pos=JSON.parse(JSON.stringify(i.posl))}else if(i.scaling&&2===t.touches.length){var n=i.pos1,o=i.pos2,s=i.windowToCanvas(t.touches[0].clientX,t.touches[0].clientY),r=i.windowToCanvas(t.touches[1].clientX,t.touches[1].clientY);i.pos=i.windowToCanvas((t.touches[0].clientX+t.touches[1].clientX)/2,(t.touches[0].clientY+t.touches[1].clientY)/2);var l={x:((i.pos.x-i.imgX)/i.imgScale).toFixed(2),y:((i.pos.y-i.imgY)/i.imgScale).toFixed(2)};(r.y-s.y)*(r.y-s.y)+(r.x-s.x)*(r.x-s.x)>=(o.y-n.y)*(o.y-n.y)+(o.x-n.x)*(o.x-n.x)?(i.imgScale+=.1,i.imgX=(1-i.imgScale)*l.x+(i.pos.x-l.x),i.imgY=(1-i.imgScale)*l.y+(i.pos.y-l.y)):(i.imgScale-=.1,i.imgScale<ea&&(i.imgScale=ea),i.imgX=(1-i.imgScale)*l.x+(i.pos.x-l.x),i.imgY=(1-i.imgScale)*l.y+(i.pos.y-l.y)),i.pos1=s,i.pos2=r}i.drawMap()}},c=function(){i.dragging=!1,i.scaling=!1},d=function(t){i.pos=i.windowToCanvas(t.clientX,t.clientY);var e=t.wheelDelta?t.wheelDelta:-40*t.deltalY,a={x:((i.pos.x-i.imgX)/i.imgScale).toFixed(2),y:((i.pos.y-i.imgY)/i.imgScale).toFixed(2)};e>0?(i.imgScale+=.1,i.imgX=(1-i.imgScale)*a.x+(i.pos.x-a.x),i.imgY=(1-i.imgScale)*a.y+(i.pos.y-a.y)):(i.imgScale-=.1,i.imgScale<ea&&(i.imgScale=ea),i.imgX=(1-i.imgScale)*a.x+(i.pos.x-a.x),i.imgY=(1-i.imgScale)*a.y+(i.pos.y-a.y)),i.drawMap()},p=function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e){var a,n,o,s,r,l,c,d,p,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!ia&&!aa){t.next=16;break}return a=e.touches?e.touches[0]:e,n=i.windowToCanvas(a.clientX,a.clientY),o=Math.abs(i.imgX),s=Math.abs(i.imgY),r=i.measuredWidth*i.imgScale,l=i.measuredHeight*i.imgScale,c=o+n.x,d=s+n.y,p=i.scumMapBorder.xMax-(i.scumMapBorder.xMax-i.scumMapBorder.xMin)*c/r,g=i.scumMapBorder.yMax-(i.scumMapBorder.yMax-i.scumMapBorder.yMin)*d/l,i.$emit("input",[p.toFixed(3),g.toFixed(3),0]),t.next=14,i.drawMap();case 14:return t.next=16,i.drawLocation(n);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onclick=p,e.onmousedown=a,e.onmousemove=n,e.onmouseup=o,e.ontouchstart=s,e.ontouchmove=r,e.ontouchend=c,e.onmousewheel=e.onwheel=d,g=e.getContext("2d"),e.width=i.measuredWidth,e.height=i.measuredHeight,g.drawImage(i.scumMapImageObject,0,0,i.measuredWidth,i.measuredHeight);case 23:case"end":return t.stop()}}),t)})))()},drawLocation:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a=e.$refs.map,n=a.getContext("2d"),n.globalAlpha=.75,n.fillStyle="red",n.beginPath(),n.arc(t.x,t.y,.025*e.measuredWidth,2*Math.PI,0,!0),n.closePath(),n.fill(),n.globalAlpha=.6,n.fillStyle="white",n.beginPath(),n.rect(t.x-.015*e.measuredWidth,t.y-.0025*e.measuredWidth,.03*e.measuredWidth,.005*e.measuredWidth),n.fill(),n.beginPath(),n.rect(t.x-.0025*e.measuredWidth,t.y-.015*e.measuredWidth,.005*e.measuredWidth,.03*e.measuredWidth),n.fill();case 16:case"end":return i.stop()}}),i)})))()},drawMap:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){var i=setInterval((function(){void 0!==t.$refs.map&&(clearInterval(i),e())}),100)}));case 2:i=t.$refs.map,a=i.getContext("2d"),a.clearRect(0,0,i.width,i.height),i.width=t.measuredWidth,i.height=t.measuredHeight,t.imgX<t.measuredWidth*(1-t.imgScale)?t.imgX=t.measuredWidth*(1-t.imgScale):t.imgX>0&&(t.imgX=0),t.imgY<t.measuredHeight*(1-t.imgScale)?t.imgY=t.measuredHeight*(1-t.imgScale):t.imgY>0&&(t.imgY=0),a.drawImage(t.scumMapImageObject,0,0,t.scumMapImageObject.width,t.scumMapImageObject.height,t.imgX,t.imgY,t.measuredWidth*t.imgScale,t.measuredHeight*t.imgScale);case 10:case"end":return e.stop()}}),e)})))()},windowToCanvas:function(t,e){var i=this.$refs.map.getBoundingClientRect();return{x:t-i.left-(i.width-this.$refs.map.width)/2,y:e-i.top-(i.height-this.$refs.map.height)/2}}},watch:{combineAll:{immediate:!0,deep:!0,handler:function(t){var e=this,i=t[0],a=t[1],n="number"===typeof i.xMax&&"number"===typeof i.xMin&&"number"===typeof i.yMax&&"number"===typeof i.yMin,o=a instanceof Image;n&&o&&new Promise((function(t){var i=setInterval((function(){document.getElementById("outer-frame")&&void 0!==e.$refs.map&&(clearInterval(i),t())}),100)})).then((function(){var t=document.getElementById("outer-frame").offsetWidth,n=e.scumMapBorder?(e.scumMapBorder.yMax-e.scumMapBorder.yMin)/(e.scumMapBorder.xMax-e.scumMapBorder.xMin):1;e.measuredWidth=t>=800?800:t,e.measuredHeight=t>=800?800*n:t*n,e.drawMapInit(i,a)}))}}}},oa=na,sa=(i("5a4b"),Object(_["a"])(oa,Qi,ta,!1,null,"469bda47",null)),ra=sa.exports,la={name:"LocationTools",components:{MapSelector:ra},data:function(){return{currentSelectedLocation:[],loadingMapSelector:!1}},mounted:function(){this.$message.info("可用鼠标或触屏手势放大/缩小/拖动地图")},methods:{doCopyCommands:function(t){var e=this;this.$copyText(t).then((function(t){e.$message.success("已复制到剪贴板")}),(function(t){e.$message.error("复制失败"),console.log("复制失败：",t)}))}}},ca=la,da=Object(_["a"])(ca,Zi,Ji,!1,null,"3556a4a6",null),pa=da.exports,ga={name:"Tools",components:{SteamInfoSearch:Xi,LocationTools:pa},data:function(){return{currentTab:"steam-info-search"}},mounted:function(){this.$route.query.category?this.currentTab=this.$route.query.category:(this.$router.push({path:"/tools",query:Object(c["a"])(Object(c["a"])({},this.$route.query),{},{category:"steam-info-search"})}),this.currentTab="steam-info-search")},methods:{}},ua=ga,ma=Object(_["a"])(ua,$i,zi,!1,null,"0adc005c",null),ha=ma.exports;n.a.use(D.a);var fa=[{path:"/",redirect:"/user-login"},{path:"/server-info",component:Y},{path:"/login",component:X},{path:"/user-login",component:bt},{path:"/kill",component:Pt},{path:"/admin-command",component:Mt},{path:"/chat-message",component:Et},{path:"/actions-record",component:Ee},{path:"/violations-record",component:Ve},{path:"/economy",component:ti},{path:"/chest-ownership-record",component:si},{path:"/vehicle-destruction-record",component:gi},{path:"/unrecognized-record",component:yi},{path:"/serverConfigs",component:Oi},{path:"/tools",component:ha}],va=D.a.prototype.push;D.a.prototype.push=function(t,e,i){return e||i?va.call(this,t,e,i):va.call(this,t).catch((function(t){return t}))};var ya=new D.a({routes:fa}),xa=ya;n.a.use(w.a);var Sa=new w.a.Store({state:{userInfo:{userName:null,email:null,phone:null,status:null,createdTimeStamp:null,steamId:null,role:null},serverStatus:{ServerIP:null,OnlinePlayers:null},loginLoading:!1,scumMapImageObject:null,scumMapBorder:{xMax:null,xMin:null,yMax:null,yMin:null}},mutations:{setUserInfo:function(t,e){t.userInfo=e},setServerStatus:function(t,e){t.serverStatus=e},setLoginLoading:function(t,e){t.loginLoading=e},setScumMapImageObject:function(t,e){t.scumMapImageObject=e},setMapBorder:function(t,e){t.scumMapBorder=e}},actions:{cleanUserInfos:function(t){return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.commit,i("setUserInfo",{userName:null,email:null,phone:null,status:null,createdTimeStamp:null,steamId:null,role:null});case 2:case"end":return e.stop()}}),e)})))()}},modules:{}}),wa=i("4e72"),ba=i.n(wa),La=(i("202f"),i("4eb5")),ka=i.n(La),Ia=i("164e");n.a.config.productionTip=!1,n.a.use(ba.a),n.a.use(ka.a),n.a.prototype.$echarts=Ia,new n.a({router:xa,store:Sa,render:function(t){return t(G)}}).$mount("#app")},5880:function(t,e){t.exports=Vuex},"5a4b":function(t,e,i){"use strict";i("4765")},"5c0b":function(t,e,i){"use strict";i("9c0ce")},"5ce9":function(t,e,i){},"60bb":function(t,e){t.exports=_},6389:function(t,e){t.exports=VueRouter},"7e24":function(t,e,i){},"8bbf":function(t,e){t.exports=Vue},"9c0ce":function(t,e,i){},ab64:function(t,e,i){"use strict";i("7e24")},c32d:function(t,e){t.exports=moment},c3b7:function(t,e,i){},cebe:function(t,e){t.exports=axios},d0b1:function(t,e,i){"use strict";i("5ce9")}});